<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Asset Flow Control UI</title><meta name="description" content="This is an experimental first UI for our Asset Flow Control System."><meta property="og:image" content="https://"><meta property="og:title" content="Asset Flow Control UI"><meta property="og:description" content="This is an experimental first UI for our Asset Flow Control System."><meta property="og:type" content="website"><meta property="og:url" content="https://"><meta property="og:locale" content="en_US"><link rel="manifest" href="manifest.json"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="viewport" content="width=device-width,initial-scale=1"><style>a,abbr,acronym,address,article,aside,b,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,nav,object,ol,p,pre,q,samp,section,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-size:100%;font:inherit;vertical-align:baseline}body{line-height:1;background-color:#070202;color:#feffff;font-family:Arial,Helvetica,sans-serif;text-align:center;font-size:12pt;height:100%;width:100%;overflow:hidden;background-size:cover;background-position:center;background-repeat:no-repeat}ol,ul{list-style:circle}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}a:hover,ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}a{transition:.2s ease-in-out;color:inherit;text-decoration:none}ul{margin:0 0 0 25px}b,strong{font-weight:700}i{font-style:italic}button,select,select:focus,textarea,textarea:focus{border:0;padding:7px;outline:0;line-height:normal;overflow:hidden}input,input:focus,input[type=checkcbox]:focus{border:0;outline:0;line-height:normal;overflow:hidden}button:hover,input[type=submit]:hover{border:0;padding:0;outline:0;line-height:normal;overflow:hidden}html{height:100%}h1{font-size:19pt}h2{font-size:15pt}p{font-size:12pt}p.sideline{font-size:9pt}input,option,select{width:100%;box-sizing:border-box;font-size:14pt}.hidden-templates{display:none}.disabled{opacity:.2;pointer-events:none}.icon-n-label,.icon-n-label-big{display:flex;flex-direction:row;align-items:center;justify-content:center}.icon-n-label svg{width:20px;height:20px;margin:0 5px}.icon-n-label-big svg{width:40px;height:40px;margin:0 10px}.icon-n-label-big .label{font-size:22pt}.danger-button,.flashy-button{padding:7px 10px;color:#fff;font-weight:700;border-radius:3px}.flashy-button{background-color:#c3a500}.danger-button{background-color:#600}.dark-select{border-radius:3px;background-color:#024;color:#fff}.dark-input{background-color:#024;color:#fff;text-align:center;padding:16px 20px;border-radius:3px}.button-box,.entry-box{display:grid;gap:20px;grid-template-columns:1fr 1fr}.entry-box{padding:10px;border-radius:3px;background-color:#000;color:#fff;box-shadow:0 0 5px rgba(0,34,68,.3);margin-bottom:40px}@media screen and (max-width:400px){.button-box,.entry-box{grid-template-columns:1fr}}#accountsettings p.sideline{margin-bottom:40px;text-align:center;line-height:17px}#accountsettings p.sideline svg{width:22px;height:22px;vertical-align:middle;margin-right:5px;position:relative;top:-4px}#accountsettings h1{margin-top:40px!important}#accountsettings h2{margin-bottom:7px}#accountsettings h3{margin:10px 0}#options-grid{margin-top:60px;padding-bottom:30px}#keyexport-frame,#keygeneration-frame,#keyimport-frame{display:none}#generate-key-button,#import-key-button{opacity:.2;pointer-events:none}#id-display{overflow:hidden;width:100%;background-color:#024;display:flex;padding:16px 7px;box-sizing:border-box}#id-display .display-frame-content{text-overflow:ellipsis;overflow:hidden;width:calc(100% - 15px)}#id-display .copy-icon{width:15px;height:15px}#id-qr-line{overflow:hidden;text-align:center}.no-key #delete-key-button,.no-key #export-key-button,.no-key #id-display,.no-key #id-qr-line{opacity:.2;pointer-events:none}.no-key #generate-key-button,.no-key #import-key-button{opacity:1;pointer-events:all}.generate-key #id-display-container,.generate-key #options-grid{display:none}.generate-key #keygeneration-frame{display:block}.import-key #id-display-container,.import-key #options-grid{display:none}.import-key #keyimport-frame{display:block}.export-key #id-display-container,.export-key #options-grid{display:none}.export-key #keyexport-frame{display:block}#keygeneration-frame h2{margin-top:50px;margin-bottom:7px}#keygeneration-key-id-display{background-color:#024;padding:16px 7px;box-sizing:border-box;margin-bottom:16px;overflow:hidden;text-overflow:ellipsis}#keygeneration-protected-indicator{margin-top:20px}#keygeneration-protected-indicator svg{height:30px;width:30px;margin-right:5px}#keygeneration-protected-indicator .label{line-height:30px;font-weight:700}#keygeneration-not-protected-indicator{color:orange}#keygeneration-phrase-protected-indicator,#keygeneration-qr-protected-indicator{color:#45d445;display:none}#keygeneration-protected-indicator.phrase-protected #keygeneration-not-protected-indicator{display:none}#keygeneration-protected-indicator.phrase-protected #keygeneration-phrase-protected-indicator{display:block}#keygeneration-protected-indicator.qr-protected #keygeneration-not-protected-indicator{display:none}#keygeneration-protected-indicator.qr-protected #keygeneration-qr-protected-indicator{display:block}#keygeneration-protection-options{margin-top:16px;margin-bottom:60px;display:grid;gap:20px}#keygeneration-protection-options .click-button{color:#000;opacity:.7;border:2px solid #000}#keygeneration-protection-options .click-button svg{height:25px;width:25px}#keygeneration-protection-options .click-button.active{color:#fff;opacity:1;border:2px solid #45d445}#keygeneration-conclusion-row{margin:30px 0}#keygeneration-conclusion-row #keygeneration-use-button{opacity:.2;pointer-events:none}#keygeneration-conclusion-row.acceptable #keygeneration-use-button{opacity:1;pointer-events:all}#keyimport-conclusion-row{margin:30px 0}.add-controller #addcontroller-frame{display:block}#addcontroller-frame{display:none;color:#000;padding:10px}#addcontroller-frame h1{text-align:center;margin-bottom:20px}#addcontroller-frame select#controller-select{border-radius:3px;background-color:#024;color:#fff;margin-bottom:30px}#addcontroller-frame label{padding:5px 20px;display:block}#addcontroller-frame input{display:block;margin-bottom:10px}#addcontroller-frame #addcontroller-conclusion-row{margin-top:50px;display:grid;gap:20px;grid-template-columns:1fr 1fr}#addcontroller-frame #addcontroller-conclusion-row .click-button{text-align:center}.add-exchange #addexchange-frame{display:block}#addexchange-frame{display:none;color:#000;padding:10px}#addexchange-frame h1{text-align:center;margin-bottom:20px}#addexchange-frame select#exchange-select{margin-bottom:30px}#addexchange-frame label{padding:5px 20px;display:block;text-align:left}#addexchange-frame input{display:block;margin-bottom:10px;text-align:left}#addexchange-frame #addexchange-conclusion-row{margin-top:50px}#backend-input-container{max-width:1024px;margin:auto;height:102px}#backend-checking-container h2,#backend-input-container h2{margin-bottom:7px;text-align:left}#backend-checking-container{max-width:1024px;height:150px;margin:30px auto}#backend-stated-server-id{width:100%;padding:16px 7px;box-sizing:border-box;border:none;overflow:hidden;text-overflow:ellipsis;border-radius:3px;background-color:#024}#backend-expected-server-id-input,#backend-server-input{width:100%;padding:7px;box-sizing:border-box;border:3px solid #666;overflow:hidden;text-overflow:ellipsis}#backend-expected-server-id-input{text-align:center}#backend-server-input:focus{width:100%;background-color:#fff}#backend-connection-fails-indicator,#backend-connection-works-indicator,#backend-id-differs-indicator,#backend-id-matches-indicator{display:none;text-align:left;margin-top:10px;margin-bottom:30px}#backend-connection-fails-indicator,#backend-id-differs-indicator{color:#d44545}#backend-connection-works-indicator,#backend-id-matches-indicator{color:#45d445}#backend-input-container.connected #backend-server-input{border:3px solid #45d445}#backend-input-container.connected #backend-connection-works-indicator{display:block}#backend-input-container.connection-fail #backend-server-input{border:3px solid #d44545}#backend-input-container.connection-fail #backend-connection-fails-indicator{display:block}#backend-input-container.typing #backend-server-input{border:3px solid orange}#backend-input-container.typing #backend-connection-fails-indicator,#backend-input-container.typing #backend-connection-works-indicator{display:none}#backend-conclusion-row{margin:auto auto 30px;max-width:1024px}#backend-server-explaination-text{margin:auto;max-width:1024px;text-align:left}.click-button{cursor:pointer;position:relative;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-button::after{content:"";width:100%;height:100%;position:absolute;top:0;left:0;border-radius:12px;display:inline-block;transform:scaleX(1.2) scaleY(1.2);opacity:0;transition:opacity .3s,transform .3s;background:#fff;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-button:active::after{transform:scaleX(0) scaleY(0);opacity:.8;transition:opacity,transform}.click-button:disabled{color:#888;background-color:#eee;filter:grayscale(100%)}.add-controller #apppreloader,.add-exchange #apppreloader,.click-button:disabled::after,.controller-overview #apppreloader,.exchange-overview #apppreloader,.global-view #apppreloader,.locked #apppreloader,.tutorial #apppreloader{display:none}#content{position:absolute;top:0;left:50%;width:100%;max-width:1024px;height:100%;padding:20px 0;box-sizing:border-box;transform:translateX(-50%);transition:opacity .3s;overflow:hidden;overflow-y:auto}#apppreloader{width:120px;max-width:30%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#000}#apppreloader .preloader{height:auto;width:100%;aspect-ratio:1}#data-manager-input{width:100%;padding:7px;box-sizing:border-box;border:3px solid #45d445;overflow:hidden;text-overflow:ellipsis}#data-manager-input:focus{width:100%;background-color:#fff}#data-manager-works-indicator{color:#45d445;text-align:left;margin-top:10px;margin-bottom:30px}#data-manager-button-container{display:flex;justify-content:space-between;margin-bottom:30px}#data-manager-button-container .click-button{background-color:grey;font-weight:700;min-width:120px;padding:10px;border-radius:3px}#data-manager-explaination-text{text-align:left}.global-view #globalview-frame{display:block}#globalview-frame{display:none;color:#000;padding:10px}#globalview-frame h1{text-align:center}#globalview-frame #total-evaluation-display{color:#fff;background-color:#024;display:flex;padding:20px 0;font-size:22pt;flex-direction:row;justify-content:center;gap:5px;border-radius:3px}#globalview-frame #all-exchanges-display{margin:60px 0}#globalview-frame .exchange-display-entry{margin-bottom:50px}#globalview-frame .exchange-display-entry .exchange-display-brand{justify-content:flex-start}#globalview-frame .exchange-display-entry .exchange-display-evaluation{display:flex;gap:5px;justify-content:flex-end;align-items:center;font-size:17pt;padding-right:20px}#globalview-frame .exchange-display-entry .exchange-access-indication{color:#fff;text-align:center}#globalview-frame .exchange-display-entry .exchange-access-indication .access-preloader{width:27px;height:27px;padding:5px}#globalview-frame .exchange-display-entry .exchange-access-indication .exchange-access-fail,#globalview-frame .exchange-display-entry .exchange-access-indication .exchange-access-success{padding:10px;border-radius:3px;display:none}#globalview-frame .exchange-display-entry .exchange-access-indication .exchange-access-success{background-color:#060}#globalview-frame .exchange-display-entry .exchange-access-indication .exchange-access-fail{background-color:#600}#globalview-frame .exchange-display-entry .exchange-access-indication.access .access-preloader{display:none}#globalview-frame .exchange-display-entry .exchange-access-indication.access .exchange-access-success{display:block}#globalview-frame .exchange-display-entry .exchange-access-indication.no-access .access-preloader{display:none}#globalview-frame .exchange-display-entry .exchange-access-indication.no-access .exchange-access-fail{display:block}@media screen and (max-width:500px){#addcontroller-frame #addcontroller-conclusion-row{grid-template-columns:1fr}#globalview-frame .exchange-display-entry .exchange-display-brand{justify-content:center}#globalview-frame .exchange-display-entry .exchange-display-evaluation{line-height:100%;justify-content:center;padding:0}#globalview-frame .exchange-display-entry .access-preloader{margin:auto}}#phraseinput-frame{position:absolute;top:0;left:0;z-index:299;height:100%;width:100%;overflow:hidden;background-color:#fff;display:flex;align-items:center;transform:translateY(-102%);opacity:0;transition:opacity .3s;pointer-events:none}#phraseinput-frame .click-catcher{position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}#phraseinput-frame #phraseinput-close-button{position:fixed;top:0;right:0;width:60px;height:60px;padding:15px;box-sizing:border-box;color:#000}#phraseinput-frame #phraseinput-close-button svg{width:30px;height:30px}#phraseinput-frame .phraseinput-container{position:absolute;top:0;left:50%;margin-top:100px;width:100%;max-width:1024px;padding:10px;box-sizing:border-box;transform:translateX(-50%)}#phraseinput-frame .phraseinput-container input{margin-top:16px;margin-bottom:30px}#phraseinput-frame.active{transform:translateY(0);opacity:1;pointer-events:all}.locked #lockedframe{display:block}#lockedframe{display:none;color:#000;padding:30px}#lockedframe h1{margin-top:50px;margin-bottom:30px;text-align:center}#lockedframe #big-lock-symbol{height:150px;width:150px;margin:auto}#lockedframe #big-lock-symbol svg{height:inherit;width:inherit}#messagebox{padding:12px;box-sizing:border-box;width:80%;background-color:#fff;border-radius:10px 10px 0 0;position:fixed;bottom:0;left:10%;transition:.5s;z-index:555;word-wrap:break-word}#messagebox.gone{transform:translateY(50px);opacity:0}#messagebox.error{background-color:red;color:#000;font-weight:700}#preloader-demo{display:flex;padding:20px;justify-content:space-between}#preloader-demo .preloader{color:#059862;width:80px;height:80px}.preloader{height:inherit;width:inherit;position:relative;transform:translateZ(0)}.dots .preloader-element-1,.dots .preloader-element-2,.dots .preloader-element-3{position:absolute;top:50%;transform:translate(-50%,-50%);height:20%;width:20%;border-radius:50%;animation:1.2s ease-in-out infinite dot-animation;box-sizing:border-box;background-color:currentcolor}.dots .preloader-element-1{left:17%;animation-delay:-.32s}.dots .preloader-element-2{left:50%;animation-delay:-.16s}.dots .preloader-element-3{left:83%}.dots .preloader-element-4{display:none}.spinner-1 .preloader-element-1,.spinner-1 position absolute{top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%;box-sizing:border-box;border-radius:50%;border:3px solid currentcolor;border-bottom-color:transparent;background-color:transparent;animation:.7s linear infinite spinner-animation}.spinner-1 .preloader-element-2,.spinner-1 .preloader-element-3,.spinner-1 .preloader-element-4{display:none}.spinner-2 .preloader-element-1,.spinner-2 position absolute{top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%;box-sizing:border-box;border-radius:50%;border:4px solid transparent;border-top:4px solid currentcolor;background-color:transparent;animation:.7s cubic-bezier(.53,.21,.29,.67) infinite spinner-animation}.spinner-2 .preloader-element-2{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%;box-sizing:border-box;border-radius:50%;border:3px solid currentcolor;opacity:.2;background-color:transparent}.spinner-2 .preloader-element-3,.spinner-2 .preloader-element-4{display:none}.squares{transform:rotate(45deg)}.squares .preloader-element-1,.squares .preloader-element-2,.squares .preloader-element-3,.squares .preloader-element-4{position:absolute;height:33%;width:33%;animation:1.6s linear infinite square-animation;box-sizing:border-box;background-color:currentcolor}.squares .preloader-element-1{top:16.5%;left:16.5%;animation-delay:-1.2s}.squares .preloader-element-2{top:16.5%;left:51.5%;animation-delay:-.8s}.squares .preloader-element-3{top:51.5%;left:51.5%;animation-delay:-.4s}.squares .preloader-element-4{top:51.5%;left:16.5%}.circles .preloader-element-1,.circles .preloader-element-2,.circles .preloader-element-3{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%;box-sizing:border-box;animation:1.2s linear infinite circle-animation;background-color:transparent;border:3px solid currentcolor;border-radius:50%}.circles .preloader-element-1{animation-delay:-.8s}.circles .preloader-element-2{animation-delay:-.4s}.circles .preloader-element-4{display:none}@-moz-keyframes dot-animation{0%,100%,80%{transform:translate(-50%,-50%) scale(0)}40%{transform:translate(-50%,-50%) scale(1)}}@-webkit-keyframes dot-animation{0%,100%,80%{transform:translate(-50%,-50%) scale(0)}40%{transform:translate(-50%,-50%) scale(1)}}@-o-keyframes dot-animation{0%,100%,80%{transform:translate(-50%,-50%) scale(0)}40%{transform:translate(-50%,-50%) scale(1)}}@keyframes dot-animation{0%,100%,80%{transform:translate(-50%,-50%) scale(0)}40%{transform:translate(-50%,-50%) scale(1)}}@-moz-keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-webkit-keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-o-keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-moz-keyframes square-animation{0%,100%{opacity:1}16%,84%{opacity:.5}32%,68%{opacity:.2}}@-webkit-keyframes square-animation{0%,100%{opacity:1}16%,84%{opacity:.5}32%,68%{opacity:.2}}@-o-keyframes square-animation{0%,100%{opacity:1}16%,84%{opacity:.5}32%,68%{opacity:.2}}@keyframes square-animation{0%,100%{opacity:1}16%,84%{opacity:.5}32%,68%{opacity:.2}}@-moz-keyframes circle-animation{0%{transform:translate(-50%,-50%) scale(0);opacity:0}60%{transform:translate(-50%,-50%) scale(.5);opacity:1}75%{opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}@-webkit-keyframes circle-animation{0%{transform:translate(-50%,-50%) scale(0);opacity:0}60%{transform:translate(-50%,-50%) scale(.5);opacity:1}75%{opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}@-o-keyframes circle-animation{0%{transform:translate(-50%,-50%) scale(0);opacity:0}60%{transform:translate(-50%,-50%) scale(.5);opacity:1}75%{opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}@keyframes circle-animation{0%{transform:translate(-50%,-50%) scale(0);opacity:0}60%{transform:translate(-50%,-50%) scale(.5);opacity:1}75%{opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}#qrdisplay-background{position:absolute;color:#feffff;top:0;left:0;z-index:299;height:100%;width:100%;overflow:hidden;transform:translateY(-102%);background-color:rgba(7,2,2,.4);opacity:0;transition:opacity .3s;pointer-events:none}#qrdisplay-content{padding:15px;color:#feffff;background-color:rgba(7,2,2,.8);word-break:break-all;text-align:center}#qrdisplay-qr{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:40px;color:#000;background-color:#fff}#qrdisplay-background.active{transform:translateY(0);opacity:1;pointer-events:all}#qrreader-background{position:absolute;top:0;left:0;z-index:299;height:100%;width:100%;overflow:hidden;background-color:#fff;display:flex;align-items:center;transform:translateY(-102%);opacity:0;transition:opacity .3s;pointer-events:none}#qrreader-background video{width:100vw;height:100vw;object-fit:cover}#qrreader-background.active{transform:translateY(0);opacity:1;pointer-events:all}#settings{position:absolute;top:0;left:0;width:100%;height:100%;padding:20px 0;box-sizing:border-box;overflow:hidden;transition:opacity .3s;opacity:0;overflow-y:auto;z-index:-1}.settings-entry{padding:15px 20px;font-size:15pt;text-align:left;line-height:110%;display:block;background-color:rgba(254,255,255,.05);border-bottom:1px solid rgba(254,255,255,.15)}.settings-entry .text{max-width:calc(100% - 30px);overflow:hidden;text-overflow:ellipsis;color:#feffff}.settings-entry .arrow{position:absolute;right:20px;top:50%;transform:translateY(-50%);color:rgba(254,255,255,.4)}.settings-entry .arrow svg{width:30px;height:30px}.icon-entry .text{max-width:calc(100% - 70px);overflow:hidden;text-overflow:ellipsis;position:relative;left:40px;color:#feffff}.icon-entry .icon{position:absolute;left:20px;top:50%;transform:translateY(-50%);color:#feffff}.icon-entry .icon svg{width:30px;height:30px}.settings-entry:last-child{border-bottom:none}.grouping-head{margin-top:30px;padding:15px 20px;font-size:13pt;text-align:right;color:rgba(254,255,255,.33)}.grouping-head:first-child{margin-top:5px}.settingspage{position:fixed;left:5px;width:calc(100% - 5px);height:100%;z-index:200;overflow:hidden;background-color:#070202;transition:opacity .3s;transform:translateX(102%);opacity:0}.settingspage.here{transform:translateX(0);opacity:1}.settingspage-top{position:fixed;display:flex;justify-content:space-between;align-items:center;top:0;right:0;width:100%;height:60px;padding:15px;box-sizing:border-box;background-color:#feffff;color:#070202;text-align:right}.settingspage-top svg{width:30px;height:30px}.settingspage-content{position:absolute;bottom:15px;left:15px;height:calc(100% - 90px);width:calc(100% - 30px);overflow:hidden;overflow-y:auto;padding-top:30px;box-sizing:border-box;color:#fff}.settingspage-title{text-align:left;font-size:15pt;margin-left:30px}header{position:fixed;width:100%;height:70px}#head-text{position:fixed;top:20px;left:30px;font-size:15pt;transition:transform .3s}#settings-text{position:fixed;top:20px;left:65px;font-size:20px;font-weight:700;color:#070202;transition:transform .3s;transform:translateX(100vw)}#settings-button{position:fixed;top:0;right:0;width:60px;height:60px;padding:15px;box-sizing:border-box;transition:transform .3s}#settings-button svg{width:30px;height:30px}body.settings #settings-button{transform:translateX(-100vw) translateX(100%) translateX(15px);color:#070202}body.settings #settings-text{transform:translateX(0)}body.settings #head-text{transform:translateX(-300px)}body.settings{background-color:#feffff;color:#070202}#settingsoff{position:fixed;top:0;right:0;width:60px;height:60px;padding:15px;box-sizing:border-box;transition:transform .3s;transform:translateX(102%);color:#070202;z-index:5}#settingsoff svg{width:30px;height:30px}main{position:fixed;bottom:0;left:5px;height:calc(100% - 60px);width:calc(100% - 5px);overflow:hidden;z-index:99;transition:background-color .3s;background-color:#feffff}body.settings main{background-color:#070202}body.settings #content{opacity:0;z-index:-1}body.settings #settings{opacity:1;z-index:20}body.settings #settingsoff{transform:translateX(0)}#svgicon-symbols{display:none}#svgicon-definitions{position:absolute;height:0;width:0;bottom:0;right:0}.tutorial #tutorialframe{display:block}#tutorialframe{display:none;color:#000;padding:30px}#tutorialframe h1{margin-bottom:20px}#tutorialframe p{margin-bottom:10px}#tutorialframe p.wish-paragraph{font-size:25pt;transform:rotate(-5deg);margin-top:40px;margin-left:auto;margin-right:0;width:fit-content}#tutorialframe .click-button{text-align:center;width:180px;margin:20px auto 40px}#tutorialframe #sample-settings-icon{height:15px;width:15px}#phraseunlock-frame{position:absolute;top:0;left:0;z-index:299;height:100%;width:100%;overflow:hidden;background-color:#fff;color:#000;display:flex;align-items:center;transform:translateY(-102%);opacity:0;transition:opacity .3s;pointer-events:none}#phraseunlock-frame .click-catcher{position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}#phraseunlock-frame #phraseunlock-close-button{position:fixed;top:0;right:0;width:60px;height:60px;padding:15px;box-sizing:border-box;color:#000}#phraseunlock-frame #phraseunlock-close-button svg{width:30px;height:30px}#phraseunlock-frame .phraseunlock-container{position:absolute;top:0;left:50%;margin-top:100px;width:100%;max-width:1024px;padding:10px;box-sizing:border-box;transform:translateX(-50%)}#phraseunlock-frame .phraseunlock-container input{margin-top:16px;margin-bottom:30px}#phraseunlock-frame.active{transform:translateY(0);opacity:1;pointer-events:all}.usermodal{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,.7);z-index:-1;opacity:0;transition:opacity .3s}.usermodal .click-catcher{position:absolute;top:0;left:0;width:100%;height:100%}.usermodal.shown{z-index:999;opacity:1}.modal-container{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-sizing:border-box;background-color:#fff;width:90%;border-radius:3px;overflow:hidden;box-shadow:0 0 5px rgba(0,0,0,.2)}.modal-container .modal-header{display:flex;justify-content:space-between;align-items:center;width:100%;border:none;background-color:rgba(255,255,255,.05);box-shadow:0 0 5px 1px rgba(0,0,0,.2);height:55px}.modal-container .modal-header svg{width:inherit;height:inherit}.modal-container .modal-header-title{padding-left:20px;padding-top:5px;font-size:16pt;font-weight:700}.modal-container .modal-close-button{height:30px;width:30px;padding-right:10px}.modal-container .modal-content{padding:20px 20px 30px}.modal-container .modal-actions{display:flex;align-items:center;gap:4px;width:100%;height:55px;padding:4px;box-sizing:border-box;box-shadow:0 0 5px 1px rgba(0,0,0,.2);background-color:rgba(255,255,255,.05)}.modal-container .modal-actions .click-button{flex-grow:1;border-radius:2px;background-color:#c3a500;padding:10px 20px;color:#fff;width:100%;box-sizing:border-box;text-align:center;font-size:15pt}.modal-container .modal-actions .click-button:hover{opacity:.8}#deleteconfirmation{color:#000}#deleteconfirmation .modal-content p{font-weight:700;font-size:13pt}#deleteconfirmation .modal-actions .modal-accept-button{background-color:#600;color:#fff}#deleteconfirmation .modal-actions .modal-cancel-button{background-color:transparent;font-size:12pt;color:#000}.controller-overview #controlleroverview-frame{display:block}#controlleroverview-frame{display:none;color:#000}#controlleroverview-frame h1{text-align:center}.exchange-overview #exchangeoverview-frame{display:block}#exchangeoverview-frame{display:none;color:#000;padding:10px}#exchangeoverview-frame h1{text-align:center}#exchangeoverview-frame #controller-display{margin:60px 0}#exchangeoverview-frame #exchange-evaluation-display{display:flex;font-size:22pt;flex-direction:row;justify-content:center;gap:5px}#exchangeoverview-frame #exchange-display{display:flex}#exchangeoverview-frame #exchange-display svg{height:50px;width:50px;margin-left:10px}#exchangeoverview-frame #exchange-display .label{font-size:25pt;line-height:50px}#exchangeoverview-frame .controller-display-entry{margin-bottom:50px}#exchangeoverview-frame .controller-display-label{font-size:22pt;line-height:40px}#exchangeoverview-frame .exchange-display-evaluation{display:flex;gap:5px;justify-content:flex-end;font-size:17pt;line-height:40px;padding-right:20px}</style></head><body><svg id="svgicon-definitions"><defs><filter id="svg-dropshadow-filter" height="130%" width="130%"><fegaussianblur in="SourceGraphic" stddeviation="3" result="blurOut"></fegaussianblur><feColorMatrix in="blurOut" type="saturate" values="0.25" result="shadowOut"></feColorMatrix><feblend in="SourceGraphic" in2="shadowOut" mode="normal"></feblend></filter></defs></svg> <svg id="svgicon-symbols"><symbol id="svg-cross-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"></path></symbol><symbol id="svg-menu-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"></path></symbol><symbol id="svg-chevron-left-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"></path></symbol><symbol id="svg-chevron-right-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></symbol><symbol id="svg-settings-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"></path></symbol><symbol id="svg-account-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"></path></symbol><symbol id="svg-key-shield-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,8A1,1 0 0,1 13,9A1,1 0 0,1 12,10A1,1 0 0,1 11,9A1,1 0 0,1 12,8M21,11C21,16.55 17.16,21.74 12,23C6.84,21.74 3,16.55 3,11V5L12,1L21,5V11M12,6A3,3 0 0,0 9,9C9,10.31 9.83,11.42 11,11.83V18H13V16H15V14H13V11.83C14.17,11.42 15,10.31 15,9A3,3 0 0,0 12,6Z"></path></symbol><symbol id="svg-data-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M4 4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6H12L10 4M11 10C12.3 10 13.4 10.8 13.8 12H20V14H18V16H16V14H13.8C13.4 15.2 12.3 16 11 16C9.3 16 8 14.7 8 13S9.3 10 11 10M11 12C10.4 12 10 12.4 10 13C10 13.6 10.4 14 11 14C11.6 14 12 13.6 12 13S11.6 12 11 12Z"></path></symbol><symbol id="svg-server-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M13,19H14A1,1 0 0,1 15,20H22V22H15A1,1 0 0,1 14,23H10A1,1 0 0,1 9,22H2V20H9A1,1 0 0,1 10,19H11V17H4A1,1 0 0,1 3,16V12A1,1 0 0,1 4,11H20A1,1 0 0,1 21,12V16A1,1 0 0,1 20,17H13V19M4,3H20A1,1 0 0,1 21,4V8A1,1 0 0,1 20,9H4A1,1 0 0,1 3,8V4A1,1 0 0,1 4,3M9,7H10V5H9V7M9,15H10V13H9V15M5,5V7H7V5H5M5,13V15H7V13H5Z"></path></symbol><symbol id="svg-signal-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12 10C10.9 10 10 10.9 10 12S10.9 14 12 14 14 13.1 14 12 13.1 10 12 10M18 12C18 8.7 15.3 6 12 6S6 8.7 6 12C6 14.2 7.2 16.1 9 17.2L10 15.5C8.8 14.8 8 13.5 8 12.1C8 9.9 9.8 8.1 12 8.1S16 9.9 16 12.1C16 13.6 15.2 14.9 14 15.5L15 17.2C16.8 16.2 18 14.2 18 12M12 2C6.5 2 2 6.5 2 12C2 15.7 4 18.9 7 20.6L8 18.9C5.6 17.5 4 14.9 4 12C4 7.6 7.6 4 12 4S20 7.6 20 12C20 15 18.4 17.5 16 18.9L17 20.6C20 18.9 22 15.7 22 12C22 6.5 17.5 2 12 2Z"></path></symbol><symbol id="svg-stun-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M8,10V13H14V18H8V21L2,15.5L8,10M22,8.5L16,3V6H10V11H16V14L22,8.5Z"></path></symbol><symbol id="svg-qrscan-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M4,4H10V10H4V4M20,4V10H14V4H20M14,15H16V13H14V11H16V13H18V11H20V13H18V15H20V18H18V20H16V18H13V20H11V16H14V15M16,15V18H18V15H16M4,20V14H10V20H4M6,6V8H8V6H6M16,6V8H18V6H16M6,16V18H8V16H6M4,11H6V13H4V11M9,11H13V15H11V13H9V11M11,6H13V10H11V6M2,2V6H0V2A2,2 0 0,1 2,0H6V2H2M22,0A2,2 0 0,1 24,2V6H22V2H18V0H22M2,18V22H6V24H2A2,2 0 0,1 0,22V18H2M22,22V18H24V22A2,2 0 0,1 22,24H18V22H22Z"></path></symbol><symbol id="svg-qrcode-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"></path></symbol><symbol id="svg-code-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z"></path></symbol><symbol id="svg-check-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-add-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"></path></symbol><symbol id="svg-copy-icon" preserveAspectRatio="xMidYMid meet" viewBox="-21 0 512 512"><path fill="currentColor" d="m325.332031 512h-266.664062c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-288c0-32.363281 26.304688-58.664062 58.667969-58.664062h10.664062c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16h-10.664062c-14.699219 0-26.667969 11.964843-26.667969 26.664062v288c0 14.699219 11.96875 26.667969 26.667969 26.667969h266.664062c14.699219 0 26.667969-11.96875 26.667969-26.667969v-10.664062c0-8.832031 7.167969-16 16-16s16 7.167969 16 16v10.664062c0 32.363281-26.304688 58.667969-58.667969 58.667969zm0 0"></path><path fill="currentColor" d="m410.667969 384h-224c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-266.664062c0-32.363281 26.304688-58.667969 58.667969-58.667969h224c32.363281 0 58.664062 26.304688 58.664062 58.667969v266.664062c0 32.363281-26.300781 58.667969-58.664062 58.667969zm-224-352c-14.699219 0-26.667969 11.96875-26.667969 26.667969v266.664062c0 14.699219 11.96875 26.667969 26.667969 26.667969h224c14.699219 0 26.664062-11.96875 26.664062-26.667969v-266.664062c0-14.699219-11.964843-26.667969-26.664062-26.667969zm0 0"></path></symbol><symbol id="svg-trash-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z"></path></symbol><symbol id="svg-gitub-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-export-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M23,12L19,8V11H10V13H19V16M1,18V6C1,4.89 1.9,4 3,4H15A2,2 0 0,1 17,6V9H15V6H3V18H15V15H17V18A2,2 0 0,1 15,20H3A2,2 0 0,1 1,18Z"></path></symbol><symbol id="svg-import-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M14,12L10,8V11H2V13H10V16M20,18V6C20,4.89 19.1,4 18,4H6A2,2 0 0,0 4,6V9H6V6H18V18H6V15H4V18A2,2 0 0,0 6,20H18A2,2 0 0,0 20,18Z"></path></symbol><symbol id="svg-notice-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M11.5,3C16.75,3 21,7.25 21,12.5C21,17.75 16.75,22 11.5,22C6.25,22 2,17.75 2,12.5C2,7.25 6.25,3 11.5,3M11.5,4C6.81,4 3,7.81 3,12.5C3,17.19 6.81,21 11.5,21C16.19,21 20,17.19 20,12.5C20,7.81 16.19,4 11.5,4M11,17V15H12V17H11M11,13V8H12V13H11Z"></path></symbol><symbol id="svg-refresh-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"></path></symbol><symbol id="svg-lock-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"></path></symbol><symbol id="svg-unlock-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10A2,2 0 0,1 6,8H15V6A3,3 0 0,0 12,3A3,3 0 0,0 9,6H7A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,17A2,2 0 0,0 14,15A2,2 0 0,0 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17Z"></path></symbol><symbol id="svg-unprotected-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 132.29 132.29"><path fill="currentColor" d="m66.146 0.57568-40.405 19.848-12.409-12.704-4.3537 4.2525 11.014 11.275-4.5263 2.2236v35.103c0 32.987 21.465 63.485 50.68 71.141 14.162-3.7109 26.491-12.798 35.448-24.925l17.366 17.779 4.3537-4.2519-18.236-18.67c7.4112-11.964 11.748-26.264 11.748-41.073v-35.103l-50.68-24.896zm0 6.9086 44.718 21.909v31.182c0 13.185-3.7275 25.934-10.075 36.681l-70.518-72.195 35.876-17.577zm-41.629 20.396 72.861 74.594c-7.9375 11.066-18.834 19.385-31.232 22.832-25.519-7.0954-44.718-34.793-44.718-64.73v-31.182l3.0882-1.5131z"></path></symbol><symbol id="svg-qr-protected-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 132.29 132.29"><path fill="currentColor" d="m66.146 0.57568-50.68 24.896v35.103c0 32.987 21.465 63.485 50.68 71.141 29.215-7.6556 50.68-38.153 50.68-71.141v-35.103l-50.68-24.896zm0 6.9086 44.718 21.909v31.182c0 29.938-19.199 57.635-44.718 64.73-25.519-7.0954-44.718-34.793-44.718-64.73v-31.182l44.718-21.909zm-24.279 34.383v16.186h16.186v-16.186h-16.186zm32.372 0v16.186h16.186v-16.186h-16.186zm-26.977 5.395h5.3955v5.3955h-5.3955v-5.3955zm16.186 0v10.791h5.395v-10.791h-5.395zm16.186 0h5.3955v5.3955h-5.3955v-5.3955zm-37.767 16.186v5.395h5.395v-5.395h-5.395zm16.186 0v5.395h5.3955v5.3955h5.395v-10.791h-10.791zm16.186 0v5.395h5.395v-5.395h-5.395zm5.395 5.395v5.3955h5.3955v-5.3955h-5.3955zm5.3955 0h5.395v-5.395h-5.395v5.395zm0 5.3955v10.791h5.395v-10.791h-5.395zm0 10.791h-5.3955v5.395h5.3955v-5.395zm-5.3955 0v-10.791h-5.395v5.395h-10.791v10.791h5.395v-5.395h10.791zm-37.767-10.791v16.186h16.186v-16.186h-16.186zm5.395 5.395h5.3955v5.3955h-5.3955v-5.3955z"></path></symbol><symbol id="svg-phrase-protected-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 132.29 132.29"><path fill="currentColor" d="m66.146 0.57568-50.68 24.896v35.103c0 32.987 21.465 63.485 50.68 71.141 29.215-7.6556 50.68-38.153 50.68-71.141v-35.103l-50.68-24.896zm0 6.9086 44.718 21.909v31.182c0 29.938-19.199 57.635-44.718 64.73-25.519-7.0954-44.718-34.793-44.718-64.73v-31.182l44.718-21.909zm0 30.126v5.7071h5.7071a2.8536 2.8536 0 0 1 2.8536 2.8536v39.95a2.8536 2.8536 0 0 1-2.8536 2.8536h-5.7071v5.7071h7.1339c1.5695 0 4.2804-1.2841 4.2804-2.8536 0 1.5695 2.7109 2.8536 4.2804 2.8536h7.1339v-5.7071h-5.7071a2.8536 2.8536 0 0 1-2.8536-2.8536v-5.7071h14.268v-28.536h-14.268v-5.7071a2.8536 2.8536 0 0 1 2.8536-2.8536h5.7071v-5.7071h-7.1339c-1.5695 0-4.2804 1.2841-4.2804 2.8536 0-1.5695-2.7109-2.8536-4.2804-2.8536h-7.1339zm-28.536 14.268v28.536h31.389v-5.7071h-25.682v-17.121h25.682v-5.7071h-31.389zm42.804 5.7071h8.5607v17.121h-8.5607v-17.121zm-28.536 4.2804a4.2804 4.2804 0 0 0-4.2804 4.2804 4.2804 4.2804 0 0 0 4.2804 4.2804 4.2804 4.2804 0 0 0 4.2804-4.2804 4.2804 4.2804 0 0 0-4.2804-4.2804zm14.043 0.007234c-1.0951 0.057066-2.1724 0.53496-2.9714 1.4196-1.598 1.7122-1.4551 4.4228 0.34262 6.0208 1.5695 1.4839 4.0806 1.4839 5.7071 0v-6.3345c-0.87034-0.799-1.9833-1.1629-3.0784-1.1059z"></path></symbol><symbol id="svg-kraken-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 600 450"><path fill="#4B4C9B" d="M288.4,80.9c31.9-2.1,64.3,4.3,92.9,18.6c42.2,20.7,75.8,58.2,91.7,102.4 c7,19.5,10.8,40.2,10.8,60.9v77c0,3.1,0.1,6.4-0.6,9.4c-1.7,7.8-7.2,14.6-14.6,17.9c-5.1,2.4-10.9,2.7-16.3,1.8 c-11.8-2.2-20.8-13.2-21-25.1c-0.1-23.9,0-47.7,0-71.7c0.2-6.8,0.2-14-3.5-20c-5.9-11-20.4-16.3-32-11.6c-9.8,3.5-17,13.4-17.1,23.9 c-0.1,24.3,0,48.5,0,72.7c0,4.5,0.2,9.2-1.1,13.5c-2.5,8.5-9.6,15.4-18.1,17.8c-11.2,3.1-24.1-1.8-29.8-12.2 c-3.9-6.3-3.6-13.8-3.5-20.7c-0.1-24.1,0.1-48.2-0.1-72.3c-0.2-12.2-10.3-23.2-22.5-24.8c-7.9-1.2-16.2,1.4-21.9,7 c-5.2,4.9-8.1,11.9-8.1,19v70.2c-0.1,5.9,0.6,12-1.6,17.5c-3.5,10-13.6,17.4-24.3,17.1c-10.9,0.6-21.6-6.9-25.1-17.2 c-1.9-5.1-1.5-10.5-1.5-15.9c0-24.2,0.1-48.4,0-72.7c-0.1-12-9.4-22.9-21.2-25.1c-10.6-2.3-22.4,3.1-27.8,12.7 c-2.3,4-3.5,8.6-3.5,13.2V343c0.1,7.7-3.5,15.2-9.3,20.1c-8.9,7.8-23.2,8.2-32.6,1.1c-6.8-4.6-10.8-12.5-10.8-20.7v-79.6 c0.1-30.1,7.7-60.2,22-86.6c11.8-21.6,27.9-40.9,47.2-56.3C214.6,97.3,251.1,83.2,288.4,80.9z"></path></symbol><symbol id="svg-binance-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 126.61 126.61"><g fill="#f3ba2f"><path d="m38.73 53.2 24.59-24.58 24.6 24.6 14.3-14.31-38.9-38.91-38.9 38.9z"></path><path d="m0 63.31 14.3-14.31 14.31 14.31-14.31 14.3z"></path><path d="m38.73 73.41 24.59 24.59 24.6-24.6 14.31 14.29-38.9 38.91-38.91-38.88z"></path><path d="m98 63.31 14.3-14.31 14.31 14.3-14.31 14.32z"></path><path d="m77.83 63.3-14.51-14.52-10.73 10.73-1.24 1.23-2.54 2.54 14.51 14.5 14.51-14.47z"></path></g></symbol><symbol id="svg-bybit-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 87 34"><path d="M62.0083 25.3572V3H66.5022V25.3572H62.0083Z" fill="#F7A600"></path><path d="M9.63407 31.9983H0V9.64111H9.24666C13.7406 9.64111 16.3591 12.0903 16.3591 15.9214C16.3591 18.4013 14.6774 20.0039 13.5134 20.5375C14.9028 21.1652 16.6813 22.5779 16.6813 25.5624C16.6813 29.7373 13.7406 31.9983 9.63407 31.9983ZM8.89096 13.5355H4.4939V18.6852H8.89096C10.7981 18.6852 11.8652 17.6488 11.8652 16.1095C11.8652 14.5719 10.7981 13.5355 8.89096 13.5355ZM9.18151 22.6104H4.4939V28.1056H9.18151C11.2189 28.1056 12.1874 26.8503 12.1874 25.3418C12.1874 23.835 11.2171 22.6104 9.18151 22.6104Z" fill="white"></path><path d="M30.3882 22.8293V31.9983H25.926V22.8293L19.0073 9.64111H23.8886L28.1888 18.6527L32.4239 9.64111H37.3052L30.3882 22.8293Z" fill="white"></path><path d="M50.0457 31.9983H40.4116V9.64111H49.6583C54.1522 9.64111 56.7707 12.0903 56.7707 15.9214C56.7707 18.4013 55.089 20.0039 53.925 20.5375C55.3144 21.1652 57.093 22.5779 57.093 25.5624C57.093 29.7373 54.1522 31.9983 50.0457 31.9983ZM49.3026 13.5355H44.9055V18.6852H49.3026C51.2097 18.6852 52.2768 17.6488 52.2768 16.1095C52.2768 14.5719 51.2097 13.5355 49.3026 13.5355ZM49.5931 22.6104H44.9055V28.1056H49.5931C51.6305 28.1056 52.599 26.8503 52.599 25.3418C52.599 23.835 51.6305 22.6104 49.5931 22.6104Z" fill="white"></path><path d="M80.986 13.5355V32H76.4921V13.5355H70.4785V9.64111H86.9996V13.5355H80.986Z" fill="white"></path></symbol></svg><div id="qrdisplay-background"><div id="qrdisplay-content"></div><div id="qrdisplay-qr"></div></div><div class="gone" id="messagebox"></div><div id="qrreader-background"><video id="qrreader-video-element"></video></div><div id="phraseinput-frame"><div class="click-catcher"><div class="click-button" id="phraseinput-close-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div class="phraseinput-container"><h2>Secret Phrase for Protection</h2><input class="dark-input" id="phraseinput" type="password" name="secret-phrase"><div class="button-box"><div class="click-button flashy-button" id="accept-phrase-button">Okay</div><div class="click-button flashy-button" id="cancel-phrase-button">Cancel</div></div></div></div><div id="phraseunlock-frame"><div class="click-catcher"><div class="click-button" id="phraseunlock-close-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div class="phraseunlock-container"><h2>Unlock With Secret Phrase</h2><input class="dark-input" id="phraseunlock-input" type="password" name="secret-phrase"><div class="button-box"><div class="click-button flashy-button" id="unlock-button">Unlock</div><div class="click-button flashy-button" id="cancel-unlock-button">Cancel</div></div></div></div><div class="settingspage" id="settingspage-account"><div class="settingspage-top"><div class="settingspage-title">Account</div><div class="settingspage-backbutton click-button"><svg><use href="#svg-chevron-left-icon"></use></svg></div></div><div class="settingspage-content"><div id="accountsettings"><p class="sideline"><svg><use href="#svg-notice-icon"></use></svg>By importing or generating any key I understand that - whenever using said key - the associated account will be identifiable by its ID.</p><div id="id-display-container"><h2>Your ID</h2><div class="text-display-frame click-button" id="id-display"><div class="display-frame-content"></div><svg class="copy-icon"><use href="#svg-copy-icon"></use></svg></div><div id="id-qr-line"><div class="click-button flashy-button icon-n-label" id="id-qr-button"><svg><use href="#svg-qrcode-icon"></use></svg><div class="label">Show ID QR</div></div></div></div><div id="keygeneration-frame"><p>A new Key as been generated.</p><h2 id="keygeneration-key-id-label">New Key ID</h2><div id="keygeneration-key-id-display"></div><div class="click-button flashy-button icon-n-label" id="keygeneration-regeneration-button"><svg><use href="#svg-refresh-icon"></use></svg><div class="label">Regenerate New Key</div></div><div id="keygeneration-protected-indicator"><div id="keygeneration-not-protected-indicator"><svg><use href="#svg-unprotected-icon"></use></svg><div class="label">This Key is currently unprotected</div></div><div id="keygeneration-phrase-protected-indicator"><svg><use href="#svg-phrase-protected-icon"></use></svg><div class="label">This key is Protected with a Secret Phrase</div></div><div id="keygeneration-qr-protected-indicator"><svg><use href="#svg-qr-protected-icon"></use></svg><div class="label">This key is Protected with a Qr Code</div></div></div><h2>Define Key Protection?</h2><div id="keygeneration-protection-options"><div class="click-button flashy-button icon-n-label" id="keygeneration-keep-unprotected"><svg><use href="#svg-unprotected-icon"></use></svg><div class="label">Go Raw and Unprotected</div></div><div class="click-button flashy-button icon-n-label" id="keygeneration-phrase-protect"><svg><use href="#svg-phrase-protected-icon"></use></svg><div class="label">Protect with Secret Phrase</div></div><div class="click-button flashy-button icon-n-label" id="keygeneration-qr-protect"><svg><use href="#svg-qr-protected-icon"></use></svg><div class="label">Protect with Qr Code</div></div></div><div class="button-box" id="keygeneration-conclusion-row"><div class="click-button flashy-button" id="keygeneration-use-button"><div class="label">Use</div></div><div class="click-button flashy-button" id="keygeneration-cancel-button"><div class="label">Cancel</div></div></div></div><div id="keyimport-frame"><p>Key Import not ready yet.</p></div><div id="keyexport-frame"><p>Export Function not ready yet :-)</p></div><div class="button-box" id="options-grid"><div class="click-button flashy-button icon-n-label" id="generate-key-button"><svg><use href="#svg-add-icon"></use></svg><div class="label">Generate</div></div><div class="click-button flashy-button icon-n-label" id="import-key-button"><svg><use href="#svg-import-icon"></use></svg><div class="label">Import</div></div><div class="click-button flashy-button icon-n-label" id="export-key-button"><svg><use href="#svg-export-icon"></use></svg><div class="label">Export</div></div><div class="click-button danger-button icon-n-label" id="delete-key-button"><svg><use href="#svg-trash-icon"></use></svg><div class="label">Delete</div></div></div></div></div></div><div class="settingspage" id="settingspage-backend"><div class="settingspage-top"><div class="settingspage-title">Backend Server</div><div class="settingspage-backbutton click-button"><svg><use href="#svg-chevron-left-icon"></use></svg></div></div><div class="settingspage-content"><div id="backend-input-container"><h2>Server URL</h2><input id="backend-server-input"><div id="backend-connection-works-indicator">Server is ready</div><div id="backend-connection-fails-indicator">Connecion Error!</div></div><div id="backend-checking-container"><h2>Server Id</h2><div id="backend-stated-server-id"></div></div><div class="button-box" id="backend-conclusion-row"><div class="click-button flashy-button" id="backend-server-save-button">Save</div><div class="click-button flashy-button" id="backend-server-reset-button">Reset</div></div><p id="backend-server-explaination-text">This is the Server used that both ends would know eachother - it must be compatible with our API.<br><br><link-to-api-doc></link-to-api-doc></p></div></div><div class="usermodal" id="deleteconfirmation"><div class="click-catcher"></div><div class="modal-container"><div class="modal-header"><h2 class="modal-header-title">Sure?</h2><div class="modal-close-button click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div class="modal-content"><p>Please confirm deletion of your Key.<br>It cannot be undone.</p></div><div class="modal-actions"><div class="modal-accept-button click-button">Delete</div><div class="modal-cancel-button click-button">No!</div></div></div></div><header><div id="head-text">Asset Flow Control UI</div><div class="click-button" id="settings-button"><svg><use href="#svg-settings-icon"></use></svg></div><div id="settings-text">Settings</div></header><div id="settingsoff"><div class="click-button" id="settingsoff-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><main><div id="content"><div id="apppreloader"><div class="preloader squares" id="squares"><div class="preloader-element-1"></div><div class="preloader-element-2"></div><div class="preloader-element-3"></div><div class="preloader-element-4"></div></div></div><div id="lockedframe"><div id="big-lock-symbol"><svg><use href="#svg-lock-icon"></use></svg></div><h1>Your Key is Locked</h1><div class="button-box" id="locked-options-row"><div class="click-button flashy-button icon-n-label" id="locked-unlock-button"><svg><use href="#svg-unlock-icon"></use></svg><div class="label">Unlock</div></div><div class="click-button danger-button icon-n-label" id="locked-delete-button"><svg><use href="#svg-trash-icon"></use></svg><div class="label">Delete</div></div></div></div><div id="tutorialframe"><h1>Welcome to the Asset Flow Control System</h1><p>You read this because the UI does not have any key available yet.</p><div class="click-button flashy-button" id="tutorial-configure-key-button">Set Key</div><p>To access the acount settings later, please use the settings menu on the top-right ( <svg id="sample-settings-icon"><use href="#svg-settings-icon"></use></svg> ).</p><p>Also: Make sure that yor backend server is configured correctly ;-)</p></div><div class="hidden-templates"><div id="exchange-display-entry-template-container"><li class="exchange-display-entry entry-box" index="{{{i}}}"><div class="exchange-display-brand icon-n-label-big"><svg><use href="{{{iconHref}}}"></use></svg><div class="label">{{{name}}}</div></div><div class="exchange-display-evaluation"><div class="exchange-display-evaluation-number">{{{currentEvaluation}}}</div><div class="exchange-display-evaluation-unit">{{{evaluationUnit}}}</div></div><div class="exchange-access-indication"><div class="access-preloader"><div class="preloader circles" id=""><div class="preloader-element-1"></div><div class="preloader-element-2"></div><div class="preloader-element-3"></div><div class="preloader-element-4"></div></div></div><div class="exchange-access-success">Connected</div><div class="exchange-access-fail">Not Connected</div></div><div class="exchange-overview-button click-button flashy-button icon-n-label"><svg><use href="#svg-chevron-right-icon"></use></svg><div class="label">Control</div></div></li></div></div><div id="globalview-frame"><div id="total-evaluation-display"><div id="total-evaluation-number"></div><div id="total-evaluation-unit"></div></div><div id="total-distribution-display"><div id="total-distribution-pie"></div><ul id="total-distribution-assets"></ul></div><ul id="all-exchanges-display"><li class="exchange-display-entry"><div class="exchange-display-brand"><svg><use href="#svg-kraken-icon"></use></svg><div class="label">Kraken</div></div><div class="exchange-display-evaluation"><div class="exchange-display-evaluation-number">1000.213</div><div class="exchange-display-evaluation-unit"></div></div><div class="empty-cell"></div><div class="exchange-overview-button click-button"><svg><use href="#svg-chevron-right-icon"></use></svg><div class="label">Control</div></div></li><li class="exchange-display-entry"><div class="exchange-display-brand"><svg><use href="#svg-binance-icon"></use></svg><div class="label">Binance</div></div><div class="exchange-display-evaluation"><div class="exchange-display-evaluation-number">2000.213</div><div class="exchange-display-evaluation-unit"></div></div><div class="ampty-cell"></div><div class="exchange-overview-button click-button"><svg><use href="#svg-chevron-right-icon"></use></svg><div class="label">Control</div></div></li></ul><div class="click-button flashy-button icon-n-label" id="add-exchange-button"><svg><use href="#svg-add-icon"></use></svg><div class="label">Add Exchange</div></div></div><div id="addexchange-frame"><h1>Choose your Exchange to Add</h1><select class="dark-select" id="exchange-select"></select> <label for="apikey-input">API (Access) Key</label> <input class="dark-input" id="apikey-input" type="password" name="apikey"> <label for="secretkey-input">API Private/Secret Key</label> <input class="dark-input" id="secretkey-input" type="password" name="apisecretkey"><div class="button-box" id="addexchange-conclusion-row"><div class="click-button flashy-button disabled" id="addexchange-use-button"><div class="label">Use</div></div><div class="click-button flashy-button" id="addexchange-cancel-button"><div class="label">Cancel</div></div></div></div><div class="hidden-templates"><div id="controller-display-entry-template-container"><li class="controller-display-entry entry-box"><div class="controller-display-label">{{{name}}}</div><div class="controller-display-state">{{{currentState}}}</div><div class="controller-overview-button click-button flashy-button icon-n-label"><svg><use href="#svg-chevron-right-icon"></use></svg><div class="label">Manage</div></div></li></div></div><div id="exchangeoverview-frame"><div id="exchange-display"><svg id="exchange-icon-display"><use href=""></use></svg><div class="label" id="exchange-name-display"></div></div><div id="exchange-evaluation-display"><div id="exchange-evaluation-number"></div><div id="exchange-evaluation-unit"></div></div><div id="exchange-evaluation-history-display"><div id="exchange-evaluation-history"></div></div><div id="exchange-distribution-display"><div id="exchange-distribution"></div></div><ul id="controller-display"></ul><div class="click-button flashy-button icon-n-label" id="add-controller-button"><svg><use href="#svg-add-icon"></use></svg><div class="label">Add Controller</div></div></div><div id="addcontroller-frame"><h1>Choose your Controller to Add</h1><select id="controller-select"></select><div id="addcontroller-conclusion-row"><div class="click-button flashy-button disabled" id="addcontroller-use-button"><div class="label">Use</div></div><div class="click-button flashy-button" id="addcontroller-cancel-button"><div class="label">Cancel</div></div></div></div><div id="controlleroverview-frame"></div></div><div id="settings"><div class="grouping-head">Account Settings</div><div class="settings-group"><div class="settings-entry click-button icon-entry" id="settingsentry-account"><div class="icon"><svg><use href="#svg-account-icon"></use></svg></div><div class="text">Account</div><div class="arrow"><svg><use href="#svg-chevron-right-icon"></use></svg></div></div></div><div class="grouping-head">Backend Settings</div><div class="settings-group"><div class="settings-entry click-button icon-entry" id="settingsentry-backend"><div class="icon"><svg><use href="#svg-server-icon"></use></svg></div><div class="text">Backend Server</div><div class="arrow"><svg><use href="#svg-chevron-right-icon"></use></svg></div></div></div></div></main><script>(()=>{var u,d,c,n={962:(e,t,n)=>{n.r(t),n.d(t,{nothing:()=>r});var r=null},13:function(t,e,n){!function(){var e={name:"indexdomconnect",initialize:function(){n.g.content=document.getElementById("content"),n.g.controllerSelect=document.getElementById("controller-select"),n.g.addcontrollerUseButton=document.getElementById("addcontroller-use-button"),n.g.addcontrollerCancelButton=document.getElementById("addcontroller-cancel-button"),n.g.exchangeNameDisplay=document.getElementById("exchange-name-display"),n.g.exchangeEvaluationNumber=document.getElementById("exchange-evaluation-number"),n.g.exchangeEvaluationUnit=document.getElementById("exchange-evaluation-unit"),n.g.addControllerButton=document.getElementById("add-controller-button"),n.g.exchangeSelect=document.getElementById("exchange-select"),n.g.apikeyInput=document.getElementById("apikey-input"),n.g.secretkeyInput=document.getElementById("secretkey-input"),n.g.addexchangeUseButton=document.getElementById("addexchange-use-button"),n.g.addexchangeCancelButton=document.getElementById("addexchange-cancel-button"),n.g.globalviewFrame=document.getElementById("globalview-frame"),n.g.totalEvaluationNumber=document.getElementById("total-evaluation-number"),n.g.totalEvaluationUnit=document.getElementById("total-evaluation-unit"),n.g.allExchangesDisplay=document.getElementById("all-exchanges-display"),n.g.addExchangeButton=document.getElementById("add-exchange-button"),n.g.tutorialConfigureKeyButton=document.getElementById("tutorial-configure-key-button"),n.g.lockedUnlockButton=document.getElementById("locked-unlock-button"),n.g.lockedDeleteButton=document.getElementById("locked-delete-button"),n.g.settingsButton=document.getElementById("settings-button"),n.g.settingsoffButton=document.getElementById("settingsoff-button"),n.g.deleteconfirmation=document.getElementById("deleteconfirmation"),n.g.backendInputContainer=document.getElementById("backend-input-container"),n.g.backendServerInput=document.getElementById("backend-server-input"),n.g.backendStatedServerId=document.getElementById("backend-stated-server-id"),n.g.backendServerSaveButton=document.getElementById("backend-server-save-button"),n.g.backendServerResetButton=document.getElementById("backend-server-reset-button"),n.g.accountsettings=document.getElementById("accountsettings"),n.g.idDisplay=document.getElementById("id-display"),n.g.idQrButton=document.getElementById("id-qr-button"),n.g.generateKeyButton=document.getElementById("generate-key-button"),n.g.importKeyButton=document.getElementById("import-key-button"),n.g.exportKeyButton=document.getElementById("export-key-button"),n.g.deleteKeyButton=document.getElementById("delete-key-button"),n.g.settingsButton=document.getElementById("settings-button"),n.g.settingsoffButton=document.getElementById("settingsoff-button"),n.g.phraseunlockFrame=document.getElementById("phraseunlock-frame"),n.g.phraseunlockInput=document.getElementById("phraseunlock-input"),n.g.unlockButton=document.getElementById("unlock-button"),n.g.cancelUnlockButton=document.getElementById("cancel-unlock-button"),n.g.phraseinputFrame=document.getElementById("phraseinput-frame"),n.g.phraseinput=document.getElementById("phraseinput"),n.g.acceptPhraseButton=document.getElementById("accept-phrase-button"),n.g.cancelPhraseButton=document.getElementById("cancel-phrase-button"),n.g.qrreaderBackground=document.getElementById("qrreader-background"),n.g.qrreaderVideoElement=document.getElementById("qrreader-video-element"),n.g.messagebox=document.getElementById("messagebox"),n.g.qrdisplayBackground=document.getElementById("qrdisplay-background"),n.g.qrdisplayContent=document.getElementById("qrdisplay-content"),n.g.qrdisplayQr=document.getElementById("qrdisplay-qr")}};t.exports=e}.call(this)},426:function(v,e,w){!function(){var o,n,r,s,c,a,i,l,u,d,t,h,e,f,g,m,p={name:"statemodule"},y=function(e){null!=allModules.debugmodule.modulesToDebug.statemodule&&console.log("[statemodule]: "+e)};try{l=w(962)}catch(e){}m=null,o={},d={},a={},h=function(){var e,t;for(t in m=null!=(m=localStorage.getItem("state"))?JSON.parse(m):{})null==(e=m[t])&&(e=null),null!=e&&null!=e.content||(m[t]={content:e}),o[t]=m[t];for(t in l)e=l[t],null==o[t]&&(o[t]={content:e,isVolatile:!0})},u=function(e,t){return e!==t},c=function(e,t){var n=a[e]||u;return null==o[e]||(o[e].content,n(o[e].content,t))},t=function(e){var t;return y("loadDedicated"),t=localStorage.getItem(e),t=JSON.parse(t),o[e]={content:t,isDedicated:!0},t},f=function(e){var t;y("saveDedicatedState"),t=o[e].content,o[e].isDedicated=!0,t=JSON.stringify(t),localStorage.setItem(e,t)},g=function(){var e;y("saveRegularState"),e=JSON.stringify(m),localStorage.setItem("state",e)},r=function(e,t,n,r){var a,i=null!=o[e]&&o[e].isVolatile;if("boolean"!=typeof n&&(n=null!=o[e]&&!0===o[e].isDedicated),null!=o[e]){if(a=o[e].isDedicated?n!==o[e].isDedicated:n,!(c(e,t)||i||a))return;o[e].content=t,n&&(o[e].isDedicated=!0),a&&!n&&(localStorage.removeItem(e),delete o[e].isDedicated),i&&delete o[e].isVolatile}else o[e]={content:t,isDedicated:n};if(n?(f(e),null!=m[e]&&(delete m[e],g())):(null==m[e]&&(m[e]=o[e]),g()),!r)return s(e)},e=function(){for(var e in y("saveAllStates"),o)o[e].isDedicated&&f(e);g()},n=function(e,t,n){if(c(e,t)){try{o[e].content=t}catch(n){o[e]={content:t,isVolatile:!0}}if(!n)return s(e)}},i=function(e){var t;if(1!==(t=Object.keys(e)).length)throw new Error("Object did not have exactly one Member!");return{key:t=t[0],content:e[t]}},s=async function(a){var i,e;if(null!=d[a])return e=(()=>{for(var e,t=[],n=0,r=(e=d[a]).length;n<r;n++)i=e[n],t.push(i());return t})(),Promise.all(e)},p.getState=function(){return o},p.load=function(e){return y("statemodule.load"),null!=o[e]&&o[e].isVolatile?o[e].content:null==o[e]||o[e].isDedicated?t(e):(h(),o[e].content)},p.save=function(e,t,n){if(y("statemodule.save"),null!=e)return"object"==typeof e&&({key:e,content:t}=i(e)),null==t&&null==n?f(e):r(e,t,n,!1)},p.saveSilently=function(e,t,n){return y("statemodule.saveSilently"),"object"==typeof e&&({key:e,content:t}=i(e)),r(e,t,n,!0)},p.saveAll=e,p.saveRegularState=g,p.remove=function(e){y("statemodule.remove"),null!=o[e]&&(o[e].isVolatile?delete o[e]:o[e].isDedicated?(localStorage.removeItem(e),delete o[e]):(delete o[e],delete m[e],g()))},p.get=function(e){if(null!=o[e])return o[e].content},p.set=function(e,t){y("statemodule.set"),"object"==typeof e&&({key:e,content:t}=i(e)),n(e,t,!1)},p.setSilently=function(e,t){y("statemodule.setSilently"),"object"==typeof e&&({key:e,content:t}=i(e)),n(e,t,!0)},p.addOnChangeListener=function(e,t){y("statemodule.addOnChangeListener"),null==d[e]&&(d[e]=[]),d[e].push(t)},p.removeOnChangeListener=function(e,t){var n,r,a,i;if(y("statemodule.removeOnChangeListener"),null!=(n=d[e])){for(r=a=0,i=n.length;a<i;r=++a)if(n[r]===t)return y("candidate found at: "+r),n[r]=n[n.length-1],void n.pop();y("No candidate found for given function!")}},p.clearOnChangeListeners=function(e,t){y("statemodule.clearOnChangeListener"),d[e]=[]},p.callOutChange=function(e){return s(e)},p.setChangeDetectionFunction=function(e,t){null==t?delete a[e]:a[e]=t},h(),v.exports=p}.call(this)}},r={};function M(e){var t=r[e];return void 0!==t||(t=r[e]={exports:{}},n[e].call(t.exports,t,t.exports,M)),t.exports}M.m=n,M.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return M.d(t,{a:t}),t},M.d=(e,t)=>{for(var n in t)M.o(t,n)&&!M.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},M.f={},M.e=n=>Promise.all(Object.keys(M.f).reduce((e,t)=>(M.f[t](n,e),e),[])),M.u=e=>e+".js",M.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),M.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u={},d="bot-network-ui-experiment:",M.l=(r,e,t,n)=>{if(u[r])u[r].push(e);else{var a,i;if(void 0!==t)for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var c=o[s];if(c.getAttribute("src")==r||c.getAttribute("data-webpack")==d+t){a=c;break}}a||(i=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,M.nc&&a.setAttribute("nonce",M.nc),a.setAttribute("data-webpack",d+t),a.src=r),u[r]=[e];var e=(e,t)=>{a.onerror=a.onload=null,clearTimeout(l);var n=u[r];if(delete u[r],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach(e=>e(t)),e)return e(t)},l=setTimeout(e.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=e.bind(null,a.onerror),a.onload=e.bind(null,a.onload),i&&document.head.appendChild(a)}},M.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},M.p="",c={57:0},M.f.j=(n,e)=>{var t,r,a=M.o(c,n)?c[n]:void 0;0!==a&&(a?e.push(a[2]):(t=new Promise((e,t)=>a=c[n]=[e,t]),e.push(a[2]=t),e=M.p+M.u(n),r=new Error,M.l(e,e=>{var t;M.o(c,n)&&(0!==(a=c[n])&&(c[n]=void 0),a)&&(t=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,r.message="Loading chunk "+n+" failed.\n("+t+": "+e+")",r.name="ChunkLoadError",r.type=t,r.request=e,a[1](r))},"chunk-"+n,n)))},xe=(e,t)=>{var n,r,[a,i,o]=t,s=0;if(a.some(e=>0!==c[e])){for(n in i)M.o(i,n)&&(M.m[n]=i[n]);o&&o(M)}for(e&&e(t);s<a.length;s++)r=a[s],M.o(c,r)&&c[r]&&c[r][0](),c[r]=0},(Ie=self.webpackChunkbot_network_ui_experiment=self.webpackChunkbot_network_ui_experiment||[]).forEach(xe.bind(null,0)),Ie.push=xe.bind(null,Ie.push.bind(Ie));{var Ee={},xe=(M.r(Ee),M.d(Ee,{error:()=>At,info:()=>Pt,initialize:()=>qt}),{}),Ie=(M.r(xe),M.d(xe,{add0x:()=>Dt,copyToClipboard:()=>jt,hexXOR:()=>Ut,isValidKey:()=>$t,seedToKey:()=>Mt,strip0x:()=>Kt}),{}),Se=(M.r(Ie),M.d(Ie,{displayCode:()=>Zt,initialize:()=>Qt}),{}),Ce=(M.r(Se),M.d(Se,{displayKeyId:()=>cr,initialize:()=>tr,setOff:()=>hr,setToKeyExport:()=>dr,setToKeyGeneration:()=>lr,setToKeyImport:()=>ur}),{}),Be=(M.r(Ce),M.d(Ce,{appVersion:()=>fr,cryptoContext:()=>gr,qrScanNoFilter:()=>mr}),{}),_e=(M.r(Be),M.d(Be,{deleteAccount:()=>Nr,getCryptoNode:()=>Sr,getKeyInfo:()=>Lr,hasKey:()=>Cr,initialize:()=>pr,isLocked:()=>Br,keyIsLocked:()=>_r,unlockKey:()=>Or,useNewKey:()=>Tr}),{}),Le=(M.r(_e),M.d(_e,{initialize:()=>ba,loadEncryptedData:()=>Ea,saveDataEncrypted:()=>xa}),{}),Ne=(M.r(Le),M.d(Le,{initialize:()=>Ia}),{}),Te=(M.r(Ne),M.d(Ne,{initialize:()=>La}),{}),Oe=(M.r(Te),M.d(Te,{decrypt:()=>wi,encrypt:()=>vi,focusFloatingSecretInput:()=>Ei,getAuthMasterClient:()=>bi,getStorageId:()=>ki,initialize:()=>pi,isSet:()=>yi}),{}),qe=(M.r(Oe),M.d(Oe,{getAliasForId:()=>Ci,getIdForAlias:()=>Bi,initialize:()=>xi,loadForStorageId:()=>Si,setAliasForId:()=>_i}),{}),He=(M.r(qe),M.d(qe,{setToAddControllerState:()=>Fi,setToAddExchangeState:()=>ji,setToControllerOverviewState:()=>Vi,setToExchangeOverviewState:()=>zi,setToGlobalOverviewState:()=>$i,setToLockedKeyState:()=>Mi,setToTutorialState:()=>Ui}),{}),Re=(M.r(He),M.d(He,{initialize:()=>Wi,setExchangeOverviewContext:()=>Gi}),{}),Pe=(M.r(Re),M.d(Re,{initialize:()=>Zi,switchSettingsOff:()=>io,switchSettingsOn:()=>ao}),{}),Ae=(M.r(Pe),M.d(Pe,{allowNonHex:()=>ko,initialize:()=>mo,read:()=>bo,stop:()=>Eo}),{}),De=(M.r(Ae),M.d(Ae,{initialize:()=>xo,reset:()=>No,retrievePhrase:()=>To,retrieveQrCode:()=>Oo}),{}),Ke=(M.r(De),M.d(De,{initialize:()=>qo,phraseUnlock:()=>$o,qrUnlock:()=>Mo,reset:()=>Uo}),{}),Ue=(M.r(Ke),M.d(Ke,{applyUIState:()=>as,applyUIStateBase:()=>is,applyUIStateModifier:()=>os,getBase:()=>cs,getContext:()=>ls,getModifier:()=>ss}),{}),Me=(M.r(Ue),M.d(Ue,{initialize:()=>ms}),{}),$e=(M.r(Me),M.d(Me,{initialize:()=>Ss}),{}),je=(M.r($e),M.d($e,{initialize:()=>ic}),{}),ze=(M.r(je),M.d(je,{initialize:()=>pc}),{}),Fe=(M.r(ze),M.d(ze,{modulesToDebug:()=>yc}),{}),Ve=(M.r(Fe),M.d(Fe,{initialize:()=>Bc}),{}),We=(M.r(Ve),M.d(Ve,{initialize:()=>Dc}),{}),Je=(M.r(We),M.d(We,{createClient:()=>Wc}),{}),Qe=(M.r(Je),M.d(Je,{initialize:()=>Jc}),{}),Ge=(M.r(Qe),M.d(Qe,{initialize:()=>Zc}),{}),Ze=(M.r(Ge),M.d(Ge,{initialize:()=>tl}),{});function $(t){var n;return{log:n=function(e){Xe[t]&&console.log("["+t+"]: "+e)},olog:function(e){return n("\n"+Ye(e))}}}M.r(Ze),M.d(Ze,{initialize:()=>al});var Xe,Ye,et,tt,nt,rt,at,it={};M.r(it),M.d(it,{initialize:()=>il}),Ye=function(e){return JSON.stringify(e,null,4)},Xe={};let u=2n**255n-19n,s=2n**252n+27742317777372353535851937790883648493n,e=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,t=0x6666666666666666666666666666666666666666666666666666666666666658n,h={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:u,n:s,h:8,Gx:e,Gy:t},d=(e="")=>{throw new Error(e)},a=e=>"string"==typeof e,c=(e,t)=>{return!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name)||"number"==typeof t&&0<t&&e.length!==t?d("Uint8Array of valid length expected"):e;var n},i=e=>new Uint8Array(e),f=(e,t)=>c(a(e)?o(e):i(c(e)),t),g=(e,t=u)=>{e%=t;return 0n<=e?e:t+e},m=e=>e instanceof be?e:d("Point expected");class be{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new be(e.x,e.y,1n,g(e.x*e.y))}static fromHex(e,t=!1){var n=h.d,r=(e=f(e,32)).slice(),e=e[31],r=(r[31]=-129&e,v(r)),a=(!t||0n<=r&&r<2n**256n||d("bad y coord 1"),t||0n<=r&&r<u||d("bad y coord 2"),g(r*r)),i=g(a-1n),n=g(n*a+1n);let{isValid:o,value:s}=x(i,n);o||d("bad y coordinate 3");a=1n===(1n&s),i=!!(128&e);return!t&&0n===s&&i&&d("bad y coord 3"),i!=a&&(s=g(-s)),new be(s,r,1n,g(s*r))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){var{ex:t,ey:n,ez:r}=this,{ex:e,ey:a,ez:i}=m(e),t=g(t*i),e=g(e*r),n=g(n*i),i=g(a*r);return t===e&&n===i}is0(){return this.equals(y)}negate(){return new be(g(-this.ex),this.ey,this.ez,g(-this.et))}double(){var{ex:e,ey:t,ez:n}=this,r=h.a,a=g(e*e),i=g(t*t),n=g(2n*g(n*n)),r=g(r*a),e=e+t,t=g(g(e*e)-a-i),e=r+i,a=e-n,n=r-i,r=g(t*a),i=g(e*n),t=g(t*n),n=g(a*e);return new be(r,i,n,t)}add(e){var{ex:t,ey:n,ez:r,et:a}=this,{ex:e,ey:i,ez:o,et:s}=m(e),{a:c,d:l}=h,u=g(t*e),d=g(n*i),a=g(a*l*s),l=g(r*o),s=g((t+n)*(e+i)-u-d),r=g(l-a),o=g(l+a),t=g(d-c*u),n=g(s*r),e=g(o*t),i=g(s*t),l=g(r*o);return new be(n,e,l,i)}mul(t,n=!0){if(0n===t)return!0===n?d("cannot multiply by 0"):y;if("bigint"==typeof t&&0n<t&&t<s||d("invalid scalar, must be < L"),!n&&this.is0()||1n===t)return this;if(this.equals(p))return K(t).p;let r=y,a=p;for(let e=this;0n<t;e=e.double(),t>>=1n)1n&t?r=r.add(e):n&&(a=a.add(e));return r}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(h.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(s/2n,!1).double();return(e=e.add(this)).is0()}toAffine(){var e,{ex:t,ey:n,ez:r}=this;return this.equals(y)?{x:0n,y:1n}:(e=b(r),1n!==g(r*e)&&d("invalid inverse"),{x:g(t*e),y:g(n*e)})}toRawBytes(){var{x:e,y:t}=this.toAffine(),t=l(t);return t[31]|=1n&e?128:0,t}toHex(){return r(this.toRawBytes())}}be.BASE=new be(e,t,1n,g(e*t)),be.ZERO=new be(0n,1n,1n,0n);let{BASE:p,ZERO:y}=be,n=(e,t)=>e.toString(16).padStart(t,"0"),r=e=>Array.from(e).map(e=>n(e,2)).join(""),o=t=>{var e=t.length,n=((!a(t)||e%2)&&d("hex invalid 1"),i(e/2));for(let e=0;e<n.length;e++){var r=2*e,r=t.slice(r,2+r),r=Number.parseInt(r,16);(Number.isNaN(r)||r<0)&&d("hex invalid 2"),n[e]=r}return n},l=e=>o(n(e,64)).reverse(),v=e=>BigInt("0x"+r(i(c(e)).reverse())),w=(...e)=>{let t=i(e.reduce((e,t)=>e+c(t).length,0)),n=0;return e.forEach(e=>{t.set(e,n),n+=e.length}),t},b=(e,t=u)=>{(0n===e||t<=0n)&&d("no inverse n="+e+" mod="+t);let a=g(e,t),i=t,o=0n,s=1n,c=1n,l=0n;for(;0n!==a;){let e=i/a,t=i%a,n=o-c*e,r=s-l*e;i=a,a=t,o=c,s=l,c=n,l=r}return 1n===i?g(o,t):d("no inverse")},k=(e,t)=>{let n=e;for(;0n<t--;)n=(n*=n)%u;return n},E=19681161376707505956807079304988542015446066515923890162744021073123829784752n,x=(e,t)=>{var n=g(t*t*t),r=(s=e*g(n*n*t),i=s*s%u*s%u,i=k(i,2n)*i%u,i=k(i,1n)*s%u,i=k(i,5n)*i%u,o=k(i,10n)*i%u,o=k(o,20n)*o%u,o=k(o,40n)*o%u,r=k(o,80n)*o%u,r=k(r,80n)*o%u,o=k(r,10n)*i%u,k(o,2n)*s%u);let a=g(e*n*r);var i=g(t*a*a),o=a,s=g(a*E),n=i===e,r=i===g(-e),t=i===g(-e*E);return n&&(a=o),(r||t)&&(a=s),{isValid:n||r,value:a=1n===(1n&g(a))?g(-a):a}},I=e=>g(v(e),s),S,C=(...e)=>N.sha512Async(...e),P=(...e)=>"function"==typeof S?S(...e):d("etc.sha512Sync not set"),A=e=>{var t=e.slice(0,32),e=(t[0]&=248,t[31]&=127,t[31]|=64,e.slice(32,64)),n=I(t),r=p.mul(n),a=r.toRawBytes();return{head:t,prefix:e,scalar:n,point:r,pointBytes:a}},B=e=>C(f(e,32)).then(A),_=e=>B(e).then(e=>e.pointBytes);function ot(e,t){return e?C(t.hashable).then(t.finish):t.finish(P(t.hashable))}let D={zip215:!0},L=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,N={bytesToHex:r,hexToBytes:o,concatBytes:w,mod:g,invert:b,randomBytes:(e=32)=>{var t=L();return t&&t.getRandomValues||d("crypto.getRandomValues must be defined"),t.getRandomValues(i(e))},sha512Async:async(...e)=>{var t=L(),e=(t&&t.subtle||d("crypto.subtle or etc.sha512Async must be defined"),w(...e));return i(await t.subtle.digest("SHA-512",e.buffer))},sha512Sync:void 0},T=(Object.defineProperties(N,{sha512Sync:{configurable:!1,get:()=>S,set(e){S=S||e}}}),()=>N.randomBytes(32)),O,K=n=>{var r=O=O||(()=>{var t=[];let n=p,r=n;for(let e=0;e<33;e++){r=n,t.push(r);for(let e=1;e<128;e++)r=r.add(n),t.push(r);n=r.double()}return t})(),a=(e,t)=>{var n=t.negate();return e?n:t};let i=y,o=p;var s=BigInt(255),c=BigInt(8);for(let t=0;t<33;t++){var l=128*t;let e=Number(n&s);n>>=c,128<e&&(e-=256,n+=1n);var u=l,l=l+Math.abs(e)-1,d=t%2!=0,h=e<0;0===e?o=o.add(a(d,r[u])):i=i.add(a(h,r[l]))}return{p:i,f:o}};function j(e){for(var t,n=new Uint8Array(e.length/2),r=t=0,a=e.length;t<a;r=t+=2)n[r/2]=rt[e[r]]+et[e[r+1]];return n}async function st(e){return e="string"==typeof e?xt(e):e,e=await It.digest("SHA-512",e),z(e)}async function ct(e){return e="string"==typeof e?xt(e):e,new Uint8Array(await It.digest("SHA-512",e))}async function lt(e){return e=await _(e),z(e)}async function ut(e,t){return e=await(async(e,t)=>{e=f(e),t=await B(t);return ot(!0,((e,t,n)=>{let{pointBytes:r,scalar:a}=e,i=I(t),o=p.mul(i).toRawBytes();return{hashable:w(o,r,n),finish:e=>{e=g(i+I(e)*a,s);return c(w(o,l(e)),64)}}})(t,await C(t.prefix,e),e))})(xt(e),j(t)),z(e)}async function dt(e,t,n){var r,e=j(e),t=j(t),n=xt(n);return e=e,n=n,t=t,r=D,ot(!0,((e,t,n,r)=>{t=f(t),e=f(e,64);let a=r.zip215,i,o,s,c,l=new Uint8Array;try{i=be.fromHex(n,a),o=be.fromHex(e.slice(0,32),a),s=v(e.slice(32,64)),c=p.mul(s,!1),l=w(o.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:l,finish:e=>null!=c&&!(!a&&i.isSmallOrder())&&(e=I(e),o.add(i.mul(e,!1)).add(c.negate()).clearCofactor().is0())}})(e,n,t,r))}async function ht(e,t){var t=be.fromHex(t),n=T(),r=Bt(await ct(n)),n=await _(n),t=t.multiply(r),r=await st(t.toRawBytes());return t=e,r=(e=r).substring(0,32),e=e.substring(32,96),r=j(r),t=(e=>{var t,n,r,a,i,o,s,c,l,u,d,h=(e=xt(e)).length,f=new Uint8Array(1);for(window.crypto.getRandomValues(f),u=33+(127&f[0]),l=new Uint8Array(u),window.crypto.getRandomValues(l),h=(f=(s=3+u)+h)+(o=32-f%32),c=new Uint8Array(h),r=a=0,i=e.length;a<i;r=++a)t=e[r],c[r+s]=t;for(d=0,r=32;r--;)d+=l[r],c[r]=l[r];for(c[2+u]=o,r=0,n=h-1;r<o;)c[n-r]=l[r],r++;for(r=32;r<u;)l[r+1]+=d===256*l[r]+l[r+1],d+=l[r],c[r]=l[r],r++;return c[u]=d>>8,c[1+u]=d%256,c[u]===c[u-1]&&c[1+u]===2*c[u]&&(c[u-1]++,c[u]=++d>>8,c[1+u]=d%256),c})(t),e=await Ct(e),r=await It.encrypt({name:"AES-CBC",iv:r},e,t),e=await z(r),{referencePointHex:z(n),encryptedContentHex:e}}async function ft(e,t){var n=e.referencePointHex||e.referencePoint,e=e.encryptedContentHex||e.encryptedContent;if(null==n||null==e)throw new Error("Invalid secrets Object!");return t=j(t),t=Bt(await ct(t)),n=be.fromHex(n).multiply(t),(async(e,t)=>{for(var n,r,a,i,o=t.substring(0,32),t=t.substring(32,96),o=j(o),e=j(e),t=await Ct(t),o=await It.decrypt({name:"AES-CBC",iv:o},t,e),s=new Uint8Array(o),c=(e=160<(t=s.length)?160:t)+1,l=0,u=32;u--;)l+=s[u];for(u=32;u<c;){if(l===256*s[u]+s[u+1]){i=u+3,a=s[u+2];break}l+=s[u],u++}if(e<u)throw new Error("Unsalt: No valid prefix ending found!");for(n=t-1,r=u=0;u<a;)r+=s[u]!==s[n-u],u++;if(r)throw new Error("Unsalt: Postfix and prefix did not match as expected!");return e=s=s.slice(i,n=t-a),tt.decode(e)})(e,await st(n.toRawBytes()))}async function gt(e,t,n=""){for(var r,a,i,o,e=j(e),e=Bt(await ct(e)),s=be.fromHex(t).multiply(e).toRawBytes(),c=xt(n),l=new Uint8Array(s.length+c.length),u=a=0,d=s.length;a<d;u=++a)r=s[u],l[u]=r;for(u=i=0,o=c.length;i<o;u=++i)r=c[u],l[s.length+u]=r;return st(l)}nt=new TextEncoder("utf-8"),tt=new TextDecoder("utf-8"),kc=new Array(256).fill(0),at=kc.map(function(e,t){return t.toString(16).padStart(2,"0")}),kc.map(function(e,t){return BigInt(t)}),kc=Array.from("0123456789abcdef"),rt=new Array(256),kc.forEach(function(e){return rt[e]=16*parseInt(e,16)}),et=new Array(256),kc.forEach(function(e){return et[e]=parseInt(e,16)});var mt,pt,yt,vt,wt,bt,kt,Et,xt=function(e){return nt.encode(e)},z=function(e){for(var t,n,r="",a=0,i=(n=new Uint8Array(e)).length;a<i;a++)t=n[a],r+=at[t];return r},It=window.crypto.subtle,St=BigInt(2)**BigInt(252)+BigInt("27742317777372353535851937790883648493"),Ct=async function(e){e=j(e);return It.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt","encrypt"])},Bt=function(e){var o;return(o=e.slice(0,32))[0]&=248,o[31]&=127,o[31]|=64,e=(e=>{for(var t,n,r=0n,a=n=0,i=(e=new Uint8Array(o)).length;n<i;a=++n)t=e[a],r+=BigInt(t)<<8n*BigInt(a);return r})(),_t(e)},_t=function(e,t=St){return 0n<=(e=e%t)?e:e+t},Lt=async function(e){e="string"==typeof e?xt(e):e,e=await It.digest("SHA-256",e);return z(e)},Nt=ut,Tt=dt,Ot=class{constructor(e){this.key=e.secretKeyHex,this.id=e.publicKeyHex,this.ctx=e.context,null==this.ctx&&(this.ctx="standard ThingyCryptoNode")}async sign(e){return Nt(e,this.key)}async verify(e,t){return Tt(e,this.id,t)}async encrypt(e){return ht(e,this.id)}async decrypt(e){return ft(e,this.key)}async diffieHellmanFor(e,t,n){t=`${t}:${this.ctx}_`+n;return gt(this.key,e,t)}},F=M(426),qt=({log:pt,olog:yt}=$("messageboxmodule"),vt=5e3,mt=null,function(){var e;pt("messageboxmodule.initialize"),null!=(e=allModules.configmodule).messageboxStayDurationMS&&(vt=e.messageboxStayDurationMS)}),Ht=function(){pt("letDisappear"),null!=mt&&clearTimeout(mt),mt=setTimeout(Rt,vt)},Rt=function(){pt("disappear"),messagebox.textContent="",messagebox.className="gone",mt=null},Pt=function(e){pt("messageboxmodule.info"),"string"==typeof e&&(messagebox.textContent=e,messagebox.className="",Ht())},At=function(e){pt("messageboxmodule.error"),"string"==typeof e&&(messagebox.textContent=e,messagebox.className="error",Ht())},Dt=({log:wt,olog:bt}=$("utilsmodule"),function(e){if(null==e)throw new Error("add0x - undefined argument!");return"0"===e[0]&&"x"===e[1]?e:"0x"+e}),Kt=function(e){if(null==e)throw new Error("strip0x - undefined argument!");return"0"!==e[0]||"x"!==e[1]?e:e.slice(2)},Ut=function(e,t){var n,r,a,i,o,s,c;if(e.length!==t.length)throw new Error("Keys must have same length!");for(i=j(e),c=j(t),s=new Uint8Array(i.length),n=r=0,o=i.length;r<o;n=++r)a=i[n],s[n]=a^c[n];return z(s)},Mt=async function(e){var e=await st(e),t=2*parseInt(e[0],16);return e.substr(t,64)},$t=function(e){var t,n,r;if(null!=e){if(64!==(e=Kt(e)).length)return!1;for(n=0,r=e.length;n<r;n++)if(t=e[n],NaN===parseInt(t,16))return!1;return!0}},jt=async function(e){var t;try{return await navigator.clipboard.writeText(e),wt("Clipboard API succeeded"),void(null!=Ee&&Pt("Copied: "+e))}catch(e){wt(e)}(t=document.createElement("textarea")).value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-99999px",document.body.appendChild(t),document.getSelection().removeAllRanges(),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t),null!=Ee&&Pt("Copied: "+e)};function V(e){var t=this;e="object"==typeof e?e:{},t.revision=3,t.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},t.toTable=e.toTable,t.domElement=t.toTable?document.createElement("div"):document.createElement("canvas"),t.url=e.url||"",t.size=e.size||280,t.qrc=!1,t.colorLight=e.colorLight||"#fff",t.colorDark=e.colorDark||"#000",t.ecclevel=e.ecclevel||1,t.noBorder=e.noBorder,t.borderSize=e.borderSize||4;function h(e,t){var n;for(I[e+y*t]=1,n=-2;n<2;n++)I[e+n+y*(t-2)]=1,I[e-2+y*(t+n+1)]=1,I[e+2+y*(t+n)]=1,I[e+n+1+y*(t+2)]=1;for(n=0;n<2;n++)_(e-1,t+n),_(e+1,t-n),_(e-n,t-1),_(e+n,t+1)}function f(e,t,n,r){for(var a,i,o=V.gexp,s=V.glog,c=0;c<r;c++)E[n+c]=0;for(c=0;c<t;c++){if(255!=(i=s[E[e+c]^E[n]]))for(a=1;a<r;a++)E[n+a-1]=E[n+a]^o[L(i+B[r-a])];else for(a=n;a<n+r;a++)E[a]=E[a+1];E[n+r-1]=255==i?0:o[L(i+B[0])]}}function g(e){var t,n,r,a;switch(e){case 0:for(n=0;n<y;n++)for(t=0;t<y;t++)t+n&1||N(t,n)||(I[t+n*y]^=1);break;case 1:for(n=0;n<y;n++)for(t=0;t<y;t++)1&n||N(t,n)||(I[t+n*y]^=1);break;case 2:for(n=0;n<y;n++)for(t=r=0;t<y;t++,r++)(r=3==r?0:r)||N(t,n)||(I[t+n*y]^=1);break;case 3:for(n=a=0;n<y;n++,a++)for(r=a=3==a?0:a,t=0;t<y;t++,r++)(r=3==r?0:r)||N(t,n)||(I[t+n*y]^=1);break;case 4:for(n=0;n<y;n++)for(a=n>>1&1,t=r=0;t<y;t++,r++)3==r&&(r=0,a=!a),a||N(t,n)||(I[t+n*y]^=1);break;case 5:for(n=a=0;n<y;n++,a++)for(3==a&&(a=0),t=r=0;t<y;t++,r++)(t&n&1)+!(!(r=3==r?0:r)|!a)||N(t,n)||(I[t+n*y]^=1);break;case 6:for(n=a=0;n<y;n++,a++)for(3==a&&(a=0),t=r=0;t<y;t++,r++)(t&n&1)+((r=3==r?0:r)&&r==a)&1||N(t,n)||(I[t+n*y]^=1);break;case 7:for(n=a=0;n<y;n++,a++)for(3==a&&(a=0),t=r=0;t<y;t++,r++)((r=3==r?0:r)&&r==a)+(t+n&1)&1||N(t,n)||(I[t+n*y]^=1)}}var m,p,y,v,w,b,k,E=[],x=[],I=[],S=[],C=[],B=[],_=function(e,t){var n;t<e&&(n=e,e=t,t=n),S[n=((n=(n=t)*t+t)>>1)+e]=1},L=function(e){for(;255<=e;)e=((e-=255)>>8)+(255&e);return e},N=function(e,t){var n;return t<e&&(n=e,e=t,t=n),n=t,S[n=((n+=t*t)>>1)+e]},T=function(e){for(var t=0,n=0;n<=e;n++)5<=C[n]&&(t+=V.N1+C[n]-5);for(n=3;n<e-1;n+=2)C[n-2]==C[n+2]&&C[n+2]==C[n-1]&&C[n-1]==C[n+1]&&3*C[n-1]==C[n]&&(0==C[n-3]||e<n+3||3*C[n-3]>=4*C[n]||3*C[n+3]>=4*C[n])&&(t+=V.N3);return t};t.genframe=function(e){var t,n,r,a,i,o,s,c=V.eccblocks,l=V.gexp,u=V.glog,d=e.length;p=0;do{if(r=4*(m-1)+16*(++p-1),v=c[r++],w=c[r++],b=c[r++],k=c[r],d<=(r=b*(v+w)+w-3+(p<=9)))break}while(p<40);for(y=17+4*p,a=b+(b+k)*(v+w)+w,d=0;d<a;d++)x[d]=0;for(E=e.slice(0),d=0;d<y*y;d++)I[d]=0;for(d=0;d<(y*(y+1)+1)/2;d++)S[d]=0;for(d=0;d<3;d++){for(n=r=0,I[(n=2==d?y-7:n)+3+y*((r=1==d?y-7:r)+3)]=1,t=0;t<6;t++)I[n+t+y*r]=1,I[n+y*(r+t+1)]=1,I[n+6+y*(r+t)]=1,I[n+t+1+y*(r+6)]=1;for(t=1;t<5;t++)_(n+t,r+1),_(n+1,r+t+1),_(n+5,r+t),_(n+t+1,r+5);for(t=2;t<4;t++)I[n+t+y*(r+2)]=1,I[n+2+y*(r+t+1)]=1,I[n+4+y*(r+t)]=1,I[n+t+1+y*(r+4)]=1}if(1<p)for(d=V.adelta[p],n=y-7;;){for(t=y-7;d-3<t&&(h(t,n),!(t<d));)t-=d;if(n<=d+9)break;h(6,n-=d),h(n,6)}for(I[8+y*(y-8)]=1,n=0;n<7;n++)_(7,n),_(y-8,n),_(7,n+y-7);for(t=0;t<8;t++)_(t,7),_(t+y-8,7),_(t,y-8);for(t=0;t<9;t++)_(t,8);for(t=0;t<8;t++)_(t+y-8,8),_(8,t);for(n=0;n<7;n++)_(8,n+y-7);for(t=0;t<y-14;t++)1&t?(_(8+t,6),_(6,8+t)):(I[8+t+6*y]=1,I[6+y*(8+t)]=1);if(6<p)for(d=V.vpat[p-7],r=17,t=0;t<6;t++)for(n=0;n<3;n++,r--)1&(11<r?p>>r-12:d>>r)?(I[5-t+y*(2-n+y-11)]=1,I[2-n+y-11+y*(5-t)]=1):(_(5-t,2-n+y-11),_(2-n+y-11,5-t));for(n=0;n<y;n++)for(t=0;t<=n;t++)I[t+y*n]&&_(t,n);for(a=E.length,i=0;i<a;i++)x[i]=E.charCodeAt(i);if(E=x.slice(0),a>=(t=b*(v+w)+w)-2&&(a=t-2,9<p)&&a--,i=a,9<p){for(E[i+2]=0,E[i+3]=0;i--;)d=E[i],E[i+3]|=255&d<<4,E[i+2]=d>>4;E[2]|=255&a<<4,E[1]=a>>4,E[0]=64|a>>12}else{for(E[i+1]=0,E[i+2]=0;i--;)d=E[i],E[i+2]|=255&d<<4,E[i+1]=d>>4;E[1]|=255&a<<4,E[0]=64|a>>4}for(i=a+3-(p<10);i<t;)E[i++]=236,E[i++]=17;for(B[0]=1,i=0;i<k;i++){for(B[i+1]=1,o=i;0<o;o--)B[o]=B[o]?B[o-1]^l[L(u[B[o]]+i)]:B[o-1];B[0]=l[L(u[B[0]]+i)]}for(i=0;i<=k;i++)B[i]=u[B[i]];for(r=t,i=n=0;i<v;i++)f(n,b,r,k),n+=b,r+=k;for(i=0;i<w;i++)f(n,b+1,r,k),n+=b+1,r+=k;for(i=n=0;i<b;i++){for(o=0;o<v;o++)x[n++]=E[i+o*b];for(o=0;o<w;o++)x[n++]=E[v*b+i+o*(b+1)]}for(o=0;o<w;o++)x[n++]=E[v*b+i+o*(b+1)];for(i=0;i<k;i++)for(o=0;o<v+w;o++)x[n++]=E[t+i+o*k];for(E=x,t=n=y-1,r=a=1,s=(b+k)*(v+w)+w,i=0;i<s;i++)for(d=E[i],o=0;o<8;o++,d<<=1)for(128&d&&(I[t+y*n]=1);a?t--:(t++,r?0!=n?n--:(r=!r,6==(t-=2)&&(t--,n=9)):n!=y-1?n++:(r=!r,6==(t-=2)&&(t--,n-=8))),a=!a,N(t,n););for(E=I.slice(0),n=3e4,r=d=0;r<8&&(g(r),(t=(()=>{for(var e,t,n,r,a=0,i=0,o=0;o<y-1;o++)for(e=0;e<y-1;e++)(I[e+y*o]&&I[e+1+y*o]&&I[e+y*(o+1)]&&I[e+1+y*(o+1)]||!(I[e+y*o]||I[e+1+y*o]||I[e+y*(o+1)]||I[e+1+y*(o+1)]))&&(a+=V.N2);for(o=0;o<y;o++){for(t=n=e=C[0]=0;e<y;e++)(r=I[e+y*o])==n?C[t]++:C[++t]=1,i+=(n=r)?1:-1;a+=T(t)}for(var s=0,c=(c=i=i<0?-i:i)+(c<<2)<<1;y*y<c;)c-=y*y,s++;for(a+=s*V.N4,e=0;e<y;e++){for(t=n=o=C[0]=0;o<y;o++)(r=I[e+y*o])==n?C[t]++:C[++t]=1,n=r;a+=T(t)}return a})())<n&&(n=t,d=r),7!=d);r++)I=E.slice(0);for(d!=r&&g(d),n=V.fmtword[d+(m-1<<3)],r=0;r<8;r++,n>>=1)1&n&&(I[y-1-r+8*y]=1,r<6?I[8+y*r]=1:I[8+y*(r+1)]=1);for(r=0;r<7;r++,n>>=1)1&n&&(I[8+y*(y-7+r)]=1,r?I[6-r+8*y]=1:I[7+8*y]=1);return I},t.init=function(){m=t.ecclevel;var e=t.genframe(t.url);t.toTable?t.tableWrite(e,y):t.canvasWrite(e,y)},t.init()}V.prototype={canvasWrite:function(e,t){var n=this;if(n.qrc||(n.qrc=n.getContext(n.domElement),n.qrc)){var r=n.size,a=n.qrc,i=(a.lineWidth=1,r),o=(i/=t+10,i=Math.round(i-.5),4);n.noBorder?(a.canvas.width=a.canvas.height=i*t,o=0):a.canvas.width=a.canvas.height=r,a.clearRect(0,0,r,r),a.fillStyle=n.colorLight,a.fillRect(0,0,i*(t+8),i*(t+8)),a.fillStyle=n.colorDark;for(var s=0;s<t;s++)for(var c=0;c<t;c++)e[c*t+s]&&a.fillRect(i*(o+s),i*(o+c),i,i)}else n.toTable=!0,n.domElement=document.createElement("div"),n.tableWrite(e,t)},tableWrite:function(e,t){var n=this,r=Math.round(this.size/t-3.5)+"px",a=t+(n.noBorder?0:2*n.borderSize),i=n.borderSize,o="width:"+r+";height:"+r+";",s=n.colorLight,c=n.colorDark,l=document.createElement("table");l.style.cssText="border:0;border-collapse:collapse;";for(var u=document.createElement("tr"),d=document.createElement("td"),h=function(){return d.cloneNode()},f=function(){var e=h();return e.style.cssText=o+"background:"+s,e},g=0;g<t;g++){var m=u.cloneNode();l.appendChild(m);for(var p,y=0;y<t;y++)1===e[g*t+y]?(p=void 0,(p=h()).style.cssText=o+"background:"+c,m.appendChild(p)):(p=f(),m.appendChild(p));if(!n.noBorder){v=void 0;w=void 0;b=void 0;var v=m;for(var w=v.firstChild,b=0;b<i;b++)v.insertBefore(f(),w),v.appendChild(f())}}if(!n.noBorder)for(var k=l,E=k.firstChild,x=0;x<n.borderSize;x++){for(var I=u.cloneNode(),S=0;S<a;S++){var C=f();I.appendChild(C)}k.appendChild(I),k.insertBefore(I.cloneNode(!0),E)}n.domElement.innerHTML="",n.domElement.appendChild(l)},getContext:function(e){return e.getContext&&e.getContext("2d")?e.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(e){if(this.qrc){var t,n=this.imageTypes[e];if(n)return(t=new Image).src=this.domElement.toDataURL(n),t;throw new Error(e+" is not a valid image type ")}}},V.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],V.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],V.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],V.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],V.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],V.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],V.N1=3,V.N2=3,V.N3=40,V.N4=10;let U=V;async function zt(){Q||(pn()?((J=history.state).navAction=fn(),W.lastNavAction=J.navAction,vn(W),history.replaceState(J,"")):(Yt.navAction=Xt,W.lastNavAction=Yt.navAction,vn(W),history.replaceState(Yt,"")),await an(),J=history.state,wn(J),nn(J))}async function Ft(e,t,n){var r;if(!Q){if(J.modifier,r=J.depth,"string"!=typeof e)throw new Error("In navhandler.toBase `newBase` must a string!");if("number"!=typeof n)throw new Error("Depth must be specified, and be a number!");if(0===n)throw new Error("Depth cannot be 0!");if(n===r+1)return bn(e,t);if(r<n)throw new Error("Our current depth is before the the newly specified depth. We don't dare to jump unto the unknown future!");r=r-n+1;try{Q=!0,await Z(r),sn(e,"none",t)}finally{Q=!1}G(J)}}({log:kt,olog:Et}=$("qrdisplaymodule"));var Vt,Wt,Jt=null,Qt=function(){var e,t;kt("qrdisplaymodule.initialize"),t=window.innerWidth,kt(t=t<(e=window.innerHeight-100)?t:e),Jt=new U({url:"",size:t,toTable:!1,ecclevel:3,noBorder:!0}),qrdisplayQr.appendChild(Jt.domElement),qrdisplayBackground.addEventListener("click",Gt)},Gt=function(){kt("qrClicked"),qrdisplayBackground.classList.remove("active")},Zt=function(e){kt("qrdisplaymodule.displayCode"),kt(e),Jt.url=e,qrdisplayContent.textContent=e,Jt.init(),qrdisplayBackground.classList.add("active")},Xt={action:"pageload",timestamp:Date.now()},W={lastNavAction:Xt},J={},Yt={base:"RootState",modifier:"none",context:null,depth:0,navAction:null},en=null,tn=null,Q=!0,nn=function(){},G=function(){},rn=function(e){var t;if(!pn())return zt();J=history.state,t=un(W.lastNavAction),J.navAction=t?W.lastNavAction:fn(),history.replaceState(J,""),wn(J),t?hn():"VOID"!==J.base&&G(J)},an=async function(){if("VOID"===J.base)try{Q=!0,await Z(1)}finally{Q=!1}},on=function(e,t,n,r){J.base=e,J.modifier=t,J.context=n||null,J.navAction=r},sn=function(e,t,n){var r=gn();on(e,t,n,r),J.depth=J.depth+1,W.lastNavAction=r,vn(W),history.pushState(J,""),wn(J)},cn=function(e,t,n){var r=gn();on(e,t,n,r),W.lastNavAction=r,vn(W),history.replaceState(J,""),wn(J)},Z=function(e){var t;if(null==en&&!(0===J.depth||e>J.depth))return t=mn(),W.lastNavAction=t,vn(W),t=dn(t),history.go(-e),t},ln=async function(){await Z(J.depth),sn("VOID","none"),await Z(1)},un=function(e){return"back"===e.action&&e.timestamp===tn},dn=function(e){return tn=e.timestamp,new Promise(function(e){return en=e})},hn=function(){en(),tn=en=null},fn=function(){return{action:"browserNav {refresh, back or forward}",timestamp:Date.now()}},gn=function(){return{action:"nav",timestamp:Date.now()}},mn=function(){return{action:"back",timestamp:Date.now()}},pn=function(){return yn(history.state)},yn=function(e){var t,n,r,a,i;if(null==e)return!1;if(a=Object.keys(e),i=Object.keys(Yt),a.length!==i.length)return!1;for(n=t=0,r=a.length;t<r;n=++t)if(a[n]!==i[n])return!1;return!0},vn=function(e){return sessionStorage.setItem("NAV_info",JSON.stringify(e))},wn=function(e){},X=async function(e,t){var n;if(!Q){if("string"!=typeof(e=null==e?"none":e))throw new Error("In navhandler.toMod `newMod` is not a string!");if(await an(),n=J.modifier,"object"==typeof t?Object.assign(t,J.context):t=J.context,n!==e){if("none"===n&&"none"!==e)sn(J.base,e,t);else{if("none"===n||"none"!==e)return"none"!==n?(cn(J.base,e,t),void G(J)):void 0;try{Q=!0,await Z(1)}finally{Q=!1}}G(J)}}},bn=async function(e,t){var n,r;if(!Q){if("string"!=typeof e)throw new Error("In navhandler.toBase `newBase` must a string!");if(await an(),n=J.base,r=J.modifier,n!==e)"none"===r?sn(e,r,t):cn(e,"none",t);else if("none"===r)cn(e,"none",t);else try{Q=!0,await Z(1),cn(e,"none",t)}finally{Q=!1}G(J)}},kn=async function(e){if(!Q){try{Q=!0,null!=e&&e?await ln():await Z(J.depth)}finally{Q=!1}G(J)}};function En(){(async()=>{if(!Q){try{Q=!0,await Z(1)}finally{Q=!1}G(J)}})()}function xn(){return bn("settings-account")}function In(){return X("qrunlock")}function Sn(){return X("phraseunlock")}function Cn(){X("deleteconfirmation")}({log:Vt,olog:Wt}=$("navtriggers")),{log:ee,olog:Rn}=$("keygeneration"),Mn=document.getElementById("keygeneration-regeneration-button"),zn=document.getElementById("keygeneration-use-button"),Bn=document.getElementById("keygeneration-cancel-button"),Hn=document.getElementById("keygeneration-key-id-display"),Dn=document.getElementById("keygeneration-protected-indicator"),On=document.getElementById("keygeneration-keep-unprotected"),Pn=document.getElementById("keygeneration-phrase-protect"),Kn=document.getElementById("keygeneration-qr-protect"),Ln=document.getElementById("keygeneration-conclusion-row"),Y=null,Tn=async function(){var e,t;ee("generateNewRawKey"),e=T(),t=await _(e),Y=await{secretKeyHex:z(e),publicKeyHex:z(t)},Hn.textContent=Dt(Y.publicKeyHex),Dn.className="",jn()},jn=function(){ee("resetProtection"),On.classList.remove("active"),Pn.classList.remove("active"),Kn.classList.remove("active"),Ln.classList.remove("acceptable")},Fn=function(){ee("useButtonClicked"),Tr(Y),Tn(),En()},_n=function(){ee("cancelButtonClicked"),En()},$n=function(){ee("regenerationButtonClicked"),Tn()},qn=function(){ee("goRawClicked"),Y.protection="none",Y.keySaltHex="",Y.keyTraceHex="",jn(),Ln.classList.add("acceptable"),On.classList.add("active"),Dn.className=""},An=function(){ee("phraseProtectClicked"),jn(),X("phraseinput")},Un=function(){ee("qrProtectClicked"),jn(),X("qrinput")},Nn=async function(e){var t,n;ee("createKeyProtection"),n=new Uint8Array(48),window.crypto.getRandomValues(n),e=(n=await z(n))+e,e=await Mt(e),t=Y.secretKeyHex,t=Ut(t,e),Y.keyTraceHex=t,Y.keySaltHex=n},{log:Vn,olog:Wn}=$("keyimport"),document.getElementById("keyimport-use-button"),document.getElementById("keyimport-cancel-button"),document.getElementById("keyimport-key-id-display"),document.getElementById("keyimport-protected-indicator"),{log:Jn,olog:Qn}=$("keyexport"),document.getElementById("keyexport-use-button"),document.getElementById("keyexport-cancel-button"),document.getElementById("keyexport-key-id-display"),{log:te,olog:Xn}=$("accountsettingsmodule"),Zn=document.getElementById("id-display"),Gn=Zn.getElementsByClassName("display-frame-content")[0];var Bn,_n,Ln,Nn,Tn,On,qn,Hn,Y,ee,Rn,Pn,An,Dn,Kn,Un,Mn,$n,jn,zn,Fn,Vn,Wn,Jn,Qn,Gn,Zn,te,Xn,Yn,ne,re,ae,er,tr=function(){te("initialize"),Zn.addEventListener("click",nr),idQrButton.addEventListener("click",rr),generateKeyButton.addEventListener("click",ar),importKeyButton.addEventListener("click",ir),exportKeyButton.addEventListener("click",or),deleteKeyButton.addEventListener("click",sr),ee("initialize"),Mn.addEventListener("click",$n),zn.addEventListener("click",Fn),Bn.addEventListener("click",_n),On.addEventListener("click",qn),Pn.addEventListener("click",An),Kn.addEventListener("click",Un),Tn(),Vn("initialize"),Jn("initialize")},nr=function(){te("idDisplayClicked"),jt(Gn.textContent)},rr=function(){te("idDisplayClicked"),Zt(Gn.textContent)},ar=function(){te("generateKeyButtonClicked"),bn("settings-account-keygeneration")},ir=function(){te("importKeyButtonClicked"),bn("settings-account-keyimport")},or=function(){te("exportKeyButtonClicked"),bn("settings-account-keyexport")},sr=function(){te("deleteKeyButtonClicked"),Cn()},cr=function(e){te("displayKeyId"),(Gn.textContent=e)?document.body.classList.remove("no-key"):document.body.classList.add("no-key")},lr=function(){te("setToKeyGeneration"),accountsettings.className="generate-key"},ur=function(){te("setToKeyImport"),accountsettings.className="import-key"},dr=function(){te("setToKeyExport"),accountsettings.className="export-key"},hr=function(){te("setOff"),accountsettings.className=""},fr="0.0.1",gr="Asset Flow Control UI",mr=!0,pr=({log:ae,olog:er}=$("accountmodule"),re=Yn=null,ne={exists:!1,locked:!1,protection:"none"},function(){ae("initialize"),vr(),yr()}),yr=function(){ae("postKeyChange"),er(re),wr(),er(ne),br(),kr(),F.callOutChange("account")},vr=function(){var e,t,n,r,a;if(ae("readKeyObject"),n=F.load("keyStoreObject"),er(n),null==n||5!==Object.keys(n).length)re=Yn=null;else{if(r=n.accountIdHex,a=n.secretKeyHex,t=n.keyTraceHex,e=n.keySaltHex,n=n.protection,r&&!$t(r))throw new Error("Read a publicKey of invalid Format!");if(a&&!$t(a))throw new Error("Read a secretKey of invalid Format!");if(t&&!$t(t))throw new Error("Read a keyTrace of invalid Format!");re={secretKeyHex:a,publicKeyHex:r,protection:n,keyTraceHex:t,keySaltHex:e}}},wr=function(){ae("generateKeyInfo"),null==re?(ne.exists=!1,ne.locked=!1,ne.protection="none"):(ne.exists=!0,ne.protection=re.protection,"none"===ne.protection||re.secretKeyHex?ne.locked=!1:ne.locked=!0)},br=function(){var e;if(ae("createCurrentCryptoNode"),null==re)return Yn=null;if(null==re.secretKeyHex)return Yn=null;try{e={secretKeyHex:re.secretKeyHex,publicKeyHex:re.publicKeyHex,context:gr},Yn=new Ot(e)}catch(e){ae(e)}},kr=function(){var e;ae("updateDisplay"),e=ne.exists?Dt(re.publicKeyHex):"",cr(e)},Er=function(){var e;ae("storeKeyObject"),e={secretKeyHex:"none"===re.protection?re.secretKeyHex:"",accountIdHex:re.publicKeyHex,protection:re.protection,keySaltHex:re.keySaltHex,keyTraceHex:re.keyTraceHex},F.save("keyStoreObject",e)},xr=function(e){var t;ae("useUnprotectedKey"),er(e),t=e.secretKeyHex,re={secretKeyHex:t,publicKeyHex:e.publicKeyHex,protection:e.protection,keyTraceHex:"",keySaltHex:""},yr()},Ir=function(e){var t;ae("useProtectedKey"),er(e),t=e.secretKeyHex,re={secretKeyHex:t,publicKeyHex:e.publicKeyHex,protection:e.protection,keyTraceHex:e.keyTraceHex,keySaltHex:e.keySaltHex},yr()},Sr=function(){return Yn},Cr=function(){return ne.exists},Br=function(){return ne.locked},_r=function(){return ne.locked},Lr=function(){return ne},Nr=function(){ae("deleteAccount"),F.remove("keyStoreObject"),re=Yn=null,yr()},Tr=function(e){ae("useNewKey"),("none"===e.protection?xr:Ir)(e),Er()},Or=async function(e){var t;if(ae("unlockKey"),e=re.keySaltHex+e,e=await Mt(e),t=re.keyTraceHex,e=Ut(e,t),await lt(e)!==re.publicKeyHex)throw new Error("Error in Key Unlock!");re.secretKeyHex=e,yr()},qr=Object.prototype.toString,Hr=Array.isArray||function(e){return"[object Array]"===qr.call(e)};function Rr(e){return"function"==typeof e}function Pr(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ar(e,t){return null!=e&&"object"==typeof e&&t in e}var Dr=RegExp.prototype.test,Kr=/\S/,Ur={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Mr=/\s*/,$r=/\s+/,jr=/\s*=/,zr=/\s*\}/,Fr=/#|\^|\/|>|\{|&|=|!/;function Vr(e){this.string=e,this.tail=e,this.pos=0}function Wr(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function ie(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Vr.prototype.eos=function(){return""===this.tail},Vr.prototype.scan=function(e){var e=this.tail.match(e);return e&&0===e.index?(e=e[0],this.tail=this.tail.substring(e.length),this.pos+=e.length,e):""},Vr.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},Wr.prototype.push=function(e){return new Wr(e,this)},Wr.prototype.lookup=function(e){var t,n,r,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var i,o,s,c=this,l=!1;c;){if(0<e.indexOf("."))for(i=c.view,o=e.split("."),s=0;null!=i&&s<o.length;)s===o.length-1&&(l=Ar(i,o[s])||(n=i,r=o[s],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),i=i[o[s++]];else i=c.view[e],l=Ar(c.view,e);if(l){t=i;break}c=c.parent}a[e]=t}return t=Rr(t)?t.call(this.view):t},ie.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},ie.prototype.parse=function(e,T){var t=this.templateCache,n=e+":"+(T||oe.tags).join(":"),r=void 0!==t,a=r?t.get(n):void 0;return null==a&&(a=(e=>{if(!e)return[];var t,n,r,a,i=!1,o=[],s=[],c=[],l=!1,u=!1,d="",h=0;function f(){if(l&&!u)for(;c.length;)delete s[c.pop()];else c=[];u=l=!1}function g(e){if("string"==typeof e&&(e=e.split($r,2)),!Hr(e)||2!==e.length)throw new Error("Invalid tags: "+e);t=new RegExp(Pr(e[0])+"\\s*"),n=new RegExp("\\s*"+Pr(e[1])),r=new RegExp("\\s*"+Pr("}"+e[1]))}g(T||oe.tags);for(var m,p,y,v,w,b,k=new Vr(e);!k.eos();){if(m=k.pos,y=k.scanUntil(t))for(var E=0,x=y.length;E<x;++E)a=v=y.charAt(E),Dr.call(Kr,a)?(i=u=!0,d+=" "):(c.push(s.length),d+=v),s.push(["text",v,m,m+1]),m+=1,"\n"===v&&(f(),d="",h=0,i=!1);if(!k.scan(t))break;if(l=!0,p=k.scan(Fr)||"name",k.scan(Mr),"="===p?(y=k.scanUntil(jr),k.scan(jr),k.scanUntil(n)):"{"===p?(y=k.scanUntil(r),k.scan(zr),k.scanUntil(n),p="&"):y=k.scanUntil(n),!k.scan(n))throw new Error("Unclosed tag at "+k.pos);if(w=">"==p?[p,y,m,k.pos,d,h,i]:[p,y,m,k.pos],h++,s.push(w),"#"===p||"^"===p)o.push(w);else if("/"===p){if(!(b=o.pop()))throw new Error('Unopened section "'+y+'" at '+m);if(b[1]!==y)throw new Error('Unclosed section "'+b[1]+'" at '+m)}else"name"===p||"{"===p||"&"===p?u=!0:"="===p&&g(y)}if(f(),b=o.pop())throw new Error('Unclosed section "'+b[1]+'" at '+k.pos);for(var I,S=(e=>{for(var t,n,r=[],a=0,i=e.length;a<i;++a)(t=e[a])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r})(s),C=[],B=C,_=[],L=0,N=S.length;L<N;++L)switch((I=S[L])[0]){case"#":case"^":B.push(I),_.push(I),B=I[4]=[];break;case"/":_.pop()[5]=I[2],B=0<_.length?_[_.length-1][4]:C;break;default:B.push(I)}return C})(e),r)&&t.set(n,a),a},ie.prototype.render=function(e,t,n,r){var a=this.getConfigTags(r),a=this.parse(e,a),t=t instanceof Wr?t:new Wr(t,void 0);return this.renderTokens(a,t,n,e,r)},ie.prototype.renderTokens=function(e,t,n,r,a){for(var i,o,s,c="",l=0,u=e.length;l<u;++l)s=void 0,"#"===(o=(i=e[l])[0])?s=this.renderSection(i,t,n,r,a):"^"===o?s=this.renderInverted(i,t,n,r,a):">"===o?s=this.renderPartial(i,t,n,a):"&"===o?s=this.unescapedValue(i,t):"name"===o?s=this.escapedValue(i,t,a):"text"===o&&(s=this.rawValue(i)),void 0!==s&&(c+=s);return c},ie.prototype.renderSection=function(e,t,n,r,a){var i=this,o="",s=t.lookup(e[1]);if(s){if(Hr(s))for(var c=0,l=s.length;c<l;++c)o+=this.renderTokens(e[4],t.push(s[c]),n,r,a);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)o+=this.renderTokens(e[4],t.push(s),n,r,a);else if(Rr(s)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,r.slice(e[3],e[5]),function(e){return i.render(e,t,n,a)}))&&(o+=s)}else o+=this.renderTokens(e[4],t,n,r,a);return o}},ie.prototype.renderInverted=function(e,t,n,r,a){var i=t.lookup(e[1]);if(!i||Hr(i)&&0===i.length)return this.renderTokens(e[4],t,n,r,a)},ie.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),a=e.split("\n"),i=0;i<a.length;i++)a[i].length&&(0<i||!n)&&(a[i]=r+a[i]);return a.join("\n")},ie.prototype.renderPartial=function(e,t,n,r){if(n){var a,i,o,s=this.getConfigTags(r),c=Rr(n)?n(e[1]):n[e[1]];if(null!=c)return a=e[6],i=e[4],o=c,0==e[5]&&i&&(o=this.indentPartial(c,i,a)),e=this.parse(o,s),this.renderTokens(e,t,n,o,r)}},ie.prototype.unescapedValue=function(e,t){t=t.lookup(e[1]);if(null!=t)return t},ie.prototype.escapedValue=function(e,t,n){n=this.getConfigEscape(n)||oe.escape,t=t.lookup(e[1]);if(null!=t)return("number"==typeof t&&n===oe.escape?String:n)(t)},ie.prototype.rawValue=function(e){return e[1]},ie.prototype.getConfigTags=function(e){return Hr(e)?e:e&&"object"==typeof e?e.tags:void 0},ie.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!Hr(e)?e.escape:void 0};var oe={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){Jr.templateCache=e},get templateCache(){return Jr.templateCache}},Jr=new ie;oe.clearCache=function(){return Jr.clearCache()},oe.parse=function(e,t){return Jr.parse(e,t)},oe.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(Hr(a=e)?"array":typeof a)+'" was given as the first argument for mustache#render(template, view, partials)');var a;return Jr.render(e,t,n,r)},oe.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return Ur[e]})},oe.Scanner=Vr,oe.Context=Wr,oe.Writer=ie;let q=oe;async function Qr(){var e,t;if(Gr("syncExchangeData"),fa)return ga;ga=new Promise(function(e){return ma=e}),ha=!(fa=!0),da=[],ua=[];try{t=await Ea("encryptedExchangeData"),ua=(e=t).map(ya),da=e}catch(e){Gr(e)}ha=!(fa=!1),ma(),F.callOutChange("exchangeData")}var Gr,Zr,Xr,Yr,ea,ta,na,ra,aa,ia,oa,sa,ca,se,la=[{type:"kraken",name:"Kraken",iconHref:"#svg-kraken-icon"},{type:"binance",name:"Binance",iconHref:"#svg-binance-icon"},{type:"bybit",name:"ByBit",iconHref:"#svg-bybit-icon"}],ua=({log:Gr,olog:Zr}=$("exchangedata"),[]),da=[],ha=!1,fa=!1,ga=null,ma=null,pa={},ya=function(e){var t,n;return(n={}).type=e.type,t=pa[e.type],n=Object.assign(n,t),null!=e.name&&(n.name=e.name),n},va=async function(){Gr("saveAllExchangesData"),Zr(da),await xa("encryptedExchangeData",da)},wa=[{type:"volatility0",name:"Simple Volatility Trader v0.1",assetSlots:2,defaultParams:{baseDistancePercent:.6,backOrderDistancePercent:1.8,volumeMagnifier:2.718,priceMagnifier:1.618,volumePrecision:2,pricePrecision:2,buyDirection:!0,sellDirection:!0}},{type:"balance0",name:"Simple Balance Trader v0.1",assetSlots:2,defaultParams:{inbalanceTolerancePercent:5}},{type:"random0",name:"Freaky Random Trader v0.1",assetSlots:2,defaultParams:{crazyness:5}}],ba=({log:Yr,olog:ea}=$("exchangedata"),Xr=!1,na={},ta=function(e){var t,n;return(n={}).type=e.type,t=na[e.type],n=Object.assign(n,t),null!=e.name&&(n.name=e.name),n},{log:ra,olog:aa}=$("datamodule"),function(){for(var e,t=0,n=la.length;t<n;t++)pa[(e=la[t]).type]=e;for(var r,a=0,i=wa.length;a<i;a++)na[(r=wa[a]).type]=r;F.addOnChangeListener("account",ka),ka()}),ka=function(){ra("loadAllData"),Qr(),(async()=>{if(Yr("syncControllerData"),!Xr){Xr=!0;try{(await Ea("encryptedExchangeData")).map(ta)}catch(e){Yr(e)}Xr=!1,F.callOutChange("controllerData")}})()},Ea=async function(e){var t,n,r,a,i;if(ra("loadEncryptedData"),r=Lr(),a=Sr(),n=F.load(e),aa({node:a,encryptedData:n}),r=null!=r&&r.exists&&!r.locked&&null!=a,i=null!=n&&null!=n.referencePointHex&&null!=n.encryptedContentHex,r&&i)try{return t=await a.decrypt(n),ra(t),JSON.parse(t)}catch(e){ra(e)}return null},xa=async function(e,t){var n,r,a;if(ra("saveDataEncrypted"),null!=(a=Sr()))try{n=JSON.stringify(t),r=await a.encrypt(n),aa(r),F.save(e,r,!0)}catch(e){ra(e)}},Ia=({log:ia,olog:oa}=$("addcontrollermodule"),function(){var e,t,n,r;for(ia("initialize"),r="",t=0,n=wa.length;t<n;t++)(e=wa[t]).type,r+=q.render('<option value="{{{type}}}">{{{name}}}</option>  ',e);controllerSelect.innerHTML=r,addcontrollerUseButton.addEventListener("click",Sa),addcontrollerCancelButton.addEventListener("click",Ca)}),Sa=function(){ia("addControllerClicked"),alert("Adding Controller not implemented yet!"),En()},Ca=function(){ia("cancelClicked"),En()},Ba=({log:sa,olog:ca}=$("addexchangemodule"),""),_a="",La=function(){var e,t,n,r;for(sa("initialize"),r="",t=0,n=la.length;t<n;t++)e=la[t],r+=q.render('<option value="{{{type}}}">{{{name}}}</option>',e);exchangeSelect.innerHTML=r,addexchangeUseButton.addEventListener("click",Na),addexchangeCancelButton.addEventListener("click",Ta),apikeyInput.addEventListener("change",Oa),secretkeyInput.addEventListener("change",Oa)},Na=async function(){var e;sa("addExchangeUseClicked"),e=exchangeSelect.value,await qa(e),Ha(),kn(!0)},Ta=function(){sa("addExchangeCancelClicked"),Ha(),En()},Oa=function(){sa("addExchangeInputsChanged"),Ba=apikeyInput.value,_a=secretkeyInput.value,ca({currentApiKey:Ba,currentSecretKey:_a}),Ba&&_a?addexchangeUseButton.classList.remove("disabled"):addexchangeUseButton.classList.add("disabled")},qa=async function(e){var t,n;(t={}).type=e,t.apikey=Ba,t.secretkey=_a;try{n=t,Gr("addExchange"),ha||await Qr(),da.push(n),ua.push(ya(n)),await va(),F.callOutChange("exchangeData")}catch(e){msgBox.error(e.message)}},Ha=function(){sa("resetAddExchangeUI"),apikeyInput.value="",secretkeyInput.value="",addexchangeUseButton.classList.add("disabled")},Ra=-32023;function Pa(e){var t;if(e!==(t=(t=Date.now())-t%Ga)&&e!==(t-=Ga)&&e!==(t+=36e4))throw new Error("Invalid Timestamp!")}function Aa(){var e;return(e=Date.now())-e%Ga}function Da(e,t){return t="string"!=typeof t?JSON.stringify(t):t,Lt(e+t)}(se=new Map).set(-32700,{message:"JSON Parse Error!"}),se.set(-32600,{message:"Request is invalid thingy-rpc!"}),se.set(-32601,{message:"Method not found!"}),se.set(Ra,{message:"Authentication failed!"}),se.set(-32002,{message:"No free ressources available on the server!"}),se.set(-32602,{message:"Invalid params provided!"}),se.set(-32032,{message:"Execution error!"});var Ka,Ua,Ma,ce,$a,ja,za,Fa,le,Va,Wa=class extends Error{constructor(e){super(e),this.name="NetworkError"}},Ja=class extends Error{constructor(e){super(e),this.name="ResponseAuthError"}},Qa=class extends Error{constructor(e,t){super(`${e}: (${e=t.code}) ${se.get(e).message} (${t.message})`),this.rpcCode=e,this.name="RPCError"}},Ga=18e4,Za=function(){var e=Math.random();return Math.round(1e6*e)},Xa=async function(e,t){var n,r,a,i,t={method:"POST",credentials:"omit",body:t,headers:{"Content-Type":"application/json"}};try{return await(a=await fetch(e,t)).json()}catch(e){t=e,n="Error! RPC could not receive a JSON response!",i="No http-status could be provided!";try{i="HTTP-Status: "+a.status}catch(e){throw r=`No response could be retrieved!
Message: ${t.message}
Cause: `+t.cause,new Wa(n+` 
${i} 
`+r)}throw r=`${i} 
Message: ${t.message} 
Cause: `+t.cause,new Wa(n+` 
`+r)}},Ya=function(e){e.requestId=++e.requestId%1e7},ei=async function(e,t,n,r){var a,i,o;if(Ya(r),i=await r.getPublicKey(),a=r.requestId,n={auth:{type:n,clientId:i,name:r.name,requestId:a,timestamp:Aa(),signature:""},func:e,args:t},r.requestingNodeId||(o=await r.getServerId()),i=JSON.stringify(n),t=await ut(i,r.secretKeyHex),i=i.replace('"signature":""','"signature":"'+t+'"'),(n=await Xa(r.serverURL,i)).error)throw new Qa(e,n.error);return r.requestingNodeId&&(o=n.result.nodeId),await hi(n,a,o),n.result},ti=async function(e,t,n){e=JSON.stringify({auth:null,func:e,args:t});if((t=await Xa(n.serverURL,e)).error)throw new Qa(t.error);return t.result},ni=async function(e,t,n){if(Ya(n),e={auth:{type:"anonymous",requestId:n.requestId,timestamp:Aa(),requestToken:n.anonymousToken},func:e,args:t},t=JSON.stringify(e),(e=await Xa(n.serverURL,t)).error)throw new Qa(e.error);return e.result},ri=async function(e,t,n){var r,a;if(Ya(n),r=n.requestId,e={auth:{type:"publicAccess",clientId:await n.getPublicKey(),requestId:r,timestamp:Aa(),requestToken:n.publicToken},func:e,args:t},t=JSON.stringify(e),n.requestingNodeId||(a=await n.getServerId()),(e=await Xa(n.serverURL,t)).error)throw new Qa(e.error);return n.requestingNodeId&&(a=e.result.nodeId),fi(e,r,a),e.result},ai=async function(e,t,n){var r,a;if(await ci(n),Ya(n),a=await n.getPublicKey(),r=n.requestId,a={auth:{type:"tokenSimple",clientId:a,name:n.name,requestId:r,timestamp:Aa(),requestToken:n.sessions[0].token},func:e,args:t},t=JSON.stringify(a),a=await n.getServerId(),(t=await Xa(n.serverURL,t)).error)throw null!=t.error.code&&t.error.code===Ra&&(n.sessions[0]=null),new Qa(e,t.error);return await fi(t,r,a),t.result},ii=async function(e,t,n){throw new Error("doTokenUniqueRPC: Not Implemented yet!")},oi=async function(e,t,n){var r,a,i;if(await di(n),Ya(n),i=n.sessions[2],a=await n.getPublicKey(),r=n.requestId,a={auth:{type:"authCodeSHA2",clientId:a,name:n.name,requestId:r,timestamp:Aa(),requestAuthCode:""},func:e,args:t},t=await n.getServerId(),a=JSON.stringify(a),i=await Da(i.seedHex,a),a=a.replace('"requestAuthCode":""','"requestAuthCode":"'+i+'"'),(i=await Xa(n.serverURL,a)).error)throw null!=i.error.code&&i.error.code===Ra&&(n.sessions[2]=null),new Qa(e,i.error);return await gi(i,r,t,n),i.result},si=async function(e,t){var n;Ya(t),n={type:e,name:t.name};try{return await t.doRPC("startSession",n,"clientSignature")}catch(e){throw new Error("Explicit Start failed: "+e.message)}},ci=async function(e){var t;if(null==e.sessions[0]||null==e.sessions[0].token)try{(t={}).token=await ui(e),e.sessions[0]=t}catch(e){throw t="Could not establish a simple Token session! Details: "+e.message,new Error(t)}},li=async function(e,t){var n=t.serverContext;return gt(t.secretKeyHex,t.serverId,t.name+`:${n}_`+e)},ui=function(e){return si("tokenSimple",e)},di=async function(e){var t,n;if(null==e.sessions[2]||null==e.sessions[2].seedHex)try{t={},n=await si("authCodeSHA2",e),t.seedHex=await li(n,e),e.sessions[2]=t}catch(e){throw n="Could not establish an authCode with SHA2 session! Details: "+e.message,new Error(n)}},hi=async function(e,t,n){var r,a,i,o,s;try{if(o=e.auth.signature,s=e.auth.timestamp,r=e.auth.requestId,i=e.auth.serverId,null==o)throw new Error("No Signature!");if(null==s)throw new Error("No Timestamp!");if(null==r)throw new Error("No RequestId!");if(null==i)throw new Error("No ServerId!");if(r!==t)throw new Error("RequestId Mismatch!");if(i!==n)throw new Error("ServerId Mismatch!");if(Pa(s),e.auth.signature="",a=JSON.stringify(e),!await dt(o,i,a))throw new Error("Invalid Signature!")}catch(e){throw new Ja(e.message)}},fi=function(e,t,n){var r,a,i;try{if(i=e.auth.timestamp,r=e.auth.requestId,a=e.auth.serverId,null==i)throw new Error("No Timestamp!");if(null==r)throw new Error("No RequestId!");if(null==a)throw new Error("No ServerId!");if(r!==t)throw new Error("RequestId Mismatch!");if(a!==n)throw new Error("ServerId Mismatch!");Pa(i)}catch(e){throw new Ja(e.message)}},gi=async function(e,t,n,r){var a,i,o,s,c,l;try{if(i=e.auth.responseAuthCode,l=e.auth.timestamp,a=e.auth.requestId,s=e.auth.serverId,null==i)throw new Error("No ResponseAuthCode!");if(null==l)throw new Error("No Timestamp!");if(null==a)throw new Error("No RequestId!");if(null==s)throw new Error("No ServerId!");if(a!==t)throw new Error("RequestId Mismatch!");if(s!==n)throw new Error("ServerId Mismatch!");if(Pa(l),null==(c=r.sessions[2])||null==c.seedHex)throw new Error("Local session object has become invalid!");if(e.auth.responseAuthCode="",o=JSON.stringify(e),await Da(c.seedHex,o)!==i)throw new Error("AuthCodes did not Match!")}catch(e){throw new Ja("authenticateServiceAuthCodeSHA2: "+e.message)}},mi=class extends class{constructor(e){this.serverURL=e.serverURL,this.serverId=e.serverId,this.serverContext="thingy-rpc-post-connection",this.secretKeyHex=e.secretKeyHex,this.publicKeyHex=e.publicKeyHex,this.name="rpc-client"+Za(),this.requestId=0,this.sessions=new Array(4),this.anonymousToken=null,(this.publicToken=null)!=e.anonymousToken&&(this.anonymousToken=e.anonymousToken),null!=e.publicToken&&(this.publicToken=e.publicToken),null!=e.name&&(this.name=e.name),null!=e.serverContext&&(this.serverContext=e.serverContext)}updateServer(e,t,n){this.serverURL=e,this.serverId=t,this.serverContext=n,this.requestId=0,this.sessionInfo={}}updateKeys(e,t){this.secretKeyHex=e,this.publicKeyHex=t,this.requestId=0,this.sessionInfo={}}getServerURL(){return this.serverURL}async getServerId(){return null==this.serverId&&await this.requestNodeId("none"),this.serverId}getSecretKey(){return this.secretKeyHex}async getPublicKey(){return null==this.publicKeyHex&&(this.publicKeyHex=await lt(this.secretKeyHex)),this.publicKeyHex}doRPC(e,t,n){if(this.requestingNodeId&&"getNodeId"!==e)throw new Error("Cannot do regular RPCs while requesting NodeId!");switch(n){case"none":return ti(e,t,this);case"anonymous":return ni(e,t,this);case"publicAccess":return ri(e,t,this);case"tokenSimple":return ai(e,t,this);case"tokenUnique":return ii(e,t,this);case"authCodeSHA2":return oi(e,t,this);case"signature":case"clientSignature":case"masterSignature":return ei(e,t,n,this);default:throw new Error(`doRPC: Unknown authType! '${n}'`)}}async requestNodeId(e){var t,n;if(this.requestingNodeId)throw new Error("Request for nodeId already pending!");if("tokenSimple"===e||"tokenUnique"===e||"authCodeSHA2"===e)throw new Error("Requesting nodeId inside session - don't do this!");this.requestingNodeId=!0,t={};try{n=await this.doRPC("getNodeId",t,e),this.serverId=n.nodeId}finally{this.requestingNodeId=!1}}}{constructor(e){super(e)}addClient(e){return this.doRPC("addClientToServe",{clientPublicKey:e},"masterSignature")}removeClient(e){return this.doRPC("removeClientToServe",{clientPublicKey:e},"masterSignature")}getClients(){return this.doRPC("getClientsToServe",{},"masterSignature")}async getServerId(){return null==super.serverId&&await this.requestNodeId("masterSignature"),super.getServerId()}},pi=({log:Ua,olog:Ma}=$("masterkeymodule"),Ka=new Map,function(){Ua("initialize")}),yi=function(){return!1},vi=function(e){return null.encrypt(e)},wi=function(e){return null.decrypt(e)},bi=function(e,t){var n,r,a,i=t+":"+(e+="/thingy-post-rpc");return null==(n=Ka.get(i))&&(a=null.key,r=null.id,Ma(e={serverURL:e,serverId:t,secretKeyHex:a,publicKeyHex:r}),n=new mi(e),Ka.set(i,n)),n},ki=function(){return""},Ei=function(){floatingSecretInput.focus()},xi=({log:ja,olog:za}=$("aliasmodule"),Fa="",ce={},$a={},function(){ja("initialize")}),Ii=async function(){var e;ja("saveAliases"),e=await vi(JSON.stringify(ce)),F.save(Fa,e,!0)},Si=async function(e){var t,n;if(ja("loadForStorageId"),ja(Fa=e+"_aliases"),e=F.load(Fa),za({encrypted:e}),null==e||null==e.referencePointHex)ce={},$a={};else{for(t in ce=JSON.parse(await wi(e)),za({aliasToId:ce}),ce)n=ce[t],$a[n]=t;za({idsToAlias:$a})}},Ci=function(e){return $a[e]},Bi=function(e){return ce[e]},_i=function(e,t){var n;if(ja("setAliasForId"),ce[e]!==t){if(null!=ce[e])throw new Error("Alias is already used!");n=$a[t],ce[n]===t&&delete ce[n],ce[e]=t,$a[t]=e,Ii()}};({log:le,olog:Va}=$("contentmodule"));var Li,Ni,Ti,Oi,qi,Hi,Ri,Pi,Ai,Di,ue,Ki,Ui=function(){le("setToTutorialState"),content.className="tutorial"},Mi=function(){le("setToLockedKeyState"),content.className="locked"},$i=function(){le("setToGlobalOverviewState"),content.className="global-view"},ji=function(){le("setToAddExchangeState"),content.className="add-exchange"},zi=function(e){le("setToExchangeOverviewState"),content.className="exchange-overview"},Fi=function(){le("setToAddControllerState"),content.className="add-controller"},Vi=function(e){le("setToControllerOverviewState"),content.className="controller-overview"},Wi=({log:Ti,olog:Oi}=$("viewexchangemodule"),Ni=document.getElementById("exchange-icon-display"),Li=null,function(){Ti("initialize"),addControllerButton.addEventListener("click",Ji)}),Ji=function(){Ti("addControllerButtonClicked"),Ft("add-controller",null,2)},Qi=function(){var e;Ti("updateOverviewFrame"),e=Ni.querySelector("use"),null!=Li?(e.setAttribute("href",Li.iconHref),exchangeNameDisplay.textContent=Li.name,exchangeEvaluationNumber.textContent=Li.currentEvaluation):(e.setAttribute("href",""),exchangeNameDisplay.textContent="",exchangeEvaluationNumber.textContent="-"),exchangeEvaluationUnit.textContent=""},Gi=async function(e){if(Ti("setExchangeOverviewContext"),Oi(e),null==e||null==e.exchangeIndex)throw new Error("Invalid Context for Exchange Overview");e=e.exchangeIndex,ha||await Qr(),Li=await ua[e],Oi(Li),Qi()},Zi=({log:Hi,olog:Ri}=$("settingsmodule"),Pi=document.getElementById("settings-button"),Di=document.getElementById("settingsoff-button"),qi=null,Ai={account:xn,backend:function(){return bn("settings-backend")}},function(){var e,t,n,r,a,i,o,s;for(Hi("initialize"),Pi.addEventListener("click",Xi),Di.addEventListener("click",Yi),n=0,i=(s=document.getElementsByClassName("settings-entry")).length;n<i;n++)r=(t=s[n]).id.replace("settingsentry-","settingspage-"),r=eo(r),t.addEventListener("click",r);for(a=0,o=(e=document.getElementsByClassName("settingspage-backbutton")).length;a<o;a++)e[a].addEventListener("click",ro)}),Xi=function(){bn("settings")},Yi=function(){En()},eo=function(e){var t=document.getElementById(e);return function(){return to(t)}},to=function(e){e=e.id.replace("settingspage-","");if(Hi("showSettingsPage "+e),null!=Ai[e])return Ai[e]();Hi("settingsTrigger was not defined!")},no=function(){null!=qi&&(qi.classList.remove("here"),qi=null)},ro=function(){En()},ao=function(e){Hi("switchSettingsOn"),Pi.classList.add("on"),document.body.classList.add("settings"),no(),null!=e&&(e=document.getElementById("settingspage-"+e),(qi=e).classList.add("here"))},io=function(){Hi("switchSettingsOff"),document.body.classList.remove("settings"),Pi.classList.remove("on"),no()};class ke{constructor(t,e,n,r,a){this._legacyCanvasSize=ke.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),n&&"object"==typeof n?this._onDecode=e:(n||r||a?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=e),this._onDecodeError=(e="object"==typeof n?n:{}).onDecodeError||("function"==typeof n?n:this._onDecodeError),this._calculateScanRegion=e.calculateScanRegion||("function"==typeof r?r:this._calculateScanRegion),this._preferredCamera=e.preferredCamera||a||this._preferredCamera,this._legacyCanvasSize="number"==typeof n?n:"number"==typeof r?r:this._legacyCanvasSize,this._maxScansPerSecond=e.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0;let i=!(t.muted=!0);if(t.hidden&&(t.hidden=!1,i=!0),document.body.contains(t)||(document.body.appendChild(t),i=!0),n=t.parentElement,e.highlightScanRegion||e.highlightCodeOutline){if(r=!!e.overlay,this.$overlay=e.overlay||document.createElement("div"),(a=this.$overlay.style).position="absolute",a.display="none",a.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!r&&e.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(t){}n.insertBefore(this.$overlay,this.$video.nextSibling)}e.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{var e=window.getComputedStyle(t);"none"===e.display&&(t.style.setProperty("display","block","important"),i=!0),"visible"!==e.visibility&&(t.style.setProperty("visibility","visible","important"),i=!0),i&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=ke.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await ke.listCameras(!1)).length}catch(e){return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t,n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);try{e&&(await n()).every(e=>!e.label)&&(t=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(e){}try{return(await n()).map((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":"Camera "+(t+1))}))}finally{t&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),ke._stopVideoStream(t))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),ke._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active)&&!this._paused)try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),ke._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{var{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?ke._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");var t=()=>{this.$video.srcObject instanceof MediaStream&&(ke._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return(e||(await new Promise(e=>setTimeout(e,300)),!!this._paused))&&(t(),!0)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(n,r,a,l,i=!1,o=!1){let u,s=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(u=r.scanRegion,a=r.qrEngine,l=r.canvas,i=r.disallowCanvasResizing||!1,o=r.alsoTryWithoutScanRegion||!1,s=!0):r||a||l||i||o?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!a;try{let e,c,t;if([a,e]=await Promise.all([a||ke.createQrEngine(),ke._loadImage(n)]),[l,c]=ke._drawToCanvas(e,u,l,i),a instanceof Worker){let s=a;r||ke._postWorkerMessageSync(s,"inversionMode","both"),t=await new Promise((t,n)=>{let r,a,i,o=-1;a=e=>{e.data.id===o&&(s.removeEventListener("message",a),s.removeEventListener("error",i),clearTimeout(r),null!==e.data.data?t({data:e.data.data,cornerPoints:ke._convertPoints(e.data.cornerPoints,u)}):n(ke.NO_QR_CODE_FOUND))},i=e=>{s.removeEventListener("message",a),s.removeEventListener("error",i),clearTimeout(r),n("Scanner error: "+(e?e.message||e:"Unknown Error"))},s.addEventListener("message",a),s.addEventListener("error",i),r=setTimeout(()=>i("timeout"),1e4);var e=c.getImageData(0,0,l.width,l.height);o=ke._postWorkerMessageSync(s,"decode",e,[e.data.buffer])})}else t=await Promise.race([new Promise((e,t)=>window.setTimeout(()=>t("Scanner error: timeout"),1e4)),(async()=>{try{var[t]=await a.detect(l);if(t)return{data:t.rawValue,cornerPoints:ke._convertPoints(t.cornerPoints,u)};throw ke.NO_QR_CODE_FOUND}catch(e){if(t=e.message||e,/not implemented|service unavailable/.test(t))return ke._disableBarcodeDetector=!0,ke.scanImage(n,{scanRegion:u,canvas:l,disallowCanvasResizing:i,alsoTryWithoutScanRegion:o});throw"Scanner error: "+t}})()]);return s?t:t.data}catch(r){var e;if(u&&o)return e=await ke.scanImage(n,{qrEngine:a,canvas:l,disallowCanvasResizing:i}),s?e:e.data;throw r}finally{r||ke._postWorkerMessage(a,"close")}}setGrayscaleWeights(e,t,n,r=!0){ke._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:n,useIntegerApproximation:r})}setInversionMode(e){ke._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){var t;return e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>M.e(175).then(M.bind(M,175)).then(e=>e.createWorker()),!(!ke._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code"))||(t=navigator.userAgentData)&&t.brands.some(({brand:e})=>/Chromium/i.test(e))&&/mac ?OS/i.test(t.platform)&&await t.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:e,platformVersion:t})=>/arm/i.test(e||"arm")&&13<=parseInt(t||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){var t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,n=e.videoHeight,r=e.offsetWidth,a=e.offsetHeight,i=e.offsetLeft,o=e.offsetTop,s=(g=window.getComputedStyle(e)).objectFit,c=t/n,l=r/a;switch(s){case"none":var u=t,d=n;break;case"fill":u=r,d=a;break;default:("cover"===s?l<c:c<l)?u=(d=a)*c:d=(u=r)/c,"scale-down"===s&&(u=Math.min(u,t),d=Math.min(d,n))}var[h,f]=g.objectPosition.split(" ").map((e,t)=>{var n=parseFloat(e);return e.endsWith("%")?(t?a-d:r-u)*n/100:n}),g=this._scanRegion.width||t,l=this._scanRegion.height||n,s=this._scanRegion.x||0,m=this._scanRegion.y||0;(c=this.$overlay.style).width=g/t*u+"px",c.height=l/n*d+"px",c.top=o+f+m/n*d+"px",n=/scaleX\(-1\)/.test(e.style.transform),c.left=i+(n?r-h-u:h)+(n?t-s-g:s)/t*u+"px",c.transform=e.style.transform}})}static _convertPoints(e,t){if(t){var n,r=t.x||0,a=t.y||0,i=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(n of e)n.x=n.x*i+r,n.y=n.y*t+a}return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(this.$video.readyState<=1)){var t=Date.now()-this._lastScanTimestamp,n=1e3/this._maxScansPerSecond;t<n&&await new Promise(e=>setTimeout(e,n-t)),this._lastScanTimestamp=Date.now();try{var e=await ke.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(t){if(!this._active)return;this._onDecodeError(t)}!ke._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=ke.createQrEngine()),e?(this._onDecode?this._onDecode(e):this._legacyOnDecode&&this._legacyOnDecode(e.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} `+(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",e.cornerPoints.map(({x:e,y:t})=>e+","+t).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==ke.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(navigator.mediaDevices){let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",e=[{width:{min:1024}},{width:{min:768}},{}],n=e.map(e=>Object.assign({},e,{[t]:{exact:this._preferredCamera}}));for(var r of[...n,...e])try{var a=await navigator.mediaDevices.getUserMedia({video:r,audio:!1});return{stream:a,facingMode:this._getFacingMode(a)||(r.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")}}catch(e){}}throw"Camera not found."}async _restartVideoStream(){var e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(var t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,n,r=!1){n=n||document.createElement("canvas");var a=t&&t.x?t.x:0,i=t&&t.y?t.y:0,o=t&&t.width?t.width:e.videoWidth||e.width,s=t&&t.height?t.height:e.videoHeight||e.height;return r||(r=t&&t.downScaledWidth?t.downScaledWidth:o,t=t&&t.downScaledHeight?t.downScaledHeight:s,n.width!==r&&(n.width=r),n.height!==t&&(n.height=t)),(t=n.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,a,i,o,s,0,0,n.width,n.height),[n,t]}static async _loadImage(e){if(e instanceof Image)return await ke._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(!(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e))throw"Unsupported image type.";var t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await ke._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((t,n)=>{let r=e=>{a.removeEventListener("load",r),a.removeEventListener("error",r),e instanceof ErrorEvent?n("Image load error"):t()};a.addEventListener("load",r),a.addEventListener("error",r)})}static async _postWorkerMessage(e,t,n,r){return ke._postWorkerMessageSync(await e,t,n,r)}static _postWorkerMessageSync(e,t,n,r){var a;return e instanceof Worker?(a=ke._workerMessageId++,e.postMessage({id:a,type:t,data:n},r),a):-1}}ke.DEFAULT_CANVAS_SIZE=400,ke.NO_QR_CODE_FOUND="No QR code found",ke._disableBarcodeDetector=!1,ke._workerMessageId=0;let H=ke;({log:ue,olog:Ki}=$("qrreadermodule"));var de,oo,he,so,co,lo,uo=null,ho=null,fo=!1,go=!(null!=mr&&mr),mo=async function(){ue("qrreadermodule.initialize"),fo=await H.hasCamera(),ue(fo),fo&&(uo=new H(qrreaderVideoElement,po,{maxScansPerSecond:3,highlightCodeOutline:!0}),qrreaderBackground.addEventListener("click",wo))},po=function(e){if(ue("dataRead"),null!=ho){if(e=e.data,ue(e.length),Ki(e),!go)return yo(e);try{return vo(e)}catch(e){At(e.message)}}},yo=function(e){ue("resolveRawData"),ho(e),ho=null,uo.stop(),qrreaderBackground.classList.remove("active")},vo=function(e){if(ue("extractHexCodeKey"),64===(e=66===e.length&&"0"===e[0]&&"x"===e[1]?Kt(e):e).length&&$t(e))return yo(e);throw new Error("Invalid Key!")},wo=function(){ue("readerClicked"),uo.stop(),null!=ho&&ho(null),ho=null,qrreaderBackground.classList.remove("active")},bo=function(){if(ue("qrreadermodule.read"),fo)return uo.start(),qrreaderBackground.classList.add("active"),new Promise(function(e){return ho=e});At("We don't have a Camera!")},ko=function(e){return go=!e},Eo=function(){return wo()},xo=({log:de,olog:oo}=$("inputmodule"),function(){var e;de("initialize"),ko(!0),null!=(e=phraseinputFrame.getElementsByClassName("click-catcher")[0])&&e.addEventListener("click",So),acceptPhraseButton.addEventListener("click",_o),cancelPhraseButton.addEventListener("click",Lo),phraseinput.addEventListener("keyup",Bo),phraseinput.addEventListener("keydown",Co)}),Io=function(){de("turnDown"),phraseinputFrame.classList.remove("active"),phraseinput.value="",acceptPhraseButton.classList.add("disabled")},So=function(){de("clickCatcherClicked"),X("none")},Co=function(e){de("phraseinputKeyDowned"),"Enter"!==e.key&&13!==e.keyCode||0!==phraseinput.value.length&&_o()},Bo=function(){de("phraseinputKeyUpped"),0===phraseinput.value.length?acceptPhraseButton.classList.add("disabled"):acceptPhraseButton.classList.remove("disabled")},_o=function(){var e;de("acceptPhraseButtonClicked"),e=phraseinput.value,ee("usePhraseData "+e),Nn(e),Y.protection="phrase",jn(),Ln.classList.add("acceptable"),Pn.classList.add("active"),Dn.className="phrase-protected",X("none")},Lo=function(){de("cancelPhraseButtonClicked"),X("none")},No=function(){de("reset"),Eo(),Io()},To=function(){de("retrievePhrase"),phraseinputFrame.classList.add("active"),phraseinput.focus()},Oo=async function(){var e;de("retrieveQrCode"),e=await bo(),X("none"),e&&(ee("useQrData "+(e=e)),Nn(e),Y.protection="qr",jn(),Ln.classList.add("acceptable"),Kn.classList.add("active"),Dn.className="qr-protected")},qo=({log:he,olog:so}=$("unlockmodule"),function(){var e;he("initialize"),ko(!0),null!=(e=phraseunlockFrame.getElementsByClassName("click-catcher")[0])&&e.addEventListener("click",Ro),unlockButton.addEventListener("click",Do),cancelUnlockButton.addEventListener("click",Ko),phraseunlockInput.addEventListener("keyup",Ao),phraseunlockInput.addEventListener("keydown",Po)}),Ho=function(){he("turnDown"),phraseunlockFrame.classList.remove("active"),phraseunlockInput.value="",unlockButton.classList.add("disabled")},Ro=function(){he("clickCatcherClicked"),X("none")},Po=function(e){he("phraseinputKeyDowned"),"Enter"!==e.key&&13!==e.keyCode||0!==phraseunlockInput.value.length&&Do()},Ao=function(){he("inputKeyUpped"),0===phraseunlockInput.value.length?unlockButton.classList.add("disabled"):unlockButton.classList.remove("disabled")},Do=async function(){var e;he("unlockButtonClicked"),e=phraseunlockInput.value;try{await Or(e),X("none")}catch(e){At(e.message)}},Ko=function(){he("cancelUnlockButtonClicked"),X("none")},Uo=function(){he("reset"),Eo(),Ho()},Mo=async function(){var e;if(he("qrUnlock"),e=await bo())try{Or(e),X("none")}catch(e){Ee(e.message)}},$o=function(){he("phraseUnlock"),phraseunlockFrame.classList.add("active"),phraseunlockInput.focus()};({log:co,olog:lo}=$("modalcore"));var fe,jo,zo,Fo,Vo,Wo,Jo,Qo,ge,Go,me,Zo,Xo,Yo=class{constructor(e){this.modalElement=e,this.modalPromise=null,this.rejectPromise=null,(this.acceptPromise=null)==this.modalElement&&(this.modalElement=null),this.accept=this.accept.bind(this),this.reject=this.reject.bind(this)}assignElement(e){return this.modalElement=e}connectDefaultElements(){var e=this,t=this.modalElement.getElementsByClassName("click-catcher")[0],n=this.modalElement.getElementsByClassName("modal-close-button")[0],r=this.modalElement.getElementsByClassName("modal-accept-button")[0],a=this.modalElement.getElementsByClassName("modal-cancel-button")[0];null!=t&&t.addEventListener("click",function(){return e.reject("click-catcher")}),null!=n&&n.addEventListener("click",function(){return e.reject("modal-close-button")}),null!=r&&r.addEventListener("click",function(){return e.accept("modal-accept-button")}),null!=a&&a.addEventListener("click",function(){return e.reject("modal-cancel-button")})}reject(e){var t;e=e||"Default Modal Reject",t=this.rejectPromise,this.rejectPromise=null,this.acceptPromise=null,this.modalPromise=null,this.modalElement.classList.remove("shown"),null!=t&&t(e)}accept(e){var t;e=e||"Default Modal Accept",t=this.acceptPromise,this.rejectPromise=null,this.acceptPromise=null,this.modalPromise=null,this.modalElement.classList.remove("shown"),null!=t&&t(e)}activate(){var n;null==this.modalPromise&&((n=this).modalPromise=new Promise(function(e,t){return n.rejectPromise=t,n.acceptPromise=e}),this.modalElement.classList.add("shown"))}},es=({log:jo,olog:zo}=$("deleteconfirmation"),Fo=!1,{log:Jo,olog:Qo}=$("uistatemodule"),Wo=Vo=fe=null),ts={"no-key":function(e){io(),Ui(e)},"locked-key":function(e){io(),Mi(e)},"global-view":function(e){io(),$i(e)},"add-exchange":function(e){io(),ji(e)},"exchange-overview":function(e){io(),zi(e),Gi(e)},"add-controller":function(e){io(),Fi(e)},settings:function(e){ao(),hr()},"settings-account":function(e){ao("account"),hr()},"settings-backend":function(e){ao("backend"),hr()},"settings-account-keygeneration":function(e){ao("account"),lr()},"settings-account-keyimport":function(e){ao("account"),ur()},"settings-account-keyexport":function(e){ao("account"),dr()}},ns=function(){jo("turnDownModal"),null==fe.modalPromise||Fo||fe.modalPromise.catch(function(){}),fe.reject("uiState changed"),Fo=!1,No(),Uo()},rs={none:function(e){ns()},deleteconfirmation:function(e){ns(),jo("turnUpModal"),null==fe.modalPromise&&fe.activate()},phraseinput:function(){ns(),To()},qrinput:function(){ns(),Oo()},qrunlock:function(){ns(),Mo()},phraseunlock:function(){ns(),$o()}},as=function(e,t,n){Jo("applyUIState"),es=n,null!=e&&is(e),null!=t&&os(t)},is=function(e){var t;if(Jo("applyUIBaseState "+e),"function"!=typeof(t=ts[e]))throw new Error(`on applyUIStateBase: base '${e}' apply function did not exist!`);Vo=e,t(es)},os=function(e){var t;if(Jo("applyUIStateModifier "+e),t=rs[e],"function"!=typeof os)throw new Error(`on applyUIStateModifier: modifier '${e}' apply function did not exist!`);Wo=e,t(es)},ss=function(){return Wo},cs=function(){return Vo},ls=function(){return es},us=({log:ge,olog:Go}=$("appcoremodule"),me=null,"undefined"!=typeof navigator&&null!==navigator&&null!=navigator.serviceWorker&&(me=navigator.serviceWorker),document.getElementById("current-version")),ds=document.getElementById("new-version"),hs=document.getElementById("menu-version"),fs="no-key",gs="none",ms=function(){ge("initialize"),"function"==typeof ys&&(nn=ys),"function"==typeof vs&&(G=vs),window.addEventListener("popstate",rn),null==sessionStorage.getItem("NAV_info")&&vn(W),W=JSON.parse(sessionStorage.getItem("NAV_info")),Q=!1,null!=us&&(us.textContent=fr),null!=me&&(me.register("serviceworker.js",{scope:"/"}),null!=me.controller&&me.controller.postMessage(`App is version: ${fr}!`),me.addEventListener("message",ks),me.addEventListener("controllerchange",Es))},ps=function(e){var t,n,r,a;if(ge("alterStateOnLoad"),r=(a=e).modifier,t=Lr(),Go(t),t.exists&&t.locked){switch(t.protection){case"qr":if("qrunlock"===r)return!1;In();break;case"phrase":if("phraseunlock"===r)return!1;Sn();break;default:throw new Error("Unhandeled protection value: "+t.protection)}return ge("Key Existed and was Protected!"),!0}if(t.exists)return!1;switch(ge("Key did not exist!"),a.base){case"RootState":n=0===a.depth;break;case"settings":n=1===a.depth;break;case"settings-backend":n=2===a.depth;break;case"settings-account":n=1===a.depth||2===a.depth;break;case"settings-account-keygeneration":case"settings-account-keyimport":n=2===a.depth||3===a.depth;break;default:n=!1}return!n&&(ge("We are in an illegal State!"),kn(!0),!0)},ys=function(e){ge("loadWithNavState"),Go(e),ps(e)||vs(e)},vs=function(e){var t,n,r;ge("navStateUpdate"),t=e.base,r=e.modifier,n=e.context,F.save("navState",e),ws(t,r,n)},ws=function(e,t,n){ge("setUIState"),Go({base:e,mod:t,ctx:n}),"RootState"===e?e=Cr()?Br()?"locked-key":"global-view":"no-key":Br()&&"none"===t&&(e="locked-key"),bs(e,t,n),"deleteconfirmation"===t&&xs()},bs=function(e,t,n){ge("setAppState"),Go({base:e,mod:t,ctx:n}),ge(`Going to apply UI State: ${fs=e?e:fs}:`+(gs=t?t:gs)),as(fs,gs,n)},ks=function(e){ge("  !  onServiceWorkerMessage"),"object"==typeof e.data&&null!=e.data.version&&(e=e.data.version)!==fr&&(ds.textContent=e,hs.classList.add("to-update"))},Es=function(){me.controller.postMessage(`Hello I am version: ${fr}!`),me.controller.postMessage("tellMeVersion")},xs=async function(e){ge("deleteConfirmationProcess");try{jo("userConfirmation"),null==fe.modalPromise&&fe.activate(),Fo=!0,await fe.modalPromise,ge("user confirmed!"),Nr(),ge("account deleted!")}catch(e){ge(e)}finally{X("none")}};({log:Zo,olog:Xo}=$("backendmodule"));var Is,Ss=function(){Zo("initialize")},Cs=-32023;function Bs(e){var t;if(e!==(t=(t=Date.now())-t%Ps)&&e!==(t-=Ps)&&e!==(t+=36e4))throw new Error("Invalid Timestamp!")}function _s(){var e;return(e=Date.now())-e%Ps}function Ls(e,t){return t="string"!=typeof t?JSON.stringify(t):t,Lt(e+t)}(Is=new Map).set(-32700,{message:"JSON Parse Error!"}),Is.set(-32600,{message:"Request is invalid thingy-rpc!"}),Is.set(-32601,{message:"Method not found!"}),Is.set(Cs,{message:"Authentication failed!"}),Is.set(-32002,{message:"No free ressources available on the server!"}),Is.set(-32602,{message:"Invalid params provided!"}),Is.set(-32032,{message:"Execution error!"});var pe,Ns,Ts,Os,qs=class extends Error{constructor(e){super(e),this.name="NetworkError"}},Hs=class extends Error{constructor(e){super(e),this.name="ResponseAuthError"}},Rs=class extends Error{constructor(e,t){super(`${e}: (${e=t.code}) ${Is.get(e).message} (${t.message})`),this.rpcCode=e,this.name="RPCError"}},Ps=18e4,As=class{constructor(e){this.serverURL=e.serverURL,this.serverId=e.serverId,this.serverContext="thingy-rpc-post-connection",this.secretKeyHex=e.secretKeyHex,this.publicKeyHex=e.publicKeyHex,this.name="rpc-client"+Ds(),this.requestId=0,this.sessions=new Array(4),this.anonymousToken=null,(this.publicToken=null)!=e.anonymousToken&&(this.anonymousToken=e.anonymousToken),null!=e.publicToken&&(this.publicToken=e.publicToken),null!=e.name&&(this.name=e.name),null!=e.serverContext&&(this.serverContext=e.serverContext)}updateServer(e,t,n){this.serverURL=e,this.serverId=t,this.serverContext=n,this.requestId=0,this.sessionInfo={}}updateKeys(e,t){this.secretKeyHex=e,this.publicKeyHex=t,this.requestId=0,this.sessionInfo={}}getServerURL(){return this.serverURL}async getServerId(){return null==this.serverId&&await this.requestNodeId("none"),this.serverId}getSecretKey(){return this.secretKeyHex}async getPublicKey(){return null==this.publicKeyHex&&(this.publicKeyHex=await lt(this.secretKeyHex)),this.publicKeyHex}doRPC(e,t,n){if(this.requestingNodeId&&"getNodeId"!==e)throw new Error("Cannot do regular RPCs while requesting NodeId!");switch(n){case"none":return $s(e,t,this);case"anonymous":return js(e,t,this);case"publicAccess":return zs(e,t,this);case"tokenSimple":return Fs(e,t,this);case"tokenUnique":return Vs(e,t,this);case"authCodeSHA2":return Ws(e,t,this);case"signature":case"clientSignature":case"masterSignature":return Ms(e,t,n,this);default:throw new Error(`doRPC: Unknown authType! '${n}'`)}}async requestNodeId(e){var t,n;if(this.requestingNodeId)throw new Error("Request for nodeId already pending!");if("tokenSimple"===e||"tokenUnique"===e||"authCodeSHA2"===e)throw new Error("Requesting nodeId inside session - don't do this!");this.requestingNodeId=!0,t={};try{n=await this.doRPC("getNodeId",t,e),this.serverId=n.nodeId}finally{this.requestingNodeId=!1}}},Ds=function(){var e=Math.random();return Math.round(1e6*e)},Ks=async function(e,t){var n,r,a,i,t={method:"POST",credentials:"omit",body:t,headers:{"Content-Type":"application/json"}};try{return await(a=await fetch(e,t)).json()}catch(e){t=e,n="Error! RPC could not receive a JSON response!",i="No http-status could be provided!";try{i="HTTP-Status: "+a.status}catch(e){throw r=`No response could be retrieved!
Message: ${t.message}
Cause: `+t.cause,new qs(n+` 
${i} 
`+r)}throw r=`${i} 
Message: ${t.message} 
Cause: `+t.cause,new qs(n+` 
`+r)}},Us=function(e){e.requestId=++e.requestId%1e7},Ms=async function(e,t,n,r){var a,i,o;if(Us(r),i=await r.getPublicKey(),a=r.requestId,n={auth:{type:n,clientId:i,name:r.name,requestId:a,timestamp:_s(),signature:""},func:e,args:t},r.requestingNodeId||(o=await r.getServerId()),i=JSON.stringify(n),t=await ut(i,r.secretKeyHex),i=i.replace('"signature":""','"signature":"'+t+'"'),(n=await Ks(r.serverURL,i)).error)throw new Rs(e,n.error);return r.requestingNodeId&&(o=n.result.nodeId),await Ys(n,a,o),n.result},$s=async function(e,t,n){e=JSON.stringify({auth:null,func:e,args:t});if((t=await Ks(n.serverURL,e)).error)throw new Rs(t.error);return t.result},js=async function(e,t,n){if(Us(n),e={auth:{type:"anonymous",requestId:n.requestId,timestamp:_s(),requestToken:n.anonymousToken},func:e,args:t},t=JSON.stringify(e),(e=await Ks(n.serverURL,t)).error)throw new Rs(e.error);return e.result},zs=async function(e,t,n){var r,a;if(Us(n),r=n.requestId,e={auth:{type:"publicAccess",clientId:await n.getPublicKey(),requestId:r,timestamp:_s(),requestToken:n.publicToken},func:e,args:t},t=JSON.stringify(e),n.requestingNodeId||(a=await n.getServerId()),(e=await Ks(n.serverURL,t)).error)throw new Rs(e.error);return n.requestingNodeId&&(a=e.result.nodeId),ec(e,r,a),e.result},Fs=async function(e,t,n){var r,a;if(await Qs(n),Us(n),a=await n.getPublicKey(),r=n.requestId,a={auth:{type:"tokenSimple",clientId:a,name:n.name,requestId:r,timestamp:_s(),requestToken:n.sessions[0].token},func:e,args:t},t=JSON.stringify(a),a=await n.getServerId(),(t=await Ks(n.serverURL,t)).error)throw null!=t.error.code&&t.error.code===Cs&&(n.sessions[0]=null),new Rs(e,t.error);return await ec(t,r,a),t.result},Vs=async function(e,t,n){throw new Error("doTokenUniqueRPC: Not Implemented yet!")},Ws=async function(e,t,n){var r,a,i;if(await Xs(n),Us(n),i=n.sessions[2],a=await n.getPublicKey(),r=n.requestId,a={auth:{type:"authCodeSHA2",clientId:a,name:n.name,requestId:r,timestamp:_s(),requestAuthCode:""},func:e,args:t},t=await n.getServerId(),a=JSON.stringify(a),i=await Ls(i.seedHex,a),a=a.replace('"requestAuthCode":""','"requestAuthCode":"'+i+'"'),(i=await Ks(n.serverURL,a)).error)throw null!=i.error.code&&i.error.code===Cs&&(n.sessions[2]=null),new Rs(e,i.error);return await tc(i,r,t,n),i.result},Js=async function(e,t){var n;Us(t),n={type:e,name:t.name};try{return await t.doRPC("startSession",n,"clientSignature")}catch(e){throw new Error("Explicit Start failed: "+e.message)}},Qs=async function(e){var t;if(null==e.sessions[0]||null==e.sessions[0].token)try{(t={}).token=await Zs(e),e.sessions[0]=t}catch(e){throw t="Could not establish a simple Token session! Details: "+e.message,new Error(t)}},Gs=async function(e,t){var n=t.serverContext;return gt(t.secretKeyHex,t.serverId,t.name+`:${n}_`+e)},Zs=function(e){return Js("tokenSimple",e)},Xs=async function(e){var t,n;if(null==e.sessions[2]||null==e.sessions[2].seedHex)try{t={},n=await Js("authCodeSHA2",e),t.seedHex=await Gs(n,e),e.sessions[2]=t}catch(e){throw n="Could not establish an authCode with SHA2 session! Details: "+e.message,new Error(n)}},Ys=async function(e,t,n){var r,a,i,o,s;try{if(o=e.auth.signature,s=e.auth.timestamp,r=e.auth.requestId,i=e.auth.serverId,null==o)throw new Error("No Signature!");if(null==s)throw new Error("No Timestamp!");if(null==r)throw new Error("No RequestId!");if(null==i)throw new Error("No ServerId!");if(r!==t)throw new Error("RequestId Mismatch!");if(i!==n)throw new Error("ServerId Mismatch!");if(Bs(s),e.auth.signature="",a=JSON.stringify(e),!await dt(o,i,a))throw new Error("Invalid Signature!")}catch(e){throw new Hs(e.message)}},ec=function(e,t,n){var r,a,i;try{if(i=e.auth.timestamp,r=e.auth.requestId,a=e.auth.serverId,null==i)throw new Error("No Timestamp!");if(null==r)throw new Error("No RequestId!");if(null==a)throw new Error("No ServerId!");if(r!==t)throw new Error("RequestId Mismatch!");if(a!==n)throw new Error("ServerId Mismatch!");Bs(i)}catch(e){throw new Hs(e.message)}},tc=async function(e,t,n,r){var a,i,o,s,c,l;try{if(i=e.auth.responseAuthCode,l=e.auth.timestamp,a=e.auth.requestId,s=e.auth.serverId,null==i)throw new Error("No ResponseAuthCode!");if(null==l)throw new Error("No Timestamp!");if(null==a)throw new Error("No RequestId!");if(null==s)throw new Error("No ServerId!");if(a!==t)throw new Error("RequestId Mismatch!");if(s!==n)throw new Error("ServerId Mismatch!");if(Bs(l),null==(c=r.sessions[2])||null==c.seedHex)throw new Error("Local session object has become invalid!");if(e.auth.responseAuthCode="",o=JSON.stringify(e),await Ls(c.seedHex,o)!==i)throw new Error("AuthCodes did not Match!")}catch(e){throw new Hs("authenticateServiceAuthCodeSHA2: "+e.message)}},ye=({log:pe,olog:Ns}=$("backendsettingsmodule"),""),nc="",rc="",ac="",ve=null,ic=function(){pe("initialize"),backendServerInput.addEventListener("keydown",hc),backendServerInput.addEventListener("keyup",fc),backendServerInput.addEventListener("change",uc),backendServerSaveButton.addEventListener("click",cc),backendServerResetButton.addEventListener("click",lc),(ve=F.load("backendStoreObject"))&&ve.url?(backendServerInput.value=ve.url,ye=ve.url,nc=ve.url,ve.id?backendStatedServerId.textContent=ve.id:backendStatedServerId.textContent="-"):(backendServerInput.value="",nc=ye="",backendStatedServerId.textContent="-",ve={url:"",id:""}),Ns(ve),F.addOnChangeListener("account",oc)},oc=function(){pe("accountChanged"),dc()},sc=function(e,t){var n;return pe("createRPCClient"),n=Sr(),e&&!e.endsWith("/thingy-post-rpc")&&(e+="/thingy-post-rpc"),Ns(n),null!=n&&null!=n.key?(e={serverURL:e,serverId:t,secretKeyHex:n.key},Ns(e),new As(e)):null},cc=function(){pe("saveButtonClicked"),ve={url:nc,id:rc},ac=rc,F.save("backendStoreObject",ve,!0),Pt("Successfully Saved Server Connection!")},lc=function(){pe("resetButtonClicked"),backendServerInput.value=ve.url,ye=ve.url,nc=ve.url,ve.id?backendStatedServerId.textContent=ve.id:backendStatedServerId.textContent="-",dc(),Pt("Successfully Resetted to latest Saved Data!")},uc=function(){pe("serverInputChanged"),ye=backendServerInput.value,pe(ye),nc=ye.startsWith("https://")?ye:"https://"+ye,dc()},dc=async function(){var e,t;pe("checkConnection");try{return t=sc(nc,ac),pe("created RPC client"),await t.requestNodeId("clientSignature"),e=await t.getServerId("clientSignature"),pe("requested ServerId"),rc=e,backendStatedServerId.textContent=rc,backendInputContainer.className="connected",pe("assigned the real ServerId")}catch(e){return pe(e),rc="",backendStatedServerId.textContent="-",backendInputContainer.className="connection-fail",pe("applied failed connection!")}},hc=function(e){pe("serverInputKeyDowned"),"Escape"===e.key?(backendServerInput.value=ye,backendInputContainer.classList.remove("typing"),backendServerInput.blur()):ye!==backendServerInput.value?backendInputContainer.classList.add("typing"):backendInputContainer.classList.remove("typing")},fc=function(){var e;pe("serverInputKeyUpped"),e=ye!==backendServerInput.value,Ns({unappliedChange:e,inputValue:backendServerInput.value,currentInputValue:ye}),e?backendInputContainer.classList.add("typing"):backendInputContainer.classList.remove("typing")};({log:Ts,olog:Os}=$("datamanagersettingsmodule"));var we,gc,mc,pc=function(){Ts("initialize")},yc={backendsettingsmodule:!0},vc=yc;for(mc in vc)vc[mc]&&(Xe[mc]=!0);({log:we,olog:gc}=$("globalviewmodule"));var wc,bc,kc=document.getElementById("exchange-display-entry-template-container"),Ec=document.getElementById("total-evaluation-number"),xc=document.getElementById("total-evaluation-unit"),Ic=kc.innerHTML,Sc=null,Cc=0,Bc=function(){we("initialize"),addExchangeButton.addEventListener("click",_c),F.addOnChangeListener("exchangeData",Nc),Nc()},_c=function(){we("addExchangeButtonClicked"),Ft("add-exchange",null,1)},Lc=function(e){var t;we("exchangeOverviewClicked"),t=this.parentElement.getAttribute("index"),Ft("exchange-overview",{exchangeIndex:t},1)},Nc=async function(){we("updateData"),await Rc(),Tc(),Hc()},Tc=function(){we("updateDisplay"),Oc(),qc()},Oc=function(){var e,t,n;for(we("updateTotalEvaluationDisplay"),t=Cc=0,n=Sc.length;t<n;t++)"number"==typeof(e=Sc[t]).currentEvaluation&&(Cc+=e.currentEvaluation);Ec.textContent=Cc,xc.textContent=""},qc=function(){var e,t,n,r,a,i;for(we("updateAllExchangesDisplay"),n="",r=a=0,i=Sc.length;a<i;r=++a)t=Sc[r],(e={}).i=r,e.evaluationUnit="",e.iconHref=t.iconHref,e.name=t.name,e.currentEvaluation=t.currentEvaluation,n+=q.render(Ic,e);allExchangesDisplay.innerHTML=n},Hc=function(){var e,t,n;for(we("attachExchangeEventListeners"),t=0,n=(e=globalviewFrame.getElementsByClassName("exchange-overview-button")).length;t<n;t++)e[t].addEventListener("click",Lc)},Rc=async function(){return ha||await Qr(),Sc=await ua};({log:wc,olog:bc}=$("lockedframemodule"));var Pc,Ac,Dc=function(){wc("initialize"),lockedUnlockButton.addEventListener("click",Kc),lockedDeleteButton.addEventListener("click",Uc)},Kc=function(){var e;switch(wc("unlockClicked"),(e=Lr()).protection){case"phrase":return Sn();case"qr":return In();default:throw new Error("Unlock on invalid protection: "+e.protection)}},Uc=function(){wc("deleteClicked"),Cn()};({log:Pc,olog:Ac}=$("observerclientmodule"));var Mc,$c,jc,zc,Fc,Vc,Wc=function(e){return Pc("createClient"),Ac(e)},Jc=({log:Mc,olog:$c}=$("rpcpostclient"),{log:jc,olog:zc}=$("testermodule"),function(){jc("initialize")});({log:Fc,olog:Vc}=$("tutorialmodule"));var Qc,Gc,Zc=function(){Fc("initialize"),tutorialConfigureKeyButton.addEventListener("click",Xc)},Xc=function(){Fc("configureKeyClicked"),xn()};({log:Qc,olog:Gc}=$("usermodalmodule"));var Yc,el,tl=function(){Qc("initialize"),jo("initialize"),(fe=new Yo(deleteconfirmation)).connectDefaultElements(),deleteconfirmation.getElementsByClassName("modal-content")[0]};({log:Yc,olog:el}=$("viewcontrollermodule"));var nl,rl,al=function(){Yc("initialize")},il=({log:nl,olog:rl}=$("websocketmodule"),function(){nl("initialize")});let R={accountmodule:Be,accountsettingsmodule:Se,addcontrollermodule:Le,addexchangemodule:Ne,aliasmodule:Oe,appcoremodule:Ue,backendmodule:Me,backendsettingsmodule:$e,configmodule:Ce,contentmodule:qe,datamanagersettingsmodule:je,datamodule:_e,debugmodule:ze,globalviewmodule:Fe,inputmodule:Ae,localkeymodule:Te,lockedframemodule:Ve,messageboxmodule:Ee,observerclientmodule:We,qrdisplaymodule:Ie,qrreadermodule:Pe,settingsmodule:Re,statemodule:F,testermodule:Je,tutorialmodule:Qe,uistatemodule:Ke,unlockmodule:De,usermodalmodule:Ge,utilsmodule:xe,viewcontrollermodule:Ze,viewexchangemodule:He,websocketmodule:it};var ol,kc=M(13);M.n(kc)().initialize(),M.g.allModules=R,ol=zt,async function(){var t,n,e=(()=>{var e=[];for(n in R)null!=(t=R[n]).initialize&&e.push(t.initialize());return e})();return await Promise.all(e),ol()}()}})()</script></body></html>