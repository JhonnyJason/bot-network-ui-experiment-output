<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Asset Flow Control UI</title><meta name="description" content="This is an experimental first UI for our Asset Flow Control System."><meta property="og:image" content="https://"><meta property="og:title" content="Asset Flow Control UI"><meta property="og:description" content="This is an experimental first UI for our Asset Flow Control System."><meta property="og:type" content="website"><meta property="og:url" content="https://"><meta property="og:locale" content="en_US"><link rel="manifest" href="manifest.json"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="viewport" content="width=device-width,initial-scale=1"><style>a,abbr,acronym,address,article,aside,b,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,nav,object,ol,p,pre,q,samp,section,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-size:100%;font:inherit;vertical-align:baseline}body{line-height:1;font-family:Arial,Helvetica,sans-serif;position:relative;background-color:#070202;color:#feffff;font-size:12pt;height:100%;width:100%;overflow:hidden}ol,ul{list-style:circle}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}a:hover,ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}a{transition:.2s ease-in-out;color:inherit;text-decoration:none}ul{margin:0 0 0 25px}b,strong{font-weight:700}i{font-style:italic}button,input,input:focus,input[type=checkcbox]:focus,select,select:focus,textarea,textarea:focus{border:0;padding:7px;outline:0;line-height:normal;overflow:hidden}button:hover,input[type=submit]:hover{border:0;padding:0;outline:0;line-height:normal;overflow:hidden}html{height:100%}h1{font-size:17pt}h2{font-size:15pt}p{font-size:12pt}input,option,select{width:100%;box-sizing:border-box;font-size:14pt}#accountsettings h1{margin-top:40px!important}#accountsettings h3{margin:10px 0}#accountsettings #import-options-line,#accountsettings #import-title,#accountsettings #key-input-line{display:none}#accountsettings #add-key-button,#accountsettings #floating-export,#accountsettings #floating-import,#accountsettings #signature-export,#accountsettings #signature-import{opacity:.2;pointer-events:none}#id-display{overflow:hidden;width:100%;background-color:#000;display:flex;padding:7px;box-sizing:border-box}#id-display .display-frame-content{text-overflow:ellipsis;overflow:hidden;width:calc(100% - 15px)}#id-display .copy-icon{width:15px;height:15px}#id-qr-line{overflow:hidden;display:flex;justify-content:flex-end}#id-qr-button{padding:5px}#id-qr-button svg{width:30px;height:30px}#key-input-line{position:relative;background-color:#000}#key-input-line input{width:calc(100% - 60px)}#accept-key-button{display:none;position:absolute;left:auto;right:3px;top:50%;transform:translateY(-50%)}#accept-key-button .click-button{padding:7.5px}#accept-key-button svg{width:25px;height:25px}#add-delete-options-line,#export-options-line,#import-options-line{display:flex;justify-content:space-around;margin:auto auto 30px;max-width:320px;border:1px solid #000}#add-delete-options-line .click-button,#export-options-line .click-button,#import-options-line .click-button{padding:7.5px}#add-delete-options-line svg,#export-options-line svg,#import-options-line svg{width:30px;height:30px}#accountsettings.no-key #delete-key-button{opacity:.2;pointer-events:none}#accountsettings.no-key #export-options-line,#accountsettings.no-key #export-title{display:none}#accountsettings.no-key #add-key-button{opacity:1;pointer-events:all}#accountsettings.no-key #import-title,#accountsettings.no-key #key-input-line{display:block}#accountsettings.no-key #import-options-line{display:flex}#accountsettings.importing #accept-key-button{display:inline-block}#signalling-server-input{width:100%;padding:7px;box-sizing:border-box;border:3px solid #45d445;overflow:hidden;text-overflow:ellipsis}#signalling-server-input:focus{width:100%;background-color:#fff}#signalling-server-works-indicator{color:#45d445;text-align:left;margin-top:10px;margin-bottom:30px}#signalling-server-button-container{display:flex;justify-content:space-between;margin-bottom:30px}#signalling-server-button-container .click-button{background-color:grey;font-weight:700;min-width:120px;padding:10px;border-radius:3px}#signalling-server-explaination-text{text-align:left}.click-button{cursor:pointer;position:relative;display:inline-block;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-button::after{content:"";width:100%;height:100%;position:absolute;top:0;left:0;border-radius:12px;display:inline-block;transform:scaleX(1.2) scaleY(1.2);opacity:0;transition:opacity .3s,transform .3s;background:#fff;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-button:active::after{transform:scaleX(0) scaleY(0);opacity:.8;transition:opacity,transform}.click-button:disabled{color:#888;background-color:#eee;filter:grayscale(100%)}.click-button:disabled::after{display:none}#tutorialframe{display:none;color:#000;padding:30px}#tutorialframe h1{margin-bottom:20px}#tutorialframe p{margin-bottom:10px}#tutorialframe p.wish-paragraph{font-size:25pt;transform:rotate(-5deg);margin-top:40px;margin-left:auto;margin-right:0;width:fit-content}#tutorialframe .click-button{margin-bottom:40px;margin-top:20px;text-align:center;width:fit-content}#tutorialframe #sample-settings-icon{height:15px;width:15px}#content.no-key #tutorialframe{display:block}#content{position:absolute;top:0;left:0;width:100%;height:100%;padding:20px 0;box-sizing:border-box;transition:opacity .3s;overflow:hidden;text-align:left}#content .click-button{padding:7px 10px;min-width:180px;margin-left:15px;background-color:grey;color:#fff;font-weight:700;border-radius:3px}#content input{display:block;color:#000;margin-left:auto;margin-right:auto;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;border:1px solid grey;width:calc(100% - 30px)}#data-manager-input{width:100%;padding:7px;box-sizing:border-box;border:3px solid #45d445;overflow:hidden;text-overflow:ellipsis}#data-manager-input:focus{width:100%;background-color:#fff}#data-manager-works-indicator{color:#45d445;text-align:left;margin-top:10px;margin-bottom:30px}#data-manager-button-container{display:flex;justify-content:space-between;margin-bottom:30px}#data-manager-button-container .click-button{background-color:grey;font-weight:700;min-width:120px;padding:10px;border-radius:3px}#data-manager-explaination-text{text-align:left}#functiontester{display:none}.check-tests #functiontester{display:block}#messagebox{padding:12px;box-sizing:border-box;width:80%;background-color:element-background;border-radius:10px 10px 0 0;position:fixed;bottom:0;left:10%;transition:.5s;z-index:555;word-wrap:break-word}#messagebox.gone{transform:translateY(50px);opacity:0}#messagebox.error{background-color:red;color:#000;font-weight:700}#preloader-demo{display:flex;padding:20px;justify-content:space-between}#preloader-demo .preloader{color:#059862;width:80px;height:80px}.preloader{height:inherit;width:inherit;position:relative;transform:translateZ(0)}.dots .preloader-element-1,.dots .preloader-element-2,.dots .preloader-element-3{position:absolute;top:50%;transform:translate(-50%,-50%);height:20%;width:20%;border-radius:50%;animation:1.2s ease-in-out infinite dot-animation;box-sizing:border-box;background-color:currentcolor}.dots .preloader-element-1{left:17%;animation-delay:-.32s}.dots .preloader-element-2{left:50%;animation-delay:-.16s}.dots .preloader-element-3{left:83%}.dots .preloader-element-4{display:none}.spinner-1 .preloader-element-1,.spinner-1 position absolute{top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%;box-sizing:border-box;border-radius:50%;border:3px solid currentcolor;border-bottom-color:transparent;background-color:transparent;animation:.7s linear infinite spinner-animation}.spinner-1 .preloader-element-2,.spinner-1 .preloader-element-3,.spinner-1 .preloader-element-4{display:none}.spinner-2 .preloader-element-1,.spinner-2 position absolute{top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%;box-sizing:border-box;border-radius:50%;border:4px solid transparent;border-top:4px solid currentcolor;background-color:transparent;animation:.7s cubic-bezier(.53,.21,.29,.67) infinite spinner-animation}.spinner-2 .preloader-element-2{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%;box-sizing:border-box;border-radius:50%;border:3px solid currentcolor;opacity:.2;background-color:transparent}.spinner-2 .preloader-element-3,.spinner-2 .preloader-element-4{display:none}.squares{transform:rotate(45deg)}.squares .preloader-element-1,.squares .preloader-element-2,.squares .preloader-element-3,.squares .preloader-element-4{position:absolute;height:33%;width:33%;animation:1.6s linear infinite square-animation;box-sizing:border-box;background-color:currentcolor}.squares .preloader-element-1{top:16.5%;left:16.5%;animation-delay:-1.2s}.squares .preloader-element-2{top:16.5%;left:51.5%;animation-delay:-.8s}.squares .preloader-element-3{top:51.5%;left:51.5%;animation-delay:-.4s}.squares .preloader-element-4{top:51.5%;left:16.5%}.circles .preloader-element-1,.circles .preloader-element-2,.circles .preloader-element-3{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%;box-sizing:border-box;animation:1.2s linear infinite circle-animation;background-color:transparent;border:3px solid currentcolor;border-radius:50%}.circles .preloader-element-1{animation-delay:-.8s}.circles .preloader-element-2{animation-delay:-.4s}.circles .preloader-element-4{display:none}@-moz-keyframes dot-animation{0%,100%,80%{transform:translate(-50%,-50%) scale(0)}40%{transform:translate(-50%,-50%) scale(1)}}@-webkit-keyframes dot-animation{0%,100%,80%{transform:translate(-50%,-50%) scale(0)}40%{transform:translate(-50%,-50%) scale(1)}}@-o-keyframes dot-animation{0%,100%,80%{transform:translate(-50%,-50%) scale(0)}40%{transform:translate(-50%,-50%) scale(1)}}@keyframes dot-animation{0%,100%,80%{transform:translate(-50%,-50%) scale(0)}40%{transform:translate(-50%,-50%) scale(1)}}@-moz-keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-webkit-keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-o-keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-moz-keyframes square-animation{0%,100%{opacity:1}16%,84%{opacity:.5}32%,68%{opacity:.2}}@-webkit-keyframes square-animation{0%,100%{opacity:1}16%,84%{opacity:.5}32%,68%{opacity:.2}}@-o-keyframes square-animation{0%,100%{opacity:1}16%,84%{opacity:.5}32%,68%{opacity:.2}}@keyframes square-animation{0%,100%{opacity:1}16%,84%{opacity:.5}32%,68%{opacity:.2}}@-moz-keyframes circle-animation{0%{transform:translate(-50%,-50%) scale(0);opacity:0}60%{transform:translate(-50%,-50%) scale(.5);opacity:1}75%{opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}@-webkit-keyframes circle-animation{0%{transform:translate(-50%,-50%) scale(0);opacity:0}60%{transform:translate(-50%,-50%) scale(.5);opacity:1}75%{opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}@-o-keyframes circle-animation{0%{transform:translate(-50%,-50%) scale(0);opacity:0}60%{transform:translate(-50%,-50%) scale(.5);opacity:1}75%{opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}@keyframes circle-animation{0%{transform:translate(-50%,-50%) scale(0);opacity:0}60%{transform:translate(-50%,-50%) scale(.5);opacity:1}75%{opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}#qrdisplay-background{position:absolute;top:0;left:0;z-index:299;height:100%;width:100%;overflow:hidden;transform:translateY(-102%);background-color:rgba(7,2,2,.4);opacity:0;transition:opacity .3s;pointer-events:none}#qrdisplay-content{padding:15px;background-color:rgba(7,2,2,.8);word-break:break-all;text-align:center}#qrdisplay-qr{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:40px;background-color:#fff}#qrdisplay-background.active{transform:translateY(0);opacity:1;pointer-events:all}#qrreader-background{position:absolute;top:0;left:0;z-index:299;height:100%;width:100%;overflow:hidden;background-color:element-background;display:flex;align-items:center;transform:translateY(-102%);opacity:0;transition:opacity .3s;pointer-events:none}#qrreader-background video{width:100vw;height:100vw;object-fit:cover}#qrreader-background.active{transform:translateY(0);opacity:1;pointer-events:all}.settingspage-content #secretmanager-input,.settingspage-content #secretmanager-options{width:100%;padding:7px;box-sizing:border-box;border:none;overflow:hidden;text-overflow:ellipsis;background-color:#feffff;color:#070202}.settingspage-content .is-valid{border:3px solid #45d445}.settingspage-content .is-invalid{border:3px solid #d44545}.settingspage-content #secretmanager-works-indicator{color:#45d445;text-align:left;margin-top:10px;margin-bottom:30px}.settingspage-content #secretmanager-button-container{display:flex;justify-content:flex-end;margin-bottom:30px}.settingspage-content #secretmanager-button-container button{background-color:grey;font-weight:700;min-width:120px;padding:10px;margin-left:3px;border-radius:3px;color:#feffff}.settingspage-content #secretmanager-explaination-text{text-align:left;background-color:#070202;color:#feffff}#settings{position:absolute;top:0;left:0;width:100%;height:100%;padding:20px 0;box-sizing:border-box;overflow:hidden;transition:opacity .3s;opacity:0;overflow-y:auto;z-index:-1}.settings-entry{padding:15px 20px;font-size:15pt;text-align:left;line-height:110%;display:block;border-bottom:1px solid rgba(254,255,255,.15)}.settings-entry .text{max-width:calc(100% - 30px);overflow:hidden;text-overflow:ellipsis;color:#feffff}.settings-entry .arrow{position:absolute;right:20px;top:50%;transform:translateY(-50%);color:rgba(254,255,255,.4)}.settings-entry .arrow svg{width:30px;height:30px}.icon-entry .text{max-width:calc(100% - 70px);overflow:hidden;text-overflow:ellipsis;position:relative;left:40px;color:#feffff}.icon-entry .icon{position:absolute;left:20px;top:50%;transform:translateY(-50%);color:#feffff}.icon-entry .icon svg{width:30px;height:30px}.settings-entry:last-child{border-bottom:none}.grouping-head{margin-top:30px;padding:15px 20px;font-size:13pt;text-align:right;color:rgba(254,255,255,.33)}.grouping-head:first-child{margin-top:5px}.settingspage{position:fixed;width:100%;height:100%;z-index:200;overflow:hidden;background-color:#070202;transition:.3s;transform:translateX(102%);opacity:0}.settingspage.here{transform:translateX(0);opacity:1}.settingspage-top{position:fixed;display:flex;justify-content:space-between;align-items:center;top:0;right:0;width:100%;height:60px;padding:15px;box-sizing:border-box;background-color:#feffff;color:#070202;text-align:right}.settingspage-top svg{width:30px;height:30px}.settingspage-content{position:absolute;bottom:15px;left:15px;height:calc(100% - 90px);width:calc(100% - 30px);overflow:hidden;padding-top:30px;box-sizing:border-box}.settingspage-title{text-align:left;font-size:15pt;margin-left:30px}header{position:fixed;width:100%;height:35px}#head-text{position:fixed;top:20px;left:30px;font-size:15pt;transition:transform .3s}#settings-text{position:fixed;top:20px;left:65px;font-size:20px;font-weight:700;color:#070202;transition:transform .3s;transform:translateX(100vw)}#settings-button{position:fixed;top:0;right:0;width:60px;height:60px;padding:15px;box-sizing:border-box;transition:transform .3s}#settings-button svg{width:30px;height:30px}body.settings #settings-button{transform:translateX(-100vw) translateX(100%) translateX(15px);color:#070202}body.settings #settings-text{transform:translateX(0)}body.settings #head-text{transform:translateX(-300px)}body.settings{background-color:#feffff;color:#070202}#settingsoff{position:fixed;top:0;right:0;width:60px;height:60px;padding:15px;box-sizing:border-box;transition:transform .3s;transform:translateX(102%);color:#070202;z-index:5}#settingsoff svg{width:30px;height:30px}main{position:fixed;bottom:0;left:5px;height:calc(100% - 60px);width:calc(100% - 5px);overflow:hidden;z-index:99;transition:background-color .3s;background-color:#feffff}body.settings main{background-color:#070202}body.settings #content{opacity:0;z-index:-1}body.settings #settings{opacity:1;z-index:20}body.settings #settingsoff{transform:translateX(0)}#svgicon-symbols{display:none}#svgicon-definitions{position:absolute;height:0;width:0;bottom:0;right:0}</style></head><body><svg id="svgicon-definitions"><defs><filter id="svg-dropshadow-filter" height="130%" width="130%"><fegaussianblur in="SourceGraphic" stddeviation="3" result="blurOut"></fegaussianblur><feColorMatrix in="blurOut" type="saturate" values="0.25" result="shadowOut"></feColorMatrix><feblend in="SourceGraphic" in2="shadowOut" mode="normal"></feblend></filter></defs></svg> <svg id="svgicon-symbols"><symbol id="svg-cross-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path path fill="currentColor" d="M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"></path></symbol><symbol id="svg-menu-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"></path></symbol><symbol id="svg-chevron-left-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"></path></symbol><symbol id="svg-chevron-right-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></symbol><symbol id="svg-settings-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"></path></symbol><symbol id="svg-account-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"></path></symbol><symbol id="svg-key-shield-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,8A1,1 0 0,1 13,9A1,1 0 0,1 12,10A1,1 0 0,1 11,9A1,1 0 0,1 12,8M21,11C21,16.55 17.16,21.74 12,23C6.84,21.74 3,16.55 3,11V5L12,1L21,5V11M12,6A3,3 0 0,0 9,9C9,10.31 9.83,11.42 11,11.83V18H13V16H15V14H13V11.83C14.17,11.42 15,10.31 15,9A3,3 0 0,0 12,6Z"></path></symbol><symbol id="svg-data-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M4 4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6H12L10 4M11 10C12.3 10 13.4 10.8 13.8 12H20V14H18V16H16V14H13.8C13.4 15.2 12.3 16 11 16C9.3 16 8 14.7 8 13S9.3 10 11 10M11 12C10.4 12 10 12.4 10 13C10 13.6 10.4 14 11 14C11.6 14 12 13.6 12 13S11.6 12 11 12Z"></path></symbol><symbol id="svg-server-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M13,19H14A1,1 0 0,1 15,20H22V22H15A1,1 0 0,1 14,23H10A1,1 0 0,1 9,22H2V20H9A1,1 0 0,1 10,19H11V17H4A1,1 0 0,1 3,16V12A1,1 0 0,1 4,11H20A1,1 0 0,1 21,12V16A1,1 0 0,1 20,17H13V19M4,3H20A1,1 0 0,1 21,4V8A1,1 0 0,1 20,9H4A1,1 0 0,1 3,8V4A1,1 0 0,1 4,3M9,7H10V5H9V7M9,15H10V13H9V15M5,5V7H7V5H5M5,13V15H7V13H5Z"></path></symbol><symbol id="svg-signal-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12 10C10.9 10 10 10.9 10 12S10.9 14 12 14 14 13.1 14 12 13.1 10 12 10M18 12C18 8.7 15.3 6 12 6S6 8.7 6 12C6 14.2 7.2 16.1 9 17.2L10 15.5C8.8 14.8 8 13.5 8 12.1C8 9.9 9.8 8.1 12 8.1S16 9.9 16 12.1C16 13.6 15.2 14.9 14 15.5L15 17.2C16.8 16.2 18 14.2 18 12M12 2C6.5 2 2 6.5 2 12C2 15.7 4 18.9 7 20.6L8 18.9C5.6 17.5 4 14.9 4 12C4 7.6 7.6 4 12 4S20 7.6 20 12C20 15 18.4 17.5 16 18.9L17 20.6C20 18.9 22 15.7 22 12C22 6.5 17.5 2 12 2Z"></path></symbol><symbol id="svg-stun-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M8,10V13H14V18H8V21L2,15.5L8,10M22,8.5L16,3V6H10V11H16V14L22,8.5Z"></path></symbol><symbol id="svg-qrscan-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M4,4H10V10H4V4M20,4V10H14V4H20M14,15H16V13H14V11H16V13H18V11H20V13H18V15H20V18H18V20H16V18H13V20H11V16H14V15M16,15V18H18V15H16M4,20V14H10V20H4M6,6V8H8V6H6M16,6V8H18V6H16M6,16V18H8V16H6M4,11H6V13H4V11M9,11H13V15H11V13H9V11M11,6H13V10H11V6M2,2V6H0V2A2,2 0 0,1 2,0H6V2H2M22,0A2,2 0 0,1 24,2V6H22V2H18V0H22M2,18V22H6V24H2A2,2 0 0,1 0,22V18H2M22,22V18H24V22A2,2 0 0,1 22,24H18V22H22Z"></path></symbol><symbol id="svg-qrcode-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"></path></symbol><symbol id="svg-code-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z"></path><symbol id="svg-check-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"></symbol><path fill="currentColor" d="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-add-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-copy-icon" preserveAspectRatio="xMidYMid meet" viewBox="-21 0 512 512"><path fill="currentColor" d="m325.332031 512h-266.664062c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-288c0-32.363281 26.304688-58.664062 58.667969-58.664062h10.664062c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16h-10.664062c-14.699219 0-26.667969 11.964843-26.667969 26.664062v288c0 14.699219 11.96875 26.667969 26.667969 26.667969h266.664062c14.699219 0 26.667969-11.96875 26.667969-26.667969v-10.664062c0-8.832031 7.167969-16 16-16s16 7.167969 16 16v10.664062c0 32.363281-26.304688 58.667969-58.667969 58.667969zm0 0"></path><path fill="currentColor" d="m410.667969 384h-224c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-266.664062c0-32.363281 26.304688-58.667969 58.667969-58.667969h224c32.363281 0 58.664062 26.304688 58.664062 58.667969v266.664062c0 32.363281-26.300781 58.667969-58.664062 58.667969zm-224-352c-14.699219 0-26.667969 11.96875-26.667969 26.667969v266.664062c0 14.699219 11.96875 26.667969 26.667969 26.667969h224c14.699219 0 26.664062-11.96875 26.664062-26.667969v-266.664062c0-14.699219-11.964843-26.667969-26.664062-26.667969zm0 0"></path></symbol><symbol id="svg-trash-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z"></path></symbol><symbol id="svg-gitub-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"></path></symbol></svg><div id="qrdisplay-background"><div id="qrdisplay-content"></div><div id="qrdisplay-qr"></div></div><div class="gone" id="messagebox"></div><div id="qrreader-background"><video id="qrreader-video-element"></video></div><div class="settingspage" id="settingspage-account"><div class="settingspage-top"><div class="settingspage-title">Account</div><div class="settingspage-backbutton click-button"><svg><use href="#svg-chevron-left-icon"></use></svg></div></div><div class="settingspage-content"><div id="accountsettings"><p>By importing or generating any key, I understand that - whenever using said key the associated account will be identifiable by its ID.</p><h2>ID</h2><div class="text-display-frame click-button" id="id-display"><div class="display-frame-content"></div><svg class="copy-icon"><use href="#svg-copy-icon"></use></svg></div><div id="id-qr-line"><div class="click-button" id="id-qr-button"><svg><use href="#svg-qrcode-icon"></use></svg></div></div><h2>Create Key | Delete Key</h2><div id="add-delete-options-line"><div class="click-button" id="add-key-button"><svg><use href="#svg-add-icon"></use></svg></div><div class="click-button" id="delete-key-button"><svg><use href="#svg-trash-icon"></use></svg></div></div><h3 id="import-title">Import Key</h3><div id="key-input-line"><input id="import-key-input"><div class="click-button" id="accept-key-button"><svg><use href="#svg-check-icon"></use></svg></div></div><div id="import-options-line"><div class="click-button" id="qr-scan-import"><svg><use href="#svg-qrscan-icon"></use></svg></div><div class="click-button" id="floating-import"><svg><use href="#svg-code-icon"></use></svg></div><div class="click-button" id="signature-import"><svg><use href="#svg-metamask-icon"></use></svg></div></div><h3 id="export-title">Export Key</h3><div id="export-options-line"><div class="click-button" id="copy-export"><svg><use href="#svg-copy-icon"></use></svg></div><div class="click-button" id="qr-export"><svg><use href="#svg-qrcode-icon"></use></svg></div><div class="click-button" id="floating-export"><svg><use href="#svg-code-icon"></use></svg></div><div class="click-button" id="signature-export"><svg><use href="#svg-metamask-icon"></use></svg></div></div></div></div></div><div class="settingspage" id="settingspage-secretmanager"><div class="settingspage-top"><div class="settingspage-title">Secret Manager</div><div class="settingspage-backbutton click-button"><svg><use href="#svg-chevron-left-icon"></use></svg></div></div><div class="settingspage-content"><select id="secretmanager-options"><option>Muahahah</option><option>ddada</option></select><div id="secretmanager-works-indicator">Server is ready</div><div id="secretmanager-button-container"><button class="click-button" id="secretmanager-ok-button">okay</button> <button class="click-button" id="secretmanager-delete-button">add</button> <button class="click-button" id="secretmanager-delete-button">delete</button> <button class="click-button" id="secretmanager-reset-button">reset</button></div><p id="secretmanager-explaination-text">This is the Server used that to retrieve and pass on secrets - thus is essential for all the authentication for your account - it must be compatible with the Secret Manager API.<br><br><link-to-api-doc></link-to-api-doc></p></div></div><div class="settingspage" id="settingspage-datamanager"><div class="settingspage-top"><div class="settingspage-title">Data Manager</div><div class="settingspage-backbutton click-button"><svg><use href="#svg-chevron-left-icon"></use></svg></div></div><div class="settingspage-content"><input id="data-manager-input"><div id="data-manager-works-indicator">Server is ready</div><div id="data-manager-button-container"><div class="click-button" id="data-manager-ok-button">okay</div><div class="click-button" id="data-manager-reset-button">reset</div></div><p id="data-manager-explaination-text">This is the Server used to store relevant data online - it must be compatible with the Data Manager API.<br><br><link-to-api-doc></link-to-api-doc></p></div></div><div class="settingspage" id="settingspage-backend"><div class="settingspage-top"><div class="settingspage-title">Backend Server</div><div class="settingspage-backbutton click-button"><svg><use href="#svg-chevron-left-icon"></use></svg></div></div><div class="settingspage-content"><input id="signalling-server-input"><div id="signalling-server-works-indicator">Server is ready</div><div id="signalling-server-button-container"><div class="click-button" id="signalling-server-ok-button">okay</div><div class="click-button" id="signalling-server-reset-button">reset</div></div><p id="signalling-server-explaination-text">This is the Server used that both ends would know eachother - it must be compatible with our API.<br><br><link-to-api-doc></link-to-api-doc></p></div></div><header><div id="head-text">Asset Flow Control UI</div><div class="click-button" id="settings-button"><svg><use href="#svg-settings-icon"></use></svg></div><div id="settings-text">Settings</div></header><div id="settingsoff"><div class="click-button" id="settingsoff-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><main><div id="content"><div id="tutorialframe"><h1>Welcome to the Asset Flow Control System</h1><p>You read this because you donot have a key available yet.</p><div class="click-button" id="tutorial-configure-key-button">Set Key</div><p>After you have set your key, please use the settings menu on the top-right ( <svg id="sample-settings-icon"><use href="#svg-settings-icon"></use></svg> ) to manage the connection with your bot.</p><p>Make sure that yor backend server is configured correctly ;-)</p><p class="wish-paragraph">Happy botting!</p></div><div id="functiontester"><div id="test-regular-operations-container"><button class="click-button" id="latest-orders-button">getLatestOrders</button> <button class="click-button" id="latest-tickers-button">getLatestTickers</button> <button class="click-button" id="latest-balances-button">getLatestBalances</button></div><div id="display-regular-operations-response-container"></div></div></div><div id="settings"><div class="grouping-head">Account Settings</div><div class="settings-group"><div class="settings-entry click-button icon-entry" id="settingsentry-account"><div class="icon"><svg><use href="#svg-account-icon"></use></svg></div><div class="text">Account</div><div class="arrow"><svg><use href="#svg-chevron-right-icon"></use></svg></div></div><div class="settings-entry click-button icon-entry" id="settingsentry-secretmanager"><div class="icon"><svg><use href="#svg-key-shield-icon"></use></svg></div><div class="text">Secret Manager</div><div class="arrow"><svg><use href="#svg-chevron-right-icon"></use></svg></div></div></div><div class="grouping-head">Backend Settings</div><div class="settings-group"><div class="settings-entry click-button icon-entry" id="settingsentry-backend"><div class="icon"><svg><use href="#svg-server-icon"></use></svg></div><div class="text">Backend Server</div><div class="arrow"><svg><use href="#svg-chevron-right-icon"></use></svg></div></div></div></div></main><script>(()=>{var a,o,u,d,c,r={581:(e,t,r)=>{r.r(t),r.d(t,{nothing:()=>n});var n=null},13:function(t,e,r){!function(){var e={name:"indexdomconnect",initialize:function(){r.g.content=document.getElementById("content"),r.g.latestOrdersButton=document.getElementById("latest-orders-button"),r.g.latestTickersButton=document.getElementById("latest-tickers-button"),r.g.latestBalancesButton=document.getElementById("latest-balances-button"),r.g.displayRegularOperationsResponseContainer=document.getElementById("display-regular-operations-response-container"),r.g.settingsButton=document.getElementById("settings-button"),r.g.settingsoffButton=document.getElementById("settingsoff-button"),r.g.secretmanagerOptions=document.getElementById("secretmanager-options"),r.g.accountsettings=document.getElementById("accountsettings"),r.g.idDisplay=document.getElementById("id-display"),r.g.idQrButton=document.getElementById("id-qr-button"),r.g.addKeyButton=document.getElementById("add-key-button"),r.g.deleteKeyButton=document.getElementById("delete-key-button"),r.g.importKeyInput=document.getElementById("import-key-input"),r.g.acceptKeyButton=document.getElementById("accept-key-button"),r.g.qrScanImport=document.getElementById("qr-scan-import"),r.g.floatingImport=document.getElementById("floating-import"),r.g.signatureImport=document.getElementById("signature-import"),r.g.copyExport=document.getElementById("copy-export"),r.g.qrExport=document.getElementById("qr-export"),r.g.floatingExport=document.getElementById("floating-export"),r.g.signatureExport=document.getElementById("signature-export"),r.g.settingsButton=document.getElementById("settings-button"),r.g.settingsoffButton=document.getElementById("settingsoff-button"),r.g.qrreaderBackground=document.getElementById("qrreader-background"),r.g.qrreaderVideoElement=document.getElementById("qrreader-video-element"),r.g.messagebox=document.getElementById("messagebox"),r.g.qrdisplayBackground=document.getElementById("qrdisplay-background"),r.g.qrdisplayContent=document.getElementById("qrdisplay-content"),r.g.qrdisplayQr=document.getElementById("qrdisplay-qr")}};t.exports=e}.call(this)},426:function(v,e,w){!function(){var o,r,n,s,c,i,a,l,u,d,t,f,e,h,y,p,g={name:"statemodule"},m=function(e){null!=allModules.debugmodule.modulesToDebug.statemodule&&console.log("[statemodule]: "+e)};try{l=w(581)}catch(e){}p=null,o={},d={},i={},f=function(){var e,t;for(t in p=null!=(p=localStorage.getItem("state"))?JSON.parse(p):{})null==(e=p[t])&&(e=null),null!=e&&null!=e.content||(p[t]={content:e}),o[t]=p[t];for(t in l)e=l[t],null==o[t]&&(o[t]={content:e,isVolatile:!0})},u=function(e,t){return e!==t},c=function(e,t){var r=i[e]||u;return null==o[e]||(o[e].content,r(o[e].content,t))},t=function(e){var t;return m("loadDedicated"),t=localStorage.getItem(e),t=JSON.parse(t),o[e]={content:t,isDedicated:!0},t},h=function(e){var t;m("saveDedicatedState"),t=o[e].content,o[e].isDedicated=!0,t=JSON.stringify(t),localStorage.setItem(e,t)},y=function(){var e;m("saveRegularState"),e=JSON.stringify(p),localStorage.setItem("state",e)},n=function(e,t,r,n){var i,a=null!=o[e]&&o[e].isVolatile;if("boolean"!=typeof r&&(r=null!=o[e]&&!0===o[e].isDedicated),null!=o[e]){if(i=o[e].isDedicated?r!==o[e].isDedicated:r,!(c(e,t)||a||i))return;o[e].content=t,r&&(o[e].isDedicated=!0),i&&!r&&(localStorage.removeItem(e),delete o[e].isDedicated),a&&delete o[e].isVolatile}else o[e]={content:t,isDedicated:r};if(r?(h(e),null!=p[e]&&(delete p[e],y())):(null==p[e]&&(p[e]=o[e]),y()),!n)return s(e)},e=function(){for(var e in m("saveAllStates"),o)o[e].isDedicated&&h(e);y()},r=function(e,t,r){if(c(e,t)){try{o[e].content=t}catch(r){o[e]={content:t,isVolatile:!0}}if(!r)return s(e)}},a=function(e){var t;if(1!==(t=Object.keys(e)).length)throw new Error("Object did not have exactly one Member!");return{key:t=t[0],content:e[t]}},s=async function(i){var a,e;if(null!=d[i])return e=(()=>{for(var e,t=[],r=0,n=(e=d[i]).length;r<n;r++)a=e[r],t.push(a());return t})(),Promise.all(e)},g.getState=function(){return o},g.load=function(e){return m("statemodule.load"),null!=o[e]&&o[e].isVolatile?o[e].content:null==o[e]||o[e].isDedicated?t(e):(f(),o[e].content)},g.save=function(e,t,r){if(m("statemodule.save"),null!=e)return"object"==typeof e&&({key:e,content:t}=a(e)),null==t&&null==r?h(e):n(e,t,r,!1)},g.saveSilently=function(e,t,r){return m("statemodule.saveSilently"),"object"==typeof e&&({key:e,content:t}=a(e)),n(e,t,r,!0)},g.saveAll=e,g.saveRegularState=y,g.remove=function(e){m("statemodule.remove"),null!=o[e]&&(o[e].isVolatile?delete o[e]:o[e].isDedicated?(localStorage.removeItem(e),delete o[e]):(delete o[e],delete p[e],y()))},g.get=function(e){if(null!=o[e])return o[e].content},g.set=function(e,t){m("statemodule.set"),"object"==typeof e&&({key:e,content:t}=a(e)),r(e,t,!1)},g.setSilently=function(e,t){m("statemodule.setSilently"),"object"==typeof e&&({key:e,content:t}=a(e)),r(e,t,!0)},g.addOnChangeListener=function(e,t){m("statemodule.addOnChangeListener"),null==d[e]&&(d[e]=[]),d[e].push(t)},g.removeOnChangeListener=function(e,t){var r,n,i,a;if(m("statemodule.removeOnChangeListener"),null!=(r=d[e])){for(n=i=0,a=r.length;i<a;n=++i)if(r[n]===t)return m("candidate found at: "+n),r[n]=r[r.length-1],void r.pop();m("No candidate found for given function!")}},g.clearOnChangeListeners=function(e,t){m("statemodule.clearOnChangeListener"),d[e]=[]},g.callOutChange=function(e){return s(e)},g.setChangeDetectionFunction=function(e,t){null==t?delete i[e]:i[e]=t},f(),v.exports=g}.call(this)},95:()=>{}},n={};function oe(e){var t=n[e];return void 0!==t||(t=n[e]={exports:{}},r[e].call(t.exports,t,t.exports,oe)),t.exports}oe.m=r,oe.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return oe.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,oe.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var r=Object.create(null),n=(oe.r(r),{});a=a||[null,o({}),o([]),o(o)];for(var i=2&e&&t;"object"==typeof i&&!~a.indexOf(i);i=o(i))Object.getOwnPropertyNames(i).forEach(e=>n[e]=()=>t[e]);return n.default=()=>t,oe.d(r,n),r},oe.d=(e,t)=>{for(var r in t)oe.o(t,r)&&!oe.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},oe.f={},oe.e=r=>Promise.all(Object.keys(oe.f).reduce((e,t)=>(oe.f[t](r,e),e),[])),oe.u=e=>e+".js",oe.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),oe.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u={},d="bot-network-ui-experiment:",oe.l=(n,e,t,r)=>{if(u[n])u[n].push(e);else{var i,a;if(void 0!==t)for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var c=o[s];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==d+t){i=c;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,oe.nc&&i.setAttribute("nonce",oe.nc),i.setAttribute("data-webpack",d+t),i.src=n),u[n]=[e];var e=(e,t)=>{i.onerror=i.onload=null,clearTimeout(l);var r=u[n];if(delete u[n],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(e=>e(t)),e)return e(t)},l=setTimeout(e.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=e.bind(null,i.onerror),i.onload=e.bind(null,i.onload),a&&document.head.appendChild(i)}},oe.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},oe.p="",c={57:0},oe.f.j=(r,e)=>{var t,n,i=oe.o(c,r)?c[r]:void 0;0!==i&&(i?e.push(i[2]):(t=new Promise((e,t)=>i=c[r]=[e,t]),e.push(i[2]=t),e=oe.p+oe.u(r),n=new Error,oe.l(e,e=>{var t;oe.o(c,r)&&(0!==(i=c[r])&&(c[r]=void 0),i)&&(t=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,n.message="Loading chunk "+r+" failed.\n("+t+": "+e+")",n.name="ChunkLoadError",n.type=t,n.request=e,i[1](n))},"chunk-"+r,r)))},De=(e,t)=>{var r,n,[i,a,o]=t,s=0;if(i.some(e=>0!==c[e])){for(r in a)oe.o(a,r)&&(oe.m[r]=a[r]);o&&o(oe)}for(e&&e(t);s<i.length;s++)n=i[s],oe.o(c,n)&&c[n]&&c[n][0](),c[n]=0},($e=self.webpackChunkbot_network_ui_experiment=self.webpackChunkbot_network_ui_experiment||[]).forEach(De.bind(null,0)),$e.push=De.bind(null,$e.push.bind($e));{var se={},De=(oe.r(se),oe.d(se,{error:()=>Pr,info:()=>Ur,initialize:()=>Kr}),{}),$e=(oe.r(De),oe.d(De,{add0x:()=>qr,copyToClipboard:()=>zr,isValidKey:()=>$r,seedToKey:()=>Dr,strip0x:()=>Mr}),{}),ze=(oe.r($e),oe.d($e,{displayCode:()=>Wr,initialize:()=>Vr}),{}),je=(oe.r(ze),oe.d(ze,{appVersion:()=>hn,dataManagerOptions:()=>gn,defaultDataManagerChoice:()=>mn,defaultKrakenObserverBackendOption:()=>wn,defaultSecretManagerChoice:()=>pn,defaultSituationAnalyzerBackendOption:()=>Sn,krakenObserverBackendOptions:()=>vn,secretManagerOptions:()=>yn,situationAnalyzerBackendOptions:()=>bn}),{}),Ve=(oe.r(je),oe.d(je,{initialize:()=>xn,read:()=>An}),{}),Fe=(oe.r(Ve),oe.d(Ve,{getClient:()=>Fn,initialize:()=>Bn}),{}),We=(oe.r(Fe),oe.d(Fe,{decrypt:()=>Da,encrypt:()=>Ma,focusFloatingSecretInput:()=>ja,getAuthMasterClient:()=>$a,getStorageId:()=>za,initialize:()=>Ha,isSet:()=>qa}),{}),Je=(oe.r(We),oe.d(We,{getAliasForId:()=>Ja,getIdForAlias:()=>Za,initialize:()=>Va,loadForStorageId:()=>Wa,setAliasForId:()=>Qa}),{}),Ze=(oe.r(Je),oe.d(Je,{setToGlobalOverviewState:()=>ao,setToNoKeyState:()=>io,setToStrategyOverviewState:()=>oo}),{}),Qe=(oe.r(Ze),oe.d(Ze,{applyUIState:()=>uo,applyUIStateBase:()=>fo,applyUIStateModifier:()=>ho,getBase:()=>po,getContext:()=>go,getModifier:()=>yo}),{}),Ge=(oe.r(Qe),oe.d(Qe,{initialize:()=>xo}),{}),Xe=(oe.r(Ge),oe.d(Ge,{initialize:()=>Oo}),{}),Ye=(oe.r(Xe),oe.d(Xe,{initialize:()=>Lo}),{}),et=(oe.r(Ye),oe.d(Ye,{modulesToDebug:()=>Uo}),{}),tt=(oe.r(et),oe.d(et,{initialize:()=>Do}),{}),rt=(oe.r(tt),oe.d(tt,{createClient:()=>Vo}),{}),nt=(oe.r(rt),oe.d(rt,{initialize:()=>gs}),{}),it=(oe.r(nt),oe.d(nt,{initialize:()=>Ss}),{});function ce(t){var r;return{log:r=function(e){at[t]&&console.log("["+t+"]: "+e)},olog:function(e){return r("\n"+ot(e))}}}oe.r(it),oe.d(it,{initialize:()=>Ts});var at,ot,st,ct,lt,ut,dt,ft={},le=(oe.r(ft),oe.d(ft,{initialize:()=>zs}),ot=function(e){return JSON.stringify(e,null,4)},at={},oe(95)),le=oe.t(le,2);let u=BigInt(0),S=BigInt(1),l=BigInt(2),L=BigInt(8),e=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),d=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:e,n:e,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),s=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),f=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),U=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),P=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),q=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),M=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class Le{constructor(e,t,r,n){this.x=e,this.y=t,this.z=r,this.t=n}static fromAffine(e){if(e instanceof Pe)return e.equals(Pe.ZERO)?Le.ZERO:new Le(e.x,e.y,S,de(e.x*e.y));throw new TypeError("ExtendedPoint#fromAffine: expected Point")}static toAffineBatch(e){let r=((e,n=d.P)=>{let i=new Array(e.length),t=e.reduce((e,t,r)=>t===u?e:de((i[r]=e)*t,n),S),r=It(t,n);return e.reduceRight((e,t,r)=>t===u?e:(i[r]=de(e*i[r],n),de(e*t,n)),r),i})(e.map(e=>e.z));return e.map((e,t)=>e.toAffine(r[t]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){yt(e);var{x:t,y:r,z:n}=this,{x:e,y:i,z:a}=e,t=de(t*a),e=de(e*n),r=de(r*a),a=de(i*n);return t===e&&r===a}negate(){return new Le(de(-this.x),this.y,this.z,de(-this.t))}double(){var{x:e,y:t,z:r}=this,n=d.a,i=de(e*e),a=de(t*t),r=de(l*de(r*r)),n=de(n*i),e=e+t,t=de(de(e*e)-i-a),e=n+a,i=e-r,r=n-a,n=de(t*i),a=de(e*r),t=de(t*r),r=de(i*e);return new Le(n,a,r,t)}add(e){yt(e);var{x:t,y:r,z:n,t:i}=this,{x:e,y:a,z:o,t:s}=e,c=de((r-t)*(a+e)),r=de((r+t)*(a-e)),t=de(r-c);return t===u?this.double():(a=de(n*l*s),e=r+c,s=(n=de(i*l*o))-a,c=de((r=n+a)*t),i=de(e*s),o=de(r*s),n=de(t*e),new Le(c,i,n,o))}subtract(e){return this.add(e.negate())}precomputeWindow(t){var r=1+256/t,n=[];let i=this,a=i;for(let e=0;e<r;e++){a=i,n.push(a);for(let e=1;e<2**(t-1);e++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(n,e){let t=(e=!e&&this.equals(Le.BASE)?Pe.BASE:e)&&e._WINDOW_SIZE||1;if(256%t)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&r.get(e),a=(i||(i=this.precomputeWindow(t),e&&1!==t&&(i=Le.normalizeZ(i),r.set(e,i))),Le.ZERO),o=Le.BASE;var s=1+256/t,c=2**(t-1),l=BigInt(2**t-1),u=2**t,d=BigInt(t);for(let r=0;r<s;r++){let e=r*c,t=Number(n&l);n>>=d,t>c&&(t-=u,n+=S);var f=e,h=e+Math.abs(t)-1,y=r%2!=0,p=t<0;0===t?o=o.add(ht(y,i[f])):a=a.add(ht(p,i[h]))}return Le.normalizeZ([a,o])[0]}multiply(e,t){return this.wNAF(Ht(e,d.l),t)}multiplyUnsafe(e){let t=Ht(e,d.l,!1);var e=Le.BASE,r=Le.ZERO;if(t===u)return r;if(this.equals(r)||t===S)return this;if(this.equals(e))return this.wNAF(t);let n=r,i=this;for(;t>u;)t&S&&(n=n.add(i)),i=i.double(),t>>=S;return n}isSmallOrder(){return this.multiplyUnsafe(d.h).equals(Le.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(d.l/l).double();return(e=d.l%l?e.add(this):e).equals(Le.ZERO)}toAffine(e){var{x:t,y:r,z:n}=this,i=this.equals(Le.ZERO),t=de(t*(e=null==e?i?L:It(n):e)),r=de(r*e),n=de(n*e);if(i)return Pe.ZERO;if(n!==S)throw new Error("invZ was invalid");return new Pe(t,r)}fromRistrettoBytes(){gt()}toRistrettoBytes(){gt()}fromRistrettoHash(){gt()}}function ht(e,t){var r=t.negate();return e?r:t}function yt(e){if(!(e instanceof Le))throw new TypeError("ExtendedPoint expected")}function pt(e){if(!(e instanceof Ue))throw new TypeError("RistrettoPoint expected")}function gt(){throw new Error("Legacy method: switch to RistrettoPoint")}Le.BASE=new Le(d.Gx,d.Gy,S,de(d.Gx*d.Gy)),Le.ZERO=new Le(u,S,S,u);class Ue{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){var t=d.d,r=de(f*e*e),n=de((r+S)*q);let i=BigInt(-1);t=de((i-t*r)*de(r+t));let{isValid:a,value:o}=kt(n,t),s=de(o*e);ue(s)||(s=de(-s)),a||(o=s);n=de((i=a?i:r)*(r-S)*M-t),e=o*o,r=de((o+o)*t),t=de(n*U),n=de(S-e),e=de(S+e);return new Le(de(r*e),de(n*t),de(t*e),de(r*n))}static hashToCurve(e){var t=Et((e=he(e,64)).slice(0,32)),t=this.calcElligatorRistrettoMap(t),e=Et(e.slice(32,64)),e=this.calcElligatorRistrettoMap(e);return new Ue(t.add(e))}static fromHex(e){e=he(e,32);var{a:t,d:r}=d,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Et(e);if(!((t,r)=>{if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])return;return 1}})(St(i),e)||ue(i))throw new Error(n);var e=de(i*i),a=de(S+t*e),e=de(S-t*e),o=de(a*a),s=de(e*e),t=de(t*r*o-s),{isValid:r,value:o}=At(de(t*s)),s=de(o*e),e=de(o*s*t);let c=de((i+i)*s);ue(c)&&(c=de(-c));o=de(a*e),t=de(c*o);if(!r||ue(t)||o===u)throw new Error(n);return new Ue(new Le(c,o,S,t))}toRawBytes(){let{x:e,y:t,z:r,t:n}=this.ep;var i,a,o=de(de(r+t)*de(r-t)),s=de(e*t),c=de(s*s),c=At(de(o*c)).value,o=de(c*o),c=de(c*s),s=de(o*c*n);let l,u=(l=ue(n*s)?(i=de(t*f),a=de(e*f),e=i,t=a,de(o*P)):c,ue(e*s)&&(t=de(-t)),de((r-t)*l));return St(u=ue(u)?de(-u):u)}toHex(){return vt(this.toRawBytes())}toString(){return this.toHex()}equals(e){pt(e);var t=this.ep,e=e.ep,r=de(t.x*e.y)===de(t.y*e.x),t=de(t.y*e.y)===de(t.x*e.x);return r||t}add(e){return pt(e),new Ue(this.ep.add(e.ep))}subtract(e){return pt(e),new Ue(this.ep.subtract(e.ep))}multiply(e){return new Ue(this.ep.multiply(e))}multiplyUnsafe(e){return new Ue(this.ep.multiplyUnsafe(e))}}Ue.BASE=new Ue(Le.BASE),Ue.ZERO=new Ue(Le.ZERO);let r=new WeakMap;class Pe{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,r.delete(this)}static fromHex(e,t=!0){var{d:r,P:n}=d,i=(e=he(e,32)).slice(),i=(i[31]=-129&e[31],xt(i));if(t&&n<=i)throw new Error("Expected 0 < hex < P");if(!t&&i>=s)throw new Error("Expected 0 < hex < 2**256");n=de(i*i);let{isValid:a,value:o}=kt(de(n-S),de(r*n+S));if(a)return t=(o&S)===S,!!(128&e[31])!=t&&(o=de(-o)),new Pe(o,i);throw new Error("Point.fromHex: invalid y coordinate")}static async fromPrivateKey(e){return(await Rt(e)).point}toRawBytes(){var e=St(this.y);return e[31]|=this.x&S?128:0,e}toHex(){return vt(this.toRawBytes())}toX25519(){var e=this.y;return St(de((S+e)*It(S-e)))}isTorsionFree(){return Le.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Pe(de(-this.x),this.y)}add(e){return Le.fromAffine(this).add(Le.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Le.fromAffine(this).multiply(e,this).toAffine()}}Pe.BASE=new Pe(d.Gx,d.Gy),Pe.ZERO=new Pe(u,S);class js{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){var e=he(e,64),t=Pe.fromHex(e.slice(0,32),!1),e=xt(e.slice(32,64));return new js(t,e)}assertValidity(){var{r:e,s:t}=this;if(e instanceof Pe)return Ht(t,d.l,!1),this;throw new Error("Expected Point instance")}toRawBytes(){var e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(St(this.s),32),e}toHex(){return vt(this.toRawBytes())}}function mt(...r){if(!r.every(e=>e instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(1===r.length)return r[0];var e=r.reduce((e,t)=>e+t.length,0),n=new Uint8Array(e);for(let e=0,t=0;e<r.length;e++){var i=r[e];n.set(i,t),t+=i.length}return n}let D=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let r="";for(let e=0;e<t.length;e++)r+=D[t[e]];return r}function wt(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");var r=new Uint8Array(t.length/2);for(let e=0;e<r.length;e++){var n=2*e,n=t.slice(n,2+n),n=Number.parseInt(n,16);if(Number.isNaN(n)||n<0)throw new Error("Invalid byte sequence");r[e]=n}return r}function bt(e){return wt(e.toString(16).padStart(64,"0"))}function St(e){return bt(e).reverse()}function ue(e){return(de(e)&S)===S}function xt(e){if(e instanceof Uint8Array)return BigInt("0x"+vt(Uint8Array.from(e).reverse()));throw new Error("Expected Uint8Array")}let $=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Et(e){return de(xt(e)&$)}function de(e,t=d.P){e%=t;return e>=u?e:t+e}function It(e,t=d.P){if(e===u||t<=u)throw new Error(`invert: expected positive integers, got n=${e} mod=`+t);let i=de(e,t),a=t,o=u,s=S,c=S,l=u;for(;i!==u;){let e=a/i,t=a%i,r=o-c*e,n=s-l*e;a=i,i=t,o=c,s=l,c=r,l=n}if(a!==S)throw new Error("invert: does not exist");return de(o,t)}function fe(e,t){var r=d.P;let n=e;for(;t-- >u;)n=n*n%r;return n}function Ct(e){var t=d.P,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),o=BigInt(80),s=e*e%t*e%t,c=fe(s,l)*s%t,c=fe(c,S)*e%t,r=fe(c,r)*c%t,c=fe(r,n)*r%t,i=fe(c,i)*c%t,c=fe(i,a)*i%t,a=fe(c,o)*c%t,i=fe(a,o)*c%t,a=fe(i,n)*r%t;return{pow_p_5_8:fe(a,l)*e%t,b2:s}}function kt(e,t){var r=de(t*t*t),n=de(r*r*t);let i=de(e*r*Ct(e*n).pow_p_5_8);var r=de(t*i*i),n=i,t=de(i*f),a=r===e,o=r===de(-e),r=r===de(-e*f);return a&&(i=n),{isValid:a||o,value:i=ue(i=o||r?t:i)?de(-i):i}}function At(e){return kt(S,e)}function Bt(e){return de(xt(e),d.l)}function he(e,t){e=e instanceof Uint8Array?Uint8Array.from(e):wt(e);if("number"==typeof t&&e.length!==t)throw new Error(`Expected ${t} bytes`);return e}function Ht(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if("bigint"==typeof(e="number"==typeof e&&Number.isSafeInteger(e)?BigInt(e):e)&&e<t)if(r){if(u<e)return e}else if(u<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function _t(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}let t;async function Rt(t){return e=await c.sha512((e=>{if(32!==(e="bigint"==typeof t||"number"==typeof t?bt(Ht(t,s)):he(e)).length)throw new Error("Expected 32 bytes");return e})(t)),r=_t(e.slice(0,32)),e=e.slice(32,64),n=Bt(r),i=Pe.BASE.multiply(n),a=i.toRawBytes(),{head:r,prefix:e,scalar:n,point:i,pointBytes:a};var e,r,n,i,a}async function Ot(e){return(await Rt(e)).pointBytes}async function Nt(e,t){e=(await Rt(e)).head,t=Pe.fromHex(t).toX25519();return n.scalarMult(e,t)}function Kt(e,t,r){e=de(e*(t-r));return[t=de(t-e),r=de(r+e)]}Pe.BASE._setWindowSize(8);let n={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(e,t){t=((e,t)=>{let r=d.P,n=Ht(e,r),f=Ht(t,r),h=BigInt(121665),y=n,p,g=S,m=u,v=n,w=S,b=u;for(let d=BigInt(254);d>=u;d--){let e=f>>d&S,t=(b^=e,p=Kt(b,g,v),g=p[0],v=p[1],p=Kt(b,m,w),m=p[0],w=p[1],b=e,g+m),r=de(t*t),n=g-m,i=de(n*n),a=r-i,o=v+w,s=de((v-w)*t),c=de(o*n),l=s+c,u=s-c;v=de(l*l),w=de(y*de(u*u)),g=de(r*i),m=de(a*(r+de(h*a)))}p=Kt(b,g,v),g=p[0],v=p[1],p=Kt(b,m,w),m=p[0],w=p[1];let{pow_p_5_8:i,b2:a}=Ct(m),o=de(fe(i,BigInt(3))*a);return de(g*o)})(((t=he(t,32))[31]&=127,xt(t)),xt(_t(he(e,32))));if(t===u)throw new Error("Invalid private or public key received");return St(de(t,d.P))},scalarMultBase:e=>n.scalarMult(e,n.BASE_POINT_U)},i={node:le,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},c={bytesToHex:vt,hexToBytes:wt,concatBytes:mt,getExtendedPublicKey:Rt,mod:de,invert:It,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if((e=he(e)).length<40||1024<e.length)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return de(xt(e),d.l-S)+S},randomBytes:(e=32)=>{if(i.web)return i.web.getRandomValues(new Uint8Array(e));var t;if(i.node)return t=i.node.randomBytes,new Uint8Array(t(e).buffer);throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>c.randomBytes(32),sha512:async(...e)=>{var t=mt(...e);if(i.web){let e=await i.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}if(i.node)return Uint8Array.from(i.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=Pe.BASE){t=t.equals(Pe.BASE)?t:new Pe(t.x,t.y);return t._setWindowSize(e),t.multiply(l),t},sha512Sync:void 0};Object.defineProperties(c,{sha512Sync:{configurable:!1,get:()=>t,set(e){t=t||e}}}),lt=new TextEncoder("utf-8"),ct=new TextDecoder("utf-8"),le=new Array(256).fill(0),dt=le.map(function(e,t){return t.toString(16).padStart(2,"0")}),le.map(function(e,t){return BigInt(t)}),le=Array.from("0123456789abcdef"),ut={},le.forEach(function(e){return ut[e]=16*parseInt(e,16)}),st={},le.forEach(function(e){return st[e]=parseInt(e,16)});for(var Tt,Lt=function(e){return ct.decode(e)},Ut=function(e){return lt.encode(e)},ye=function(e){for(var t,r,n="",i=0,a=(r=new Uint8Array(e)).length;i<a;i++)t=r[i],n+=dt[t];return n},Pt=function(e){for(var t,r=new Uint8Array(e.length/2),n=t=0,i=e.length;t<i;n=t+=2)r[n/2]=ut[e[n]]+st[e[n+1]];return r},qt=window.crypto.subtle,Mt=(BigInt(2),BigInt(252),BigInt("27742317777372353535851937790883648493"),async function(e){return qt.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt","encrypt"])}),Dt=async function(e){e="string"==typeof e?Ut(e):e,e=await qt.digest("SHA-256",e);return ye(e)},$t=async function(e){e="string"==typeof e?Ut(e):e;return new Uint8Array(await qt.digest("SHA-512",e))},zt=async function(a,o,e){return(async i=>{var{r:e,SB:t,msg:r,pub:n}=((e,t,r)=>{t=he(i),r instanceof Pe||(r=Pe.fromHex(r,!1));var{r:e,s:n}=e instanceof js?e.assertValidity():js.fromHex(e);return{r:e,s:n,SB:Le.BASE.multiplyUnsafe(n),pub:r,msg:t}})(a,0,o),r=await c.sha512(e.toRawBytes(),n.toRawBytes(),r);return n=n,e=e,t=t,r=Bt(r),n=Le.fromAffine(n).multiplyUnsafe(r),Le.fromAffine(e).add(n).subtract(t).multiplyUnsafe(d.h).equals(Le.ZERO)})(await Dt(e))},jt=async function(e,t){var r=e.referencePointHex||e.referencePoint,e=e.encryptedContentHex||e.encryptedContent;if(null==r||null==e)throw new Error("Invalid secrets Object!");return t=await Nt(t,r),r=await $t(t),t=Pt(e),e=t,t=r,r=new Uint8Array(t.buffer,0,16),t=new Uint8Array(t.buffer,16,32),t=await Mt(t),r=await qt.decrypt({name:"AES-CBC",iv:r},t,e),Lt(r)},Vt=function(e){for(var t,r=t=0,n=e.length;t<n;r=++t)if("\0"===e[r])return e.slice(r+1);throw new Error("No Salt termination found!")},pe=async function(e,t){var r,t={method:"POST",credentials:"omit",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}};try{if((r=await fetch(e,t)).ok)return r.json();throw new Error(`Response not ok - status: ${r.status}! body: `+await r.text())}catch(e){throw new Error("Network Error: "+e.message)}},Ft=18e4,ge=function(){var e;return(e=Date.now())-e%Ft},Wt=class se{constructor(e,t,r,n,i){if(this.secretKeyHex=e,this.publicKeyHex=t,this.serverURL=r,this.closureDate=n,this.nonce=0,null!=this.secretKeyHex&&null!=this.secretKeyHex?(this.id=this.publicKeyHex,this.secretKeyBytes=Pt(this.secretKeyHex),this.publicKeyBytes=Pt(this.publicKeyHex),this.keysReady=!0):this.keysReady=Gt(this),null!=i)this.ready=er(this,i);else{if(!0!==this.keysReady)throw new Error("Unexpected Error: We neither have an authCode nor keys.");this.ready=!0}}async generateAuthCodeFor(e){return await this.ready,Yt(e,this)}async getServerId(e){var t,r,n;return await this.ready,r=(e=await Xt(e,this)).signature,t=e.serverNodeId,n=e.timestamp,delete e.signature,e=JSON.stringify(e),await Qt(e,r,t,n),t}async updateServerURL(e,t){return this.serverURL=e,this.nonce=0,this.ready=er(this,t),this.ready}async getSecretSpace(){var e;return await this.ready,e=await rr(this),Jt(e,this.secretKeyHex)}async eraseFromServer(){return await this.ready,this.ready=tr(this),this.ready}async setSecret(e,t){return await this.ready,t=await Zt(t,this.publicKeyHex),ar(e,t,this)}async getSecret(e){return await this.ready,e=await ir(e,this),Jt(e,this.secretKeyHex)}async deleteSecret(e){return await this.ready,or(e,this)}async acceptSecretsFrom(e,t){return await this.ready,e instanceof se&&(e=e.id),sr(e,t,this)}async getSubSpace(e){return await this.ready,e=await nr(e,this),Jt(e,this.secretKeyHex)}async stopAcceptingSecretsFrom(e){return await this.ready,e instanceof se&&(e=e.id),cr(e,this)}async shareSecretTo(e,t,r,n){return await this.ready,e instanceof se&&(e=e.id),r=await Zt(r,e),ur(e,t,r,n,this)}async getSecretFrom(e,t){return await this.ready,e instanceof se&&(e=e.id),e=await lr(e,t,this),Jt(e,this.secretKeyHex)}async deleteSharedSecret(e,t){return await this.ready,dr(e,t,this)}async addNotificationHook(e,t,r){return await this.ready,fr(e,t,r,this)}async getNotificationHooks(e){return await this.ready,hr(e,this)}async deleteNotificationHook(e){return await this.ready,yr(e,this)}setRequestableServer(e,t,r){}incNonce(){this.nonce=++this.nonce%1e7}},Jt=async function(e,t){e=await jt(e,t),e=Vt(e);try{e=JSON.parse(e)}catch(t){return e}if(null!=e.encryptedContent||null!=e.encryptedContentHex){e=await jt(e,t),e=Vt(e);try{e=JSON.parse(e)}catch(t){}}return e},Zt=async function(e,t){var r,n,i;return"object"==typeof e&&(e=JSON.stringify(e)),r=(()=>{for(var e,t,r,n=new Uint8Array(512);;)for(window.crypto.getRandomValues(n),e=t=0,r=n.length;t<r;e=++t)if(0===n[e])return Lt(n.slice(0,e+1))})(),r=e=r+e,t=t,n=c.randomPrivateKey(),i=await Ot(n),n=await Nt(n,t),t=await $t(n),n=r,r=t,t=new Uint8Array(r.buffer,0,16),r=new Uint8Array(r.buffer,16,32),n=Ut(n),r=await Mt(r),t=await qt.encrypt({name:"AES-CBC",iv:t},r,n),e=await{referencePointHex:ye(i),encryptedContentHex:ye(t)},JSON.stringify(e)},me=async function(e,t,r){var a,t=t+JSON.stringify(e);return e=r,a=await Dt(t),e=await(async(e,t)=>{e=he(a);var{prefix:t,scalar:r,pointBytes:n}=await Rt(t),t=Bt(await c.sha512(t,e)),i=Pe.BASE.multiply(t),t=de(t+Bt(await c.sha512(i.toRawBytes(),n,e))*r,d.l);return new js(i,t).toRawBytes()})(0,e),ye(e)},Qt=async function(e,t,r,n){try{if(!n)throw new Error("No Timestamp!");if(!t)throw new Error("No Signature!");if(!r)throw new Error("No Public key!");var i,a=n;if(a!==(i=(i=Date.now())-i%Ft)&&a!==(i-=Ft)&&a!==(i+=36e4))throw new Error("Invalid Timestamp!");if(!await zt(t,r,e))throw new Error("Invalid Signature!")}catch(e){throw new Error("Error on authenticateResponse! "+e)}},Gt=async function(e){var t,r;return null==e.secretKeyHex?(t=c.randomPrivateKey(),r=await Ot(t),t=await{secretKeyHex:ye(t),publicKeyHex:ye(r)},e.secretKeyHex=t.secretKeyHex,e.publicKeyHex=t.publicKeyHex):e.publicKeyHex=await(async e=>(e=await Ot(e),ye(e)))(secretKeyHex),e.id=e.publicKeyHex,e.secretKeyBytes=Pt(e.secretKeyHex),e.publicKeyBytes=Pt(e.publicKeyHex),!0},Xt=async function(e,t){t=t.serverURL,t=await pe(t+"/getNodeId",{authCode:e});if(null!=t.error)throw new Error("getSignedNodeId replied with error: "+t.error);return t},Yt=async function(e,t){var r=t.serverURL,n=t.publicKeyHex,i=t.secretKeyHex,a=ge(),o=t.nonce;if(t.incNonce(),t=await me({publicKey:n,action:e,timestamp:a,nonce:o},"/createAuthCode",i),null!=(i=await pe(r+"/createAuthCode",{publicKey:n,action:e,timestamp:a,signature:t,nonce:o})).error)throw new Error("createAuthCode replied with error: "+i.error);return i},er=async function(e,t){var r,n,i,a,o,s;if(console.log("openSecretSpace - "+t),await e.keysReady,o=e.serverURL,a=e.secretKeyHex,i=e.publicKeyHex,s=ge(),r=e.closureDate,n=e.nonce,e.incNonce(),e=await me({authCode:t,publicKey:i,closureDate:r,timestamp:s,nonce:n},"/openSecretSpace",a),null!=(a=await pe(o+"/openSecretSpace",{authCode:t,publicKey:i,closureDate:r,timestamp:s,signature:e,nonce:n})).error)throw new Error("openSecretSpace replied with error: "+a.error);return a},tr=async function(e){var t=e.serverURL,r=e.publicKeyHex,n=e.secretKeyHex,i=ge(),a=e.nonce;if(e.incNonce(),e=await me({publicKey:r,timestamp:i,nonce:a},"/deleteSecretSpace",n),null!=(n=await pe(t+"/deleteSecretSpace",{publicKey:r,timestamp:i,signature:e,nonce:a})).error)throw new Error("deleteSecretSpace replied with error: "+n.error);return n},rr=async function(e){var t=e.serverURL,r=e.publicKeyHex,n=e.secretKeyHex,i=ge(),a=e.nonce;if(e.incNonce(),e=await me({publicKey:r,timestamp:i,nonce:a},"/getSecretSpace",n),null!=(n=await pe(t+"/getSecretSpace",{publicKey:r,timestamp:i,signature:e,nonce:a})).error)throw new Error("getSecretSpace replied with error: "+n.error);return n},nr=async function(e,t){var r=t.serverURL,n=t.publicKeyHex,i=t.secretKeyHex,a=ge(),o=t.nonce;if(t.incNonce(),t=await me({publicKey:n,fromId:e,timestamp:a,nonce:o},"/getSubSpace",i),null!=(i=await pe(r+"/getSubSpace",{publicKey:n,fromId:e,timestamp:a,signature:t,nonce:o})).error)throw new Error("getSubSpace replied with error: "+i.error);return i},ir=async function(e,t){var r=t.serverURL,n=t.publicKeyHex,i=t.secretKeyHex,a=ge(),o=t.nonce;if(t.incNonce(),t=await me({publicKey:n,secretId:e,timestamp:a,nonce:o},"/getSecret",i),null!=(i=await pe(r+"/getSecret",{publicKey:n,secretId:e,timestamp:a,signature:t,nonce:o})).error)throw new Error("getSecret replied with error: "+i.error);return i},ar=async function(e,t,r){var n=r.serverURL,i=r.publicKeyHex,a=r.secretKeyHex,o=ge(),s=r.nonce;if(r.incNonce(),r=await me({publicKey:i,secretId:e,secret:t,timestamp:o,nonce:s},"/setSecret",a),null!=(a=await pe(n+"/setSecret",{publicKey:i,secretId:e,secret:t,timestamp:o,signature:r,nonce:s})).error)throw new Error("setSecret replied with error: "+a.error);return a},or=async function(e,t){var r=t.serverURL,n=t.publicKeyHex,i=t.secretKeyHex,a=ge(),o=t.nonce;if(t.incNonce(),t=await me({publicKey:n,secretId:e,timestamp:a,nonce:o},"/deleteSecret",i),null!=(i=await pe(r+"/deleteSecret",{publicKey:n,secretId:e,timestamp:a,signature:t,nonce:o})).error)throw new Error("deleteSecret replied with error: "+i.error);return i},sr=async function(e,t,r){var n,i=r.serverURL,a=r.publicKeyHex,o=r.secretKeyHex,s=ge();if(null==t&&(t=null),n=r.nonce,r.incNonce(),r=await me({publicKey:a,fromId:e,closureDate:t,timestamp:s,nonce:n},"/openSubSpace",o),null!=(o=await pe(i+"/openSubSpace",{publicKey:a,fromId:e,closureDate:t,timestamp:s,signature:r,nonce:n})).error)throw new Error("acceptSecretsFrom replied with error: "+o.error);return o},cr=async function(e,t){var r=t.serverURL,n=t.publicKeyHex,i=t.secretKeyHex,a=ge(),o=t.nonce;if(t.incNonce(),t=await me({publicKey:n,fromId:e,timestamp:a,nonce:o},"/deleteSubSpace",i),null!=(i=await pe(r+"/deleteSubSpace",{publicKey:n,fromId:e,timestamp:a,signature:t,nonce:o})).error)throw new Error("stopAcceptingSecretsFrom replied with error: "+i.error);return i},lr=async function(e,t,r){var n=r.serverURL,i=r.publicKeyHex,a=r.secretKeyHex,o=ge(),s=r.nonce;if(r.incNonce(),r=await me({publicKey:i,fromId:e,secretId:t,timestamp:o,nonce:s},"/getSecretFrom",a),null!=(a=await pe(n+"/getSecretFrom",{publicKey:i,fromId:e,secretId:t,timestamp:o,signature:r,nonce:s})).error)throw new Error("getSecretFrom replied with error: "+a.error);return a},ur=async function(e,t,r,n,i){var a,o=i.serverURL,s=i.publicKeyHex,c=i.secretKeyHex,l=ge();if(null==n&&(n=!1),a=i.nonce,i.incNonce(),i=await me({publicKey:s,shareToId:e,secretId:t,secret:r,isOneTimeSecret:n,timestamp:l,nonce:a},"/shareSecretTo",c),null!=(c=await pe(o+"/shareSecretTo",{publicKey:s,shareToId:e,secretId:t,secret:r,isOneTimeSecret:n,timestamp:l,signature:i,nonce:a})).error)throw new Error("shareSecretTo replied with error: "+c.error);return c},dr=async function(e,t,r){var n=r.serverURL,i=r.publicKeyHex,a=r.secretKeyHex,o=ge(),s=r.nonce;if(r.incNonce(),r=await me({publicKey:i,sharedToId:e,secretId:t,timestamp:o,nonce:s},"/deleteSharedSecret",a),null!=(a=await pe(n+"/deleteSharedSecret",{publicKey:i,sharedToId:e,secretId:t,timestamp:o,signature:r,nonce:s})).error)throw new Error("deleteSharedSecret replied with error: "+a.error);return a},fr=async function(e,t,r,n){var i=n.serverURL,a=n.publicKeyHex,o=n.secretKeyHex,s=ge(),c=n.nonce;if(n.incNonce(),n=await me({publicKey:a,type:e,targetId:t,notifyURL:r,timestamp:s,nonce:c},"/addNotificationHook",o),null!=(o=await pe(i+"/addNotificationHook",{publicKey:a,type:e,targetId:t,notifyURL:r,timestamp:s,signature:n,nonce:c})).error)throw new Error("addNotificationHook replied with error: "+o.error);return o},hr=async function(e,t){var r=t.serverURL,n=t.publicKeyHex,i=t.secretKeyHex,a=ge(),o=t.nonce;if(t.incNonce(),t=await me({publicKey:n,targetId:e,timestamp:a,nonce:o},"/getNotificationHooks",i),null!=(i=await pe(r+"/getNotificationHooks",{publicKey:n,targetId:e,timestamp:a,signature:t,nonce:o})).error)throw new Error("getNotificationHooks replied with error: "+i.error);return i},yr=async function(e,t){var r=t.serverURL,n=t.publicKeyHex,i=t.secretKeyHex,a=ge(),o=t.nonce;if(t.incNonce(),t=await me({publicKey:n,notificationHookId:e,timestamp:a,nonce:o},"/deleteNotificationHook",i),null!=(i=await pe(r+"/deleteNotificationHook",{publicKey:n,notificationHookId:e,timestamp:a,signature:t,nonce:o})).error)throw new Error("deleteNotificationHook replied with error: "+i.error);return i},pr={},gr=0;gr<16;gr++)pr[Tt="0123456789abcdef"[gr]]=!0;function mr(e){var t,r,n,i;if(null!=e.secretKeyHex){try{i=br(e.secretKeyHex)}catch(e){throw r=e,new Error("error occured in ensuring the correct format of secretKeyHex!\n: "+r.message)}if(e.publicKeyHex)try{n=br(e.publicKeyHex)}catch(e){throw r=e,new Error("error occured in ensureing the correct format of publicKeyHex!\n: "+r.message)}else n=null;if(null!=e.authCode)try{t=br(e.authCode)}catch(e){throw r=e,new Error("error occured in ensureing the correct format of authCode!\n: "+r.message)}else t=null}else if((n=i=null)!=e.authCode)try{t=br(e.authCode)}catch(e){throw r=e,new Error("error occured in ensureing the correct format of authCode!\n: "+r.message)}else t="deadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef";return r=null!=e.closureDate?e.closureDate:null,new Wt(i,n,e.serverURL,r,t)}var vr,wr,br=function(e){var t,r;if(e instanceof Uint8Array){if(32!==e.length)throw new Error("Invalid length!");e=ye(e)}if("string"!=typeof e)throw new Error("Invalid type, hexString or Uint8Array expected!");if(64!==(e="x"===e.charAt(1)?e.slice(2):e).length)throw new Error("Invalid length!");for(t=0,r=e.length;t<r;t++)if(Tt=e[t],null==pr[Tt])throw new Error("Non-hex character!");return e},ve=oe(426),Sr=new TextEncoder("utf-8"),xr=new TextDecoder("utf-8"),le,Er=(le=new Array(256).fill(0)).map(function(e,t){return t.toString(16).padStart(2,"0")});function we(e){for(var t,r=new Uint8Array(e.length/2),n=t=0,i=e.length;t<i;n=t+=2)r[n/2]=wr[e[n]]+vr[e[n+1]];return r}le.map(function(e,t){return BigInt(t)}),le=Array.from("0123456789abcdef"),wr=new Array(256),le.forEach(function(e){return wr[e]=16*parseInt(e,16)}),vr=new Array(256),le.forEach(function(e){return vr[e]=parseInt(e,16)});var Ir,Cr,kr,Ar,Br,Hr,_r,Rr,Or=function(e){return Sr.encode(e)},Nr=function(e){for(var t,r,n="",i=0,a=(r=new Uint8Array(e)).length;i<a;i++)t=r[i],n+=Er[t];return n},Kr=({log:Cr,olog:kr}=ce("messageboxmodule"),Ar=5e3,Ir=null,function(){var e;Cr("messageboxmodule.initialize"),null!=(e=allModules.configmodule).messageboxStayDurationMS&&(Ar=e.messageboxStayDurationMS)}),Tr=function(){Cr("letDisappear"),null!=Ir&&clearTimeout(Ir),Ir=setTimeout(Lr,Ar)},Lr=function(){Cr("disappear"),messagebox.textContent="",messagebox.className="gone",Ir=null},Ur=function(e){Cr("messageboxmodule.info"),"string"==typeof e&&(messagebox.textContent=e,messagebox.className="",Tr())},Pr=function(e){Cr("messageboxmodule.error"),"string"==typeof e&&(messagebox.textContent=e,messagebox.className="error",Tr())},qr=({log:Br,olog:Hr}=ce("utilsmodule"),function(e){if(null==e)throw new Error("add0x - undefined argument!");return"0"===e[0]&&"x"===e[1]?e:"0x"+e}),Mr=function(e){if(null==e)throw new Error("strip0x - undefined argument!");return"0"!==e[0]||"x"!==e[1]?e:e.slice(2)},Dr=async function(e){var e=await secUtl.sha512Hex(e),t=2*parseInt(e[0],16);return e.substr(t,64)},$r=function(e){var t,r,n;if(null!=e){if(64!==(e=Mr(e)).length)return!1;for(r=0,n=e.length;r<n;r++)if(t=e[r],NaN===parseInt(t,16))return!1;return!0}},zr=async function(e){var t;try{return await navigator.clipboard.writeText(e),Br("Clipboard API succeeded"),void(null!=se&&Ur("Copied: "+e))}catch(e){Br(e)}(t=document.createElement("textarea")).value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-99999px",document.body.appendChild(t),document.getSelection().removeAllRanges(),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t),null!=se&&Ur("Copied: "+e)};function be(e){var t=this;e="object"==typeof e?e:{},t.revision=3,t.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},t.toTable=e.toTable,t.domElement=t.toTable?document.createElement("div"):document.createElement("canvas"),t.url=e.url||"",t.size=e.size||280,t.qrc=!1,t.colorLight=e.colorLight||"#fff",t.colorDark=e.colorDark||"#000",t.ecclevel=e.ecclevel||1,t.noBorder=e.noBorder,t.borderSize=e.borderSize||4;function f(e,t){var r;for(I[e+m*t]=1,r=-2;r<2;r++)I[e+r+m*(t-2)]=1,I[e-2+m*(t+r+1)]=1,I[e+2+m*(t+r)]=1,I[e+r+1+m*(t+2)]=1;for(r=0;r<2;r++)B(e-1,t+r),B(e+1,t-r),B(e-r,t-1),B(e+r,t+1)}function h(e,t,r,n){for(var i,a,o=be.gexp,s=be.glog,c=0;c<n;c++)x[r+c]=0;for(c=0;c<t;c++){if(255!=(a=s[x[e+c]^x[r]]))for(i=1;i<n;i++)x[r+i-1]=x[r+i]^o[H(a+A[n-i])];else for(i=r;i<r+n;i++)x[i]=x[i+1];x[r+n-1]=255==a?0:o[H(a+A[0])]}}function y(e){var t,r,n,i;switch(e){case 0:for(r=0;r<m;r++)for(t=0;t<m;t++)t+r&1||_(t,r)||(I[t+r*m]^=1);break;case 1:for(r=0;r<m;r++)for(t=0;t<m;t++)1&r||_(t,r)||(I[t+r*m]^=1);break;case 2:for(r=0;r<m;r++)for(t=n=0;t<m;t++,n++)(n=3==n?0:n)||_(t,r)||(I[t+r*m]^=1);break;case 3:for(r=i=0;r<m;r++,i++)for(n=i=3==i?0:i,t=0;t<m;t++,n++)(n=3==n?0:n)||_(t,r)||(I[t+r*m]^=1);break;case 4:for(r=0;r<m;r++)for(i=r>>1&1,t=n=0;t<m;t++,n++)3==n&&(n=0,i=!i),i||_(t,r)||(I[t+r*m]^=1);break;case 5:for(r=i=0;r<m;r++,i++)for(3==i&&(i=0),t=n=0;t<m;t++,n++)(t&r&1)+!(!(n=3==n?0:n)|!i)||_(t,r)||(I[t+r*m]^=1);break;case 6:for(r=i=0;r<m;r++,i++)for(3==i&&(i=0),t=n=0;t<m;t++,n++)(t&r&1)+((n=3==n?0:n)&&n==i)&1||_(t,r)||(I[t+r*m]^=1);break;case 7:for(r=i=0;r<m;r++,i++)for(3==i&&(i=0),t=n=0;t<m;t++,n++)((n=3==n?0:n)&&n==i)+(t+r&1)&1||_(t,r)||(I[t+r*m]^=1)}}var p,g,m,v,w,b,S,x=[],E=[],I=[],C=[],k=[],A=[],B=function(e,t){var r;t<e&&(r=e,e=t,t=r),C[r=((r=(r=t)*t+t)>>1)+e]=1},H=function(e){for(;255<=e;)e=((e-=255)>>8)+(255&e);return e},_=function(e,t){var r;return t<e&&(r=e,e=t,t=r),r=t,C[r=((r+=t*t)>>1)+e]},R=function(e){for(var t=0,r=0;r<=e;r++)5<=k[r]&&(t+=be.N1+k[r]-5);for(r=3;r<e-1;r+=2)k[r-2]==k[r+2]&&k[r+2]==k[r-1]&&k[r-1]==k[r+1]&&3*k[r-1]==k[r]&&(0==k[r-3]||e<r+3||3*k[r-3]>=4*k[r]||3*k[r+3]>=4*k[r])&&(t+=be.N3);return t};t.genframe=function(e){var t,r,n,i,a,o,s,c=be.eccblocks,l=be.gexp,u=be.glog,d=e.length;g=0;do{if(n=4*(p-1)+16*(++g-1),v=c[n++],w=c[n++],b=c[n++],S=c[n],d<=(n=b*(v+w)+w-3+(g<=9)))break}while(g<40);for(m=17+4*g,i=b+(b+S)*(v+w)+w,d=0;d<i;d++)E[d]=0;for(x=e.slice(0),d=0;d<m*m;d++)I[d]=0;for(d=0;d<(m*(m+1)+1)/2;d++)C[d]=0;for(d=0;d<3;d++){for(r=n=0,I[(r=2==d?m-7:r)+3+m*((n=1==d?m-7:n)+3)]=1,t=0;t<6;t++)I[r+t+m*n]=1,I[r+m*(n+t+1)]=1,I[r+6+m*(n+t)]=1,I[r+t+1+m*(n+6)]=1;for(t=1;t<5;t++)B(r+t,n+1),B(r+1,n+t+1),B(r+5,n+t),B(r+t+1,n+5);for(t=2;t<4;t++)I[r+t+m*(n+2)]=1,I[r+2+m*(n+t+1)]=1,I[r+4+m*(n+t)]=1,I[r+t+1+m*(n+4)]=1}if(1<g)for(d=be.adelta[g],r=m-7;;){for(t=m-7;d-3<t&&(f(t,r),!(t<d));)t-=d;if(r<=d+9)break;f(6,r-=d),f(r,6)}for(I[8+m*(m-8)]=1,r=0;r<7;r++)B(7,r),B(m-8,r),B(7,r+m-7);for(t=0;t<8;t++)B(t,7),B(t+m-8,7),B(t,m-8);for(t=0;t<9;t++)B(t,8);for(t=0;t<8;t++)B(t+m-8,8),B(8,t);for(r=0;r<7;r++)B(8,r+m-7);for(t=0;t<m-14;t++)1&t?(B(8+t,6),B(6,8+t)):(I[8+t+6*m]=1,I[6+m*(8+t)]=1);if(6<g)for(d=be.vpat[g-7],n=17,t=0;t<6;t++)for(r=0;r<3;r++,n--)1&(11<n?g>>n-12:d>>n)?(I[5-t+m*(2-r+m-11)]=1,I[2-r+m-11+m*(5-t)]=1):(B(5-t,2-r+m-11),B(2-r+m-11,5-t));for(r=0;r<m;r++)for(t=0;t<=r;t++)I[t+m*r]&&B(t,r);for(i=x.length,a=0;a<i;a++)E[a]=x.charCodeAt(a);if(x=E.slice(0),i>=(t=b*(v+w)+w)-2&&(i=t-2,9<g)&&i--,a=i,9<g){for(x[a+2]=0,x[a+3]=0;a--;)d=x[a],x[a+3]|=255&d<<4,x[a+2]=d>>4;x[2]|=255&i<<4,x[1]=i>>4,x[0]=64|i>>12}else{for(x[a+1]=0,x[a+2]=0;a--;)d=x[a],x[a+2]|=255&d<<4,x[a+1]=d>>4;x[1]|=255&i<<4,x[0]=64|i>>4}for(a=i+3-(g<10);a<t;)x[a++]=236,x[a++]=17;for(A[0]=1,a=0;a<S;a++){for(A[a+1]=1,o=a;0<o;o--)A[o]=A[o]?A[o-1]^l[H(u[A[o]]+a)]:A[o-1];A[0]=l[H(u[A[0]]+a)]}for(a=0;a<=S;a++)A[a]=u[A[a]];for(n=t,a=r=0;a<v;a++)h(r,b,n,S),r+=b,n+=S;for(a=0;a<w;a++)h(r,b+1,n,S),r+=b+1,n+=S;for(a=r=0;a<b;a++){for(o=0;o<v;o++)E[r++]=x[a+o*b];for(o=0;o<w;o++)E[r++]=x[v*b+a+o*(b+1)]}for(o=0;o<w;o++)E[r++]=x[v*b+a+o*(b+1)];for(a=0;a<S;a++)for(o=0;o<v+w;o++)E[r++]=x[t+a+o*S];for(x=E,t=r=m-1,n=i=1,s=(b+S)*(v+w)+w,a=0;a<s;a++)for(d=x[a],o=0;o<8;o++,d<<=1)for(128&d&&(I[t+m*r]=1);i?t--:(t++,n?0!=r?r--:(n=!n,6==(t-=2)&&(t--,r=9)):r!=m-1?r++:(n=!n,6==(t-=2)&&(t--,r-=8))),i=!i,_(t,r););for(x=I.slice(0),r=3e4,n=d=0;n<8&&(y(n),(t=(()=>{for(var e,t,r,n,i=0,a=0,o=0;o<m-1;o++)for(e=0;e<m-1;e++)(I[e+m*o]&&I[e+1+m*o]&&I[e+m*(o+1)]&&I[e+1+m*(o+1)]||!(I[e+m*o]||I[e+1+m*o]||I[e+m*(o+1)]||I[e+1+m*(o+1)]))&&(i+=be.N2);for(o=0;o<m;o++){for(t=r=e=k[0]=0;e<m;e++)(n=I[e+m*o])==r?k[t]++:k[++t]=1,a+=(r=n)?1:-1;i+=R(t)}for(var s=0,c=(c=a=a<0?-a:a)+(c<<2)<<1;m*m<c;)c-=m*m,s++;for(i+=s*be.N4,e=0;e<m;e++){for(t=r=o=k[0]=0;o<m;o++)(n=I[e+m*o])==r?k[t]++:k[++t]=1,r=n;i+=R(t)}return i})())<r&&(r=t,d=n),7!=d);n++)I=x.slice(0);for(d!=n&&y(d),r=be.fmtword[d+(p-1<<3)],n=0;n<8;n++,r>>=1)1&r&&(I[m-1-n+8*m]=1,n<6?I[8+m*n]=1:I[8+m*(n+1)]=1);for(n=0;n<7;n++,r>>=1)1&r&&(I[8+m*(m-7+n)]=1,n?I[6-n+8*m]=1:I[7+8*m]=1);return I},t.init=function(){p=t.ecclevel;var e=t.genframe(t.url);t.toTable?t.tableWrite(e,m):t.canvasWrite(e,m)},t.init()}be.prototype={canvasWrite:function(e,t){var r=this;if(r.qrc||(r.qrc=r.getContext(r.domElement),r.qrc)){var n=r.size,i=r.qrc,a=(i.lineWidth=1,n),o=(a/=t+10,a=Math.round(a-.5),4);r.noBorder?(i.canvas.width=i.canvas.height=a*t,o=0):i.canvas.width=i.canvas.height=n,i.clearRect(0,0,n,n),i.fillStyle=r.colorLight,i.fillRect(0,0,a*(t+8),a*(t+8)),i.fillStyle=r.colorDark;for(var s=0;s<t;s++)for(var c=0;c<t;c++)e[c*t+s]&&i.fillRect(a*(o+s),a*(o+c),a,a)}else r.toTable=!0,r.domElement=document.createElement("div"),r.tableWrite(e,t)},tableWrite:function(e,t){var r=this,n=Math.round(this.size/t-3.5)+"px",i=t+(r.noBorder?0:2*r.borderSize),a=r.borderSize,o="width:"+n+";height:"+n+";",s=r.colorLight,c=r.colorDark,l=document.createElement("table");l.style.cssText="border:0;border-collapse:collapse;";for(var u=document.createElement("tr"),d=document.createElement("td"),f=function(){return d.cloneNode()},h=function(){var e=f();return e.style.cssText=o+"background:"+s,e},y=0;y<t;y++){var p=u.cloneNode();l.appendChild(p);for(var g,m=0;m<t;m++)1===e[y*t+m]?(g=void 0,(g=f()).style.cssText=o+"background:"+c,p.appendChild(g)):(g=h(),p.appendChild(g));if(!r.noBorder){v=void 0;w=void 0;b=void 0;var v=p;for(var w=v.firstChild,b=0;b<a;b++)v.insertBefore(h(),w),v.appendChild(h())}}if(!r.noBorder)for(var S=l,x=S.firstChild,E=0;E<r.borderSize;E++){for(var I=u.cloneNode(),C=0;C<i;C++){var k=h();I.appendChild(k)}S.appendChild(I),S.insertBefore(I.cloneNode(!0),x)}r.domElement.innerHTML="",r.domElement.appendChild(l)},getContext:function(e){return e.getContext&&e.getContext("2d")?e.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(e){if(this.qrc){var t,r=this.imageTypes[e];if(r)return(t=new Image).src=this.domElement.toDataURL(r),t;throw new Error(e+" is not a valid image type ")}}},be.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],be.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],be.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],be.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],be.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],be.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],be.N1=3,be.N2=3,be.N3=40,be.N4=10;let z=be;({log:_r,olog:Rr}=ce("qrdisplaymodule"));var jr=null,Vr=function(){var e,t;_r("qrdisplaymodule.initialize"),t=window.innerWidth,_r(t=t<(e=window.innerHeight-100)?t:e),jr=new z({url:"",size:t,toTable:!1,ecclevel:3,noBorder:!0}),qrdisplayQr.appendChild(jr.domElement),qrdisplayBackground.addEventListener("click",Fr)},Fr=function(){_r("qrClicked"),qrdisplayBackground.classList.remove("active")},Wr=function(e){_r("qrdisplaymodule.displayCode"),_r(e),jr.url=e,qrdisplayContent.textContent=e,jr.init(),qrdisplayBackground.classList.add("active")};class qe{constructor(t,e,r,n,i){this._legacyCanvasSize=qe.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),r&&"object"==typeof r?this._onDecode=e:(r||n||i?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=e),this._onDecodeError=(e="object"==typeof r?r:{}).onDecodeError||("function"==typeof r?r:this._onDecodeError),this._calculateScanRegion=e.calculateScanRegion||("function"==typeof n?n:this._calculateScanRegion),this._preferredCamera=e.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize="number"==typeof r?r:"number"==typeof n?n:this._legacyCanvasSize,this._maxScansPerSecond=e.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0;let a=!(t.muted=!0);if(t.hidden&&(t.hidden=!1,a=!0),document.body.contains(t)||(document.body.appendChild(t),a=!0),r=t.parentElement,e.highlightScanRegion||e.highlightCodeOutline){if(n=!!e.overlay,this.$overlay=e.overlay||document.createElement("div"),(i=this.$overlay.style).position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!n&&e.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(t){}r.insertBefore(this.$overlay,this.$video.nextSibling)}e.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{var e=window.getComputedStyle(t);"none"===e.display&&(t.style.setProperty("display","block","important"),a=!0),"visible"!==e.visibility&&(t.style.setProperty("visibility","visible","important"),a=!0),a&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=qe.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await qe.listCameras(!1)).length}catch(e){return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t,r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);try{e&&(await r()).every(e=>!e.label)&&(t=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(e){}try{return(await r()).map((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":"Camera "+(t+1))}))}finally{t&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),qe._stopVideoStream(t))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),qe._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active)&&!this._paused)try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),qe._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{var{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?qe._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");var t=()=>{this.$video.srcObject instanceof MediaStream&&(qe._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return(e||(await new Promise(e=>setTimeout(e,300)),!!this._paused))&&(t(),!0)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(r,n,i,l,a=!1,o=!1){let u,s=!1;n&&("scanRegion"in n||"qrEngine"in n||"canvas"in n||"disallowCanvasResizing"in n||"alsoTryWithoutScanRegion"in n||"returnDetailedScanResult"in n)?(u=n.scanRegion,i=n.qrEngine,l=n.canvas,a=n.disallowCanvasResizing||!1,o=n.alsoTryWithoutScanRegion||!1,s=!0):n||i||l||a||o?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),n=!!i;try{let e,c,t;if([i,e]=await Promise.all([i||qe.createQrEngine(),qe._loadImage(r)]),[l,c]=qe._drawToCanvas(e,u,l,a),i instanceof Worker){let s=i;n||qe._postWorkerMessageSync(s,"inversionMode","both"),t=await new Promise((t,r)=>{let n,i,a,o=-1;i=e=>{e.data.id===o&&(s.removeEventListener("message",i),s.removeEventListener("error",a),clearTimeout(n),null!==e.data.data?t({data:e.data.data,cornerPoints:qe._convertPoints(e.data.cornerPoints,u)}):r(qe.NO_QR_CODE_FOUND))},a=e=>{s.removeEventListener("message",i),s.removeEventListener("error",a),clearTimeout(n),r("Scanner error: "+(e?e.message||e:"Unknown Error"))},s.addEventListener("message",i),s.addEventListener("error",a),n=setTimeout(()=>a("timeout"),1e4);var e=c.getImageData(0,0,l.width,l.height);o=qe._postWorkerMessageSync(s,"decode",e,[e.data.buffer])})}else t=await Promise.race([new Promise((e,t)=>window.setTimeout(()=>t("Scanner error: timeout"),1e4)),(async()=>{try{var[t]=await i.detect(l);if(t)return{data:t.rawValue,cornerPoints:qe._convertPoints(t.cornerPoints,u)};throw qe.NO_QR_CODE_FOUND}catch(e){if(t=e.message||e,/not implemented|service unavailable/.test(t))return qe._disableBarcodeDetector=!0,qe.scanImage(r,{scanRegion:u,canvas:l,disallowCanvasResizing:a,alsoTryWithoutScanRegion:o});throw"Scanner error: "+t}})()]);return s?t:t.data}catch(n){var e;if(u&&o)return e=await qe.scanImage(r,{qrEngine:i,canvas:l,disallowCanvasResizing:a}),s?e:e.data;throw n}finally{n||qe._postWorkerMessage(i,"close")}}setGrayscaleWeights(e,t,r,n=!0){qe._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:r,useIntegerApproximation:n})}setInversionMode(e){qe._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){var t;return e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>oe.e(175).then(oe.bind(oe,175)).then(e=>e.createWorker()),!(!qe._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code"))||(t=navigator.userAgentData)&&t.brands.some(({brand:e})=>/Chromium/i.test(e))&&/mac ?OS/i.test(t.platform)&&await t.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:e,platformVersion:t})=>/arm/i.test(e||"arm")&&13<=parseInt(t||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){var t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,r=e.videoHeight,n=e.offsetWidth,i=e.offsetHeight,a=e.offsetLeft,o=e.offsetTop,s=(y=window.getComputedStyle(e)).objectFit,c=t/r,l=n/i;switch(s){case"none":var u=t,d=r;break;case"fill":u=n,d=i;break;default:("cover"===s?l<c:c<l)?u=(d=i)*c:d=(u=n)/c,"scale-down"===s&&(u=Math.min(u,t),d=Math.min(d,r))}var[f,h]=y.objectPosition.split(" ").map((e,t)=>{var r=parseFloat(e);return e.endsWith("%")?(t?i-d:n-u)*r/100:r}),y=this._scanRegion.width||t,l=this._scanRegion.height||r,s=this._scanRegion.x||0,p=this._scanRegion.y||0;(c=this.$overlay.style).width=y/t*u+"px",c.height=l/r*d+"px",c.top=o+h+p/r*d+"px",r=/scaleX\(-1\)/.test(e.style.transform),c.left=a+(r?n-f-u:f)+(r?t-s-y:s)/t*u+"px",c.transform=e.style.transform}})}static _convertPoints(e,t){if(t){var r,n=t.x||0,i=t.y||0,a=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(r of e)r.x=r.x*a+n,r.y=r.y*t+i}return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(this.$video.readyState<=1)){var t=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;t<r&&await new Promise(e=>setTimeout(e,r-t)),this._lastScanTimestamp=Date.now();try{var e=await qe.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(t){if(!this._active)return;this._onDecodeError(t)}!qe._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=qe.createQrEngine()),e?(this._onDecode?this._onDecode(e):this._legacyOnDecode&&this._legacyOnDecode(e.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} `+(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",e.cornerPoints.map(({x:e,y:t})=>e+","+t).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==qe.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(navigator.mediaDevices){let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",e=[{width:{min:1024}},{width:{min:768}},{}],r=e.map(e=>Object.assign({},e,{[t]:{exact:this._preferredCamera}}));for(var n of[...r,...e])try{var i=await navigator.mediaDevices.getUserMedia({video:n,audio:!1});return{stream:i,facingMode:this._getFacingMode(i)||(n.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")}}catch(e){}}throw"Camera not found."}async _restartVideoStream(){var e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(var t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,r,n=!1){r=r||document.createElement("canvas");var i=t&&t.x?t.x:0,a=t&&t.y?t.y:0,o=t&&t.width?t.width:e.videoWidth||e.width,s=t&&t.height?t.height:e.videoHeight||e.height;return n||(n=t&&t.downScaledWidth?t.downScaledWidth:o,t=t&&t.downScaledHeight?t.downScaledHeight:s,r.width!==n&&(r.width=n),r.height!==t&&(r.height=t)),(t=r.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,i,a,o,s,0,0,r.width,r.height),[r,t]}static async _loadImage(e){if(e instanceof Image)return await qe._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(!(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e))throw"Unsupported image type.";var t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await qe._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}static async _awaitImageLoad(i){i.complete&&0!==i.naturalWidth||await new Promise((t,r)=>{let n=e=>{i.removeEventListener("load",n),i.removeEventListener("error",n),e instanceof ErrorEvent?r("Image load error"):t()};i.addEventListener("load",n),i.addEventListener("error",n)})}static async _postWorkerMessage(e,t,r,n){return qe._postWorkerMessageSync(await e,t,r,n)}static _postWorkerMessageSync(e,t,r,n){var i;return e instanceof Worker?(i=qe._workerMessageId++,e.postMessage({id:i,type:t,data:r},n),i):-1}}qe.DEFAULT_CANVAS_SIZE=400,qe.NO_QR_CODE_FOUND="No QR code found",qe._disableBarcodeDetector=!1,qe._workerMessageId=0;let a=qe;var Jr,Se,Zr,xe,Qr,Gr,Xr,Yr,Ee,en,tn,rn,nn,an,on,sn,Ie,cn,ln,un,dn,fn,hn="0.0.1",yn=["https://secrets.dotv.ee","https://secrets-dev.dotv.ee"],pn=0,gn=["https://data.dotv.ee","https://data-dev.dotv.ee"],mn=1,vn=["https://kraken-observer.dotv.ee","https://localhost:6999","https://localhost:6969"],wn=3,bn=["https://situation-analyzer.dotv.ee","https://localhost:6999","https://localhost:6969"],Sn=2,xn=({log:xe,olog:Qr}=ce("qrreadermodule"),Se=Jr=null,Zr=!1,async function(){xe("qrreadermodule.initialize"),Zr=await a.hasCamera(),xe(Zr),Zr&&(Jr=new a(qrreaderVideoElement,En,{maxScansPerSecond:5,highlightCodeOutline:!0}),qrreaderBackground.addEventListener("click",kn))}),En=function(e){if(xe("dataRead"),null!=Se){if(e=e.data,xe(e.length),Qr(e),ze.qrScanNoFilter)return In(e);try{return Cn(e)}catch(e){Pr(e.message)}}},In=function(e){xe("resolveRawData"),Se(e),Se=null,Jr.stop(),qrreaderBackground.classList.remove("active")},Cn=function(e){if(xe("extractHexCodeKey"),64===(e=66===e.length&&"0"===e[0]&&"x"===e[1]?Mr(e):e).length&&$r(e))return In(e);throw new Error("Invalid Key!")},kn=function(){xe("readerClicked"),Jr.stop(),null!=Se&&Se(null),Se=null,qrreaderBackground.classList.remove("active")},An=function(){if(xe("qrreadermodule.read"),Zr)return Jr.start(),qrreaderBackground.classList.add("active"),new Promise(function(e){return Se=e});Pr("We don't have a Camera!")},Bn=({log:Ie,olog:cn}=ce("accountsettingsmodule"),an=document.getElementById("id-display"),on=document.getElementById("id-qr-button"),Xr=document.getElementById("add-key-button"),en=document.getElementById("delete-key-button"),sn=document.getElementById("import-key-input"),Gr=document.getElementById("accept-key-button"),un=document.getElementById("qr-scan-import"),rn=document.getElementById("floating-import"),fn=document.getElementById("signature-import"),Yr=document.getElementById("copy-export"),ln=document.getElementById("qr-export"),tn=document.getElementById("floating-export"),dn=document.getElementById("signature-export"),Ee=nn=null,async function(){Ie("initialize"),nn=an.getElementsByClassName("display-frame-content")[0],an.addEventListener("click",Nn),on.addEventListener("click",Kn),Xr.addEventListener("click",Tn),en.addEventListener("click",Ln),sn.addEventListener("change",Un),Gr.addEventListener("click",Pn),un.addEventListener("click",qn),rn.addEventListener("click",Mn),fn.addEventListener("click",Dn),Yr.addEventListener("click",$n),ln.addEventListener("click",zn),tn.addEventListener("click",jn),dn.addEventListener("click",Vn),Rn(),ve.addOnChangeListener("publicKeyHex",Rn),ve.addOnChangeListener("secretManagerURL",_n),await Hn()}),Hn=async function(){var e;Ie("createCurrentClient");try{e={secretKeyHex:Mr(ve.load("secretKeyHex")),publicKeyHex:Mr(ve.load("publicKeyHex")),serverURL:ve.get("secretManagerURL")},Ee=await mr(e)}catch(e){Ie(e)}},_n=function(){var e;Ie("onServerURLChanged"),e=ve.get("secretManagerURL"),secretManagerClient.updateServerURL(e)},Rn=function(){var e;Ie("syncIdFromState"),e=ve.load("publicKeyHex"),Ie("idHex is "+e),$r(e)?(On(e),accountsettings.classList.remove("no-key")):(On(""),accountsettings.classList.add("no-key"))},On=function(e){Ie("displayId"),nn.textContent=qr(e)},Nn=function(){Ie("idDisplayClicked"),zr(nn.textContent)},Kn=function(){Ie("idDisplayClicked"),Wr(nn.textContent)},Tn=async function(){var t;Ie("addKeyButtonClicked");try{t=ve.load("secretManagerURL"),await(Ee=mr({serverURL:t})).keysReady,Ie("publicKeyHex: "+Ee.publicKeyHex),Ie("secretKeyHex: "+Ee.secretKeyHex),ve.save("secretKeyHex",Ee.secretKeyHex),ve.save("publicKeyHex",Ee.publicKeyHex),ve.save("accountId",Ee.publicKeyHex)}catch(e){Ie(`Error when trying to create a new client on ${t}
`+e.message)}},Ln=function(){Ie("deleteKeyButtonClicked"),Ee=null,ve.save("publicKeyHex",""),ve.save("secretKeyHex",""),ve.save("accountId","")},Un=function(){var e;Ie("importKeyInputChanged"),e=$r(sn.value),Ie("input is valid key: "+e),e?accountsettings.classList.add("importing"):accountsettings.classList.remove("importing")},Pn=async function(){var e;Ie("acceptKeyButtonClicked"),e=Mr(sn.value),$r(e)&&(ve.load("secretManagerURL"),Ee=await mr(e),ve.save("secretKeyHex",Ee.secretKeyHex),ve.save("publicKeyHex",Ee.publicKeyHex),ve.save("accountId",Ee.publicKeyHex),sn.value="",Un())},qn=async function(){var e;Ie("qrScanImportClicked");try{e=await An(),sn.value=e,Un()}catch(e){Ie(e)}},Mn=function(){Ie("floatingImportClicked")},Dn=function(){Ie("signatureImportClicked")},$n=function(){var e;Ie("copyExportClicked"),e=ve.get("secretKeyHex"),zr(e)},zn=function(){var e;Ie("qrExportClicked"),e=ve.get("secretKeyHex"),Wr(e)},jn=function(){Ie("floatingExportClicked")},Vn=function(){Ie("signatureExportClicked")},Fn=function(){return Ee};let h=2n**255n-19n,y=2n**252n+27742317777372353535851937790883648493n,o=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,p=0x6666666666666666666666666666666666666666666666666666666666666658n,g={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:h,n:y,h:8,Gx:o,Gy:p},m=(e="")=>{throw new Error(e)},v=e=>"string"==typeof e,w=(e,t)=>{return!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name)||"number"==typeof t&&0<t&&e.length!==t?m("Uint8Array of valid length expected"):e;var r},b=e=>new Uint8Array(e),x=(e,t)=>w(v(e)?A(e):b(w(e)),t),E=(e,t=h)=>{e%=t;return 0n<=e?e:t+e},j=e=>e instanceof Me?e:m("Point expected");class Me{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n}static fromAffine(e){return new Me(e.x,e.y,1n,E(e.x*e.y))}static fromHex(e,t=!1){var r=g.d,n=(e=x(e,32)).slice(),e=e[31],n=(n[31]=-129&e,B(n)),i=(!t||0n<=n&&n<2n**256n||m("bad y coord 1"),t||0n<=n&&n<h||m("bad y coord 2"),E(n*n)),a=E(i-1n),r=E(r*i+1n);let{isValid:o,value:s}=Z(a,r);o||m("bad y coordinate 3");i=1n===(1n&s),a=!!(128&e);return!t&&0n===s&&a&&m("bad y coord 3"),a!=i&&(s=E(-s)),new Me(s,n,1n,E(s*n))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){var{ex:t,ey:r,ez:n}=this,{ex:e,ey:i,ez:a}=j(e),t=E(t*a),e=E(e*n),r=E(r*a),a=E(i*n);return t===e&&r===a}is0(){return this.equals(C)}negate(){return new Me(E(-this.ex),this.ey,this.ez,E(-this.et))}double(){var{ex:e,ey:t,ez:r}=this,n=g.a,i=E(e*e),a=E(t*t),r=E(2n*E(r*r)),n=E(n*i),e=e+t,t=E(E(e*e)-i-a),e=n+a,i=e-r,r=n-a,n=E(t*i),a=E(e*r),t=E(t*r),r=E(i*e);return new Me(n,a,r,t)}add(e){var{ex:t,ey:r,ez:n,et:i}=this,{ex:e,ey:a,ez:o,et:s}=j(e),{a:c,d:l}=g,u=E(t*e),d=E(r*a),i=E(i*l*s),l=E(n*o),s=E((t+r)*(e+a)-u-d),n=E(l-i),o=E(l+i),t=E(d-c*u),r=E(s*n),e=E(o*t),a=E(s*t),l=E(n*o);return new Me(r,e,l,a)}mul(t,r=!0){if(0n===t)return!0===r?m("cannot multiply by 0"):C;if("bigint"==typeof t&&0n<t&&t<y||m("invalid scalar, must be < L"),!r&&this.is0()||1n===t)return this;if(this.equals(I))return ne(t).p;let n=C,i=I;for(let e=this;0n<t;e=e.double(),t>>=1n)1n&t?n=n.add(e):r&&(i=i.add(e));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(g.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(y/2n,!1).double();return(e=e.add(this)).is0()}toAffine(){var e,{ex:t,ey:r,ez:n}=this;return this.equals(C)?{x:0n,y:1n}:(e=W(n),1n!==E(n*e)&&m("invalid inverse"),{x:E(t*e),y:E(r*e)})}toRawBytes(){var{x:e,y:t}=this.toAffine(),t=F(t);return t[31]|=1n&e?128:0,t}toHex(){return k(this.toRawBytes())}}Me.BASE=new Me(o,p,1n,E(o*p)),Me.ZERO=new Me(0n,1n,1n,0n);let{BASE:I,ZERO:C}=Me,V=(e,t)=>e.toString(16).padStart(t,"0"),k=e=>Array.from(e).map(e=>V(e,2)).join(""),A=t=>{var e=t.length,r=((!v(t)||e%2)&&m("hex invalid 1"),b(e/2));for(let e=0;e<r.length;e++){var n=2*e,n=t.slice(n,2+n),n=Number.parseInt(n,16);(Number.isNaN(n)||n<0)&&m("hex invalid 2"),r[e]=n}return r},F=e=>A(V(e,64)).reverse(),B=e=>BigInt("0x"+k(b(w(e)).reverse())),H=(...e)=>{let t=b(e.reduce((e,t)=>e+w(t).length,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t},W=(e,t=h)=>{(0n===e||t<=0n)&&m("no inverse n="+e+" mod="+t);let i=E(e,t),a=t,o=0n,s=1n,c=1n,l=0n;for(;0n!==i;){let e=a/i,t=a%i,r=o-c*e,n=s-l*e;a=i,i=t,o=c,s=l,c=r,l=n}return 1n===a?E(o,t):m("no inverse")},_=(e,t)=>{let r=e;for(;0n<t--;)r=(r*=r)%h;return r},J=19681161376707505956807079304988542015446066515923890162744021073123829784752n,Z=(e,t)=>{var r=E(t*t*t),n=(s=e*E(r*r*t),a=s*s%h*s%h,a=_(a,2n)*a%h,a=_(a,1n)*s%h,a=_(a,5n)*a%h,o=_(a,10n)*a%h,o=_(o,20n)*o%h,o=_(o,40n)*o%h,n=_(o,80n)*o%h,n=_(n,80n)*o%h,o=_(n,10n)*a%h,_(o,2n)*s%h);let i=E(e*r*n);var a=E(t*i*i),o=i,s=E(i*J),r=a===e,n=a===E(-e),t=a===E(-e*J);return r&&(i=o),(n||t)&&(i=s),{isValid:r||n,value:i=1n===(1n&E(i))?E(-i):i}},R=e=>E(B(e),y),O,N=(...e)=>K.sha512Async(...e),Q=(...e)=>"function"==typeof O?O(...e):m("etc.sha512Sync not set"),G=e=>{var t=e.slice(0,32),e=(t[0]&=248,t[31]&=127,t[31]|=64,e.slice(32,64)),r=R(t),n=I.mul(r),i=n.toRawBytes();return{head:t,prefix:e,scalar:r,point:n,pointBytes:i}},X=e=>N(x(e,32)).then(G),Y=e=>X(e).then(e=>e.pointBytes);function Wn(e,t){return e?N(t.hashable).then(t.finish):t.finish(Q(t.hashable))}let ee={zip215:!0},te=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,K={bytesToHex:k,hexToBytes:A,concatBytes:H,mod:E,invert:W,randomBytes:(e=32)=>{var t=te();return t&&t.getRandomValues||m("crypto.getRandomValues must be defined"),t.getRandomValues(b(e))},sha512Async:async(...e)=>{var t=te(),e=(t&&t.subtle||m("crypto.subtle or etc.sha512Async must be defined"),H(...e));return b(await t.subtle.digest("SHA-512",e.buffer))},sha512Sync:void 0},re=void Object.defineProperties(K,{sha512Sync:{configurable:!1,get:()=>O,set(e){O=O||e}}}),ne=r=>{var n=re=re||(()=>{var t=[];let r=I,n=r;for(let e=0;e<33;e++){n=r,t.push(n);for(let e=1;e<128;e++)n=n.add(r),t.push(n);r=n.double()}return t})(),i=(e,t)=>{var r=t.negate();return e?r:t};let a=C,o=I;var s=BigInt(255),c=BigInt(8);for(let t=0;t<33;t++){var l=128*t;let e=Number(r&s);r>>=c,128<e&&(e-=256,r+=1n);var u=l,l=l+Math.abs(e)-1,d=t%2!=0,f=e<0;0===e?o=o.add(i(d,n[u])):a=a.add(i(f,n[l]))}return{p:a,f:o}};async function Jn(e){return e="string"==typeof e?Or(e):e,e=await ri.digest("SHA-512",e),Nr(e)}async function Zn(e){return e="string"==typeof e?Or(e):e,new Uint8Array(await ri.digest("SHA-512",e))}async function Qn(e){return e=await Y(e),Nr(e)}async function Gn(e,t){return e=await(async(e,t)=>{e=x(e),t=await X(t);return Wn(!0,((e,t,r)=>{let{pointBytes:n,scalar:i}=e,a=R(t),o=I.mul(a).toRawBytes();return{hashable:H(o,n,r),finish:e=>{e=E(a+R(e)*i,y);return w(H(o,F(e)),64)}}})(t,await N(t.prefix,e),e))})(Or(e),we(t)),Nr(e)}async function Xn(e,t,r){var n,e=we(e),t=we(t),r=Or(r);return e=e,r=r,t=t,n=ee,Wn(!0,((e,t,r,n)=>{t=x(t),e=x(e,64);let i=n.zip215,a,o,s,c,l=new Uint8Array;try{a=Me.fromHex(r,i),o=Me.fromHex(e.slice(0,32),i),s=B(e.slice(32,64)),c=I.mul(s,!1),l=H(o.toRawBytes(),a.toRawBytes(),t)}catch(e){}return{hashable:l,finish:e=>null!=c&&!(!i&&a.isSmallOrder())&&(e=R(e),o.add(a.mul(e,!1)).add(c.negate()).clearCofactor().is0())}})(e,r,t,n))}async function Yn(e,t){var t=Me.fromHex(t),r=K.randomBytes(32),n=ai(await Zn(r)),r=await Y(r),t=t.multiply(n),n=await Jn(t.toRawBytes());return t=e,n=(e=n).substring(0,32),e=e.substring(32,96),n=we(n),t=(e=>{var t,r,n,i,a,o,s,c,l,u,d,f=(e=Or(e)).length,h=new Uint8Array(1);for(window.crypto.getRandomValues(h),u=33+(127&h[0]),l=new Uint8Array(u),window.crypto.getRandomValues(l),f=(h=(s=3+u)+f)+(o=32-h%32),c=new Uint8Array(f),n=i=0,a=e.length;i<a;n=++i)t=e[n],c[n+s]=t;for(d=0,n=32;n--;)d+=l[n],c[n]=l[n];for(c[2+u]=o,n=0,r=f-1;n<o;)c[r-n]=l[n],n++;for(n=32;n<u;)l[n+1]+=d===256*l[n]+l[n+1],d+=l[n],c[n]=l[n],n++;return c[u]=d>>8,c[1+u]=d%256,c[u]===c[u-1]&&c[1+u]===2*c[u]&&(c[u-1]++,c[u]=++d>>8,c[1+u]=d%256),c})(t),e=await ii(e),n=await ri.encrypt({name:"AES-CBC",iv:n},e,t),e=await Nr(n),{referencePointHex:Nr(r),encryptedContentHex:e}}async function ei(e,t){var r=e.referencePointHex||e.referencePoint,e=e.encryptedContentHex||e.encryptedContent;if(null==r||null==e)throw new Error("Invalid secrets Object!");return t=we(t),t=ai(await Zn(t)),r=Me.fromHex(r).multiply(t),(async(e,t)=>{for(var r,n,i,a,o=t.substring(0,32),t=t.substring(32,96),o=we(o),e=we(e),t=await ii(t),o=await ri.decrypt({name:"AES-CBC",iv:o},t,e),s=new Uint8Array(o),c=(e=160<(t=s.length)?160:t)+1,l=0,u=32;u--;)l+=s[u];for(u=32;u<c;){if(l===256*s[u]+s[u+1]){a=u+3,i=s[u+2];break}l+=s[u],u++}if(e<u)throw new Error("Unsalt: No valid prefix ending found!");for(r=t-1,n=u=0;u<i;)n+=s[u]!==s[r-u],u++;if(n)throw new Error("Unsalt: Postfix and prefix did not match as expected!");return e=s=s.slice(a,r=t-i),xr.decode(e)})(e,await Jn(r.toRawBytes()))}async function ti(e,t,r=""){for(var n,i,a,o,e=we(e),e=ai(await Zn(e)),s=Me.fromHex(t).multiply(e).toRawBytes(),c=Or(r),l=new Uint8Array(s.length+c.length),u=i=0,d=s.length;i<d;u=++i)n=s[u],l[u]=n;for(u=a=0,o=c.length;a<o;u=++a)n=c[u],l[s.length+u]=n;return Jn(l)}var Ce,ri=window.crypto.subtle,ni=BigInt(2)**BigInt(252)+BigInt("27742317777372353535851937790883648493"),ii=async function(e){e=we(e);return ri.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt","encrypt"])},ai=function(e){var o;return(o=e.slice(0,32))[0]&=248,o[31]&=127,o[31]|=64,e=(e=>{for(var t,r,n=0n,i=r=0,a=(e=new Uint8Array(o)).length;r<a;i=++r)t=e[i],n+=BigInt(t)<<8n*BigInt(i);return n})(),oi(e)},oi=function(e,t=ni){return 0n<=(e=e%t)?e:e+t},si=async function(e){e="string"==typeof e?Or(e):e,e=await ri.digest("SHA-256",e);return Nr(e)},ci=Qn,li=Gn,ui=Xn,di=class{constructor(e){this.key=e.secretKeyHex,this.id=e.publicKeyHex,this.ctx=e.context,null==this.ctx&&(this.ctx="standard ThingyCryptoNode")}async sign(e){return li(e,this.key)}async verify(e,t){return ui(e,this.id,t)}async encrypt(e){return Yn(e,this.id)}async decrypt(e){return ei(e,this.key)}async diffieHellmanFor(e,t,r){t=`${t}:${this.ctx}_`+r;return ti(this.key,e,t)}},fi=-32023;function hi(e){var t;if(e!==(t=(t=Date.now())-t%Si)&&e!==(t-=Si)&&e!==(t+=36e4))throw new Error("Invalid Timestamp!")}function yi(){var e;return(e=Date.now())-e%Si}function pi(e,t){return t="string"!=typeof t?JSON.stringify(t):t,si(e+t)}(Ce=new Map).set(-32700,{message:"JSON Parse Error!"}),Ce.set(-32600,{message:"Request is invalid thingy-rpc!"}),Ce.set(-32601,{message:"Method not found!"}),Ce.set(fi,{message:"Authentication failed!"}),Ce.set(-32002,{message:"No free ressources available on the server!"}),Ce.set(-32602,{message:"Invalid params provided!"}),Ce.set(-32032,{message:"Execution error!"});var gi,mi,vi=class extends Error{constructor(e){super(e),this.name="NetworkError"}},wi=class extends Error{constructor(e){super(e),this.name="ResponseAuthError"}},bi=class extends Error{constructor(e,t){super(`${e}: (${e=t.code}) ${Ce.get(e).message} (${t.message})`),this.rpcCode=e,this.name="RPCError"}},Si=18e4,le=class{constructor(e){this.serverURL=e.serverURL,this.serverId=e.serverId,this.serverContext="thingy-rpc-post-connection",this.secretKeyHex=e.secretKeyHex,this.publicKeyHex=e.publicKeyHex,this.name="rpc-client"+xi(),this.requestId=0,this.sessions=new Array(4),this.anonymousToken=null,(this.publicToken=null)!=e.anonymousToken&&(this.anonymousToken=e.anonymousToken),null!=e.publicToken&&(this.publicToken=e.publicToken),null!=e.name&&(this.name=e.name),null!=e.serverContext&&(this.serverContext=e.serverContext)}updateServer(e,t,r){this.serverURL=e,this.serverId=t,this.serverContext=r,this.requestId=0,this.sessionInfo={}}updateKeys(e,t){this.secretKeyHex=e,this.publicKeyHex=t,this.requestId=0,this.sessionInfo={}}getServerURL(){return this.serverURL}async getServerId(){return null==this.serverId&&await this.requestNodeId("none"),this.serverId}getSecretKey(){return this.secretKeyHex}async getPublicKey(){return null==this.publicKeyHex&&(this.publicKeyHex=await ci(this.secretKeyHex)),this.publicKeyHex}doRPC(e,t,r){if(this.requestingNodeId&&"getNodeId"!==e)throw new Error("Cannot do regular RPCs while requesting NodeId!");switch(r){case"none":return ki(e,t,this);case"anonymous":return Ai(e,t,this);case"publicAccess":return Bi(e,t,this);case"tokenSimple":return Hi(e,t,this);case"tokenUnique":return _i(e,t,this);case"authCodeSHA2":return Ri(e,t,this);case"signature":case"clientSignature":case"masterSignature":return Ci(e,t,r,this);default:throw new Error(`doRPC: Unknown authType! '${r}'`)}}async requestNodeId(e){var t,r;if(this.requestingNodeId)throw new Error("Request for nodeId already pending!");if("tokenSimple"===e||"tokenUnique"===e||"authCodeSHA2"===e)throw new Error("Requesting nodeId inside session - don't do this!");this.requestingNodeId=!0,t={};try{r=await this.doRPC("getNodeId",t,e),this.serverId=r.nodeId}finally{this.requestingNodeId=!1}}},xi=function(){var e=Math.random();return Math.round(1e6*e)},Ei=async function(e,t){var r,n,i,a,t={method:"POST",credentials:"omit",body:t,headers:{"Content-Type":"application/json"}};try{return await(i=await fetch(e,t)).json()}catch(e){t=e,r="Error! RPC could not receive a JSON response!",a="No http-status could be provided!";try{a="HTTP-Status: "+i.status}catch(e){throw n=`No response could be retrieved!
Message: ${t.message}
Cause: `+t.cause,new vi(r+` 
${a} 
`+n)}throw n=`${a} 
Message: ${t.message} 
Cause: `+t.cause,new vi(r+` 
`+n)}},Ii=function(e){e.requestId=++e.requestId%1e7},Ci=async function(e,t,r,n){var i,a,o;if(Ii(n),a=await n.getPublicKey(),i=n.requestId,r={auth:{type:r,clientId:a,name:n.name,requestId:i,timestamp:yi(),signature:""},func:e,args:t},n.requestingNodeId||(o=await n.getServerId()),a=JSON.stringify(r),t=await Gn(a,n.secretKeyHex),a=a.replace('"signature":""','"signature":"'+t+'"'),(r=await Ei(n.serverURL,a)).error)throw new bi(e,r.error);return n.requestingNodeId&&(o=r.result.nodeId),await Ui(r,i,o),r.result},ki=async function(e,t,r){e=JSON.stringify({auth:null,func:e,args:t});if((t=await Ei(r.serverURL,e)).error)throw new bi(t.error);return t.result},Ai=async function(e,t,r){if(Ii(r),e={auth:{type:"anonymous",requestId:r.requestId,timestamp:yi(),requestToken:r.anonymousToken},func:e,args:t},t=JSON.stringify(e),(e=await Ei(r.serverURL,t)).error)throw new bi(e.error);return e.result},Bi=async function(e,t,r){var n,i;if(Ii(r),n=r.requestId,e={auth:{type:"publicAccess",clientId:await r.getPublicKey(),requestId:n,timestamp:yi(),requestToken:r.publicToken},func:e,args:t},t=JSON.stringify(e),r.requestingNodeId||(i=await r.getServerId()),(e=await Ei(r.serverURL,t)).error)throw new bi(e.error);return r.requestingNodeId&&(i=e.result.nodeId),Pi(e,n,i),e.result},Hi=async function(e,t,r){var n,i;if(await Ni(r),Ii(r),i=await r.getPublicKey(),n=r.requestId,i={auth:{type:"tokenSimple",clientId:i,name:r.name,requestId:n,timestamp:yi(),requestToken:r.sessions[0].token},func:e,args:t},t=JSON.stringify(i),i=await r.getServerId(),(t=await Ei(r.serverURL,t)).error)throw null!=t.error.code&&t.error.code===fi&&(r.sessions[0]=null),new bi(e,t.error);return await Pi(t,n,i),t.result},_i=async function(e,t,r){throw new Error("doTokenUniqueRPC: Not Implemented yet!")},Ri=async function(e,t,r){var n,i,a;if(await Li(r),Ii(r),a=r.sessions[2],i=await r.getPublicKey(),n=r.requestId,i={auth:{type:"authCodeSHA2",clientId:i,name:r.name,requestId:n,timestamp:yi(),requestAuthCode:""},func:e,args:t},t=await r.getServerId(),i=JSON.stringify(i),a=await pi(a.seedHex,i),i=i.replace('"requestAuthCode":""','"requestAuthCode":"'+a+'"'),(a=await Ei(r.serverURL,i)).error)throw null!=a.error.code&&a.error.code===fi&&(r.sessions[2]=null),new bi(e,a.error);return await qi(a,n,t,r),a.result},Oi=async function(e,t){var r;Ii(t),r={type:e,name:t.name};try{return await t.doRPC("startSession",r,"clientSignature")}catch(e){throw new Error("Explicit Start failed: "+e.message)}},Ni=async function(e){var t;if(null==e.sessions[0]||null==e.sessions[0].token)try{(t={}).token=await Ti(e),e.sessions[0]=t}catch(e){throw t="Could not establish a simple Token session! Details: "+e.message,new Error(t)}},Ki=async function(e,t){var r=t.serverContext;return ti(t.secretKeyHex,t.serverId,t.name+`:${r}_`+e)},Ti=function(e){return Oi("tokenSimple",e)},Li=async function(e){var t,r;if(null==e.sessions[2]||null==e.sessions[2].seedHex)try{t={},r=await Oi("authCodeSHA2",e),t.seedHex=await Ki(r,e),e.sessions[2]=t}catch(e){throw r="Could not establish an authCode with SHA2 session! Details: "+e.message,new Error(r)}},Ui=async function(e,t,r){var n,i,a,o,s;try{if(o=e.auth.signature,s=e.auth.timestamp,n=e.auth.requestId,a=e.auth.serverId,null==o)throw new Error("No Signature!");if(null==s)throw new Error("No Timestamp!");if(null==n)throw new Error("No RequestId!");if(null==a)throw new Error("No ServerId!");if(n!==t)throw new Error("RequestId Mismatch!");if(a!==r)throw new Error("ServerId Mismatch!");if(hi(s),e.auth.signature="",i=JSON.stringify(e),!await Xn(o,a,i))throw new Error("Invalid Signature!")}catch(e){throw new wi(e.message)}},Pi=function(e,t,r){var n,i,a;try{if(a=e.auth.timestamp,n=e.auth.requestId,i=e.auth.serverId,null==a)throw new Error("No Timestamp!");if(null==n)throw new Error("No RequestId!");if(null==i)throw new Error("No ServerId!");if(n!==t)throw new Error("RequestId Mismatch!");if(i!==r)throw new Error("ServerId Mismatch!");hi(a)}catch(e){throw new wi(e.message)}},qi=async function(e,t,r,n){var i,a,o,s,c,l;try{if(a=e.auth.responseAuthCode,l=e.auth.timestamp,i=e.auth.requestId,s=e.auth.serverId,null==a)throw new Error("No ResponseAuthCode!");if(null==l)throw new Error("No Timestamp!");if(null==i)throw new Error("No RequestId!");if(null==s)throw new Error("No ServerId!");if(i!==t)throw new Error("RequestId Mismatch!");if(s!==r)throw new Error("ServerId Mismatch!");if(hi(l),null==(c=n.sessions[2])||null==c.seedHex)throw new Error("Local session object has become invalid!");if(e.auth.responseAuthCode="",o=JSON.stringify(e),await pi(c.seedHex,o)!==a)throw new Error("AuthCodes did not Match!")}catch(e){throw new wi("authenticateServiceAuthCodeSHA2: "+e.message)}},Mi=class extends le{constructor(e){super(e)}addClient(e){return this.doRPC("addClientToServe",{clientPublicKey:e},"masterSignature")}removeClient(e){return this.doRPC("removeClientToServe",{clientPublicKey:e},"masterSignature")}getClients(){return this.doRPC("getClientsToServe",{},"masterSignature")}async getServerId(){return null==super.serverId&&await this.requestNodeId("masterSignature"),super.getServerId()}},Di={action:"pageload",timestamp:Date.now()},ke={lastNavAction:Di},Ae={},$i={base:"RootState",modifier:"none",context:null,depth:0,navAction:null},zi=null,ji=null,Be=!0,Vi=function(){},Fi=function(){},Wi=function(e){var t;if(!oa())return(async()=>{Be||(oa()?((Ae=history.state).navAction=na(),ke.lastNavAction=Ae.navAction,ca(ke),history.replaceState(Ae,"")):($i.navAction=Di,ke.lastNavAction=$i.navAction,ca(ke),history.replaceState($i,"")),await Ji(),Ae=history.state,la(Ae),Vi(Ae))})();Ae=history.state,t=ea(ke.lastNavAction),Ae.navAction=t?ke.lastNavAction:na(),history.replaceState(Ae,""),la(Ae),t?ra():"VOID"!==Ae.base&&Fi(Ae)},Ji=async function(){if("VOID"===Ae.base)try{Be=!0,await Xi(1)}finally{Be=!1}},Zi=function(e,t,r,n){Ae.base=e,Ae.modifier=t,Ae.context=r||null,Ae.navAction=n},Qi=function(e,t,r){var n=ia();Zi(e,t,r,n),Ae.depth=Ae.depth+1,ke.lastNavAction=n,ca(ke),history.pushState(Ae,""),la(Ae)},Gi=function(e,t,r){var n=ia();Zi(e,t,r,n),ke.lastNavAction=n,ca(ke),history.replaceState(Ae,""),la(Ae)},Xi=function(e){var t;if(null==zi&&!(0===Ae.depth||e>Ae.depth))return t=aa(),ke.lastNavAction=t,ca(ke),t=ta(t),history.go(-e),t},Yi=async function(){await Xi(Ae.depth),Qi("VOID","none"),await Xi(1)},ea=function(e){return"back"===e.action&&e.timestamp===ji},ta=function(e){return ji=e.timestamp,new Promise(function(e){return zi=e})},ra=function(){zi(),ji=zi=null},na=function(){return{action:"browserNav {refresh, back or forward}",timestamp:Date.now()}},ia=function(){return{action:"nav",timestamp:Date.now()}},aa=function(){return{action:"back",timestamp:Date.now()}},oa=function(){return sa(history.state)},sa=function(e){var t,r,n,i,a;if(null==e)return!1;if(i=Object.keys(e),a=Object.keys($i),i.length!==a.length)return!1;for(r=t=0,n=i.length;t<n;r=++t)if(i[r]!==a[r])return!1;return!0},ca=function(e){return sessionStorage.setItem("NAV_info",JSON.stringify(e))},la=function(e){};function ua(){(async e=>{var t;if(!Be){if(Ae.modifier,1===(t=Ae.depth)+1)return(async e=>{var t,r;if(!Be){if(await Ji(),t=Ae.base,r=Ae.modifier,t!==e)"none"===r?Qi(e,r,null):Gi(e,"none",null);else if("none"===r)Gi(e,"none",null);else try{Be=!0,await Xi(1),Gi(e,"none",null)}finally{Be=!1}Fi(Ae)}})(e);if(t<1)throw new Error("Our current depth is before the the newly specified depth. We don't dare to jump unto the unknown future!");t=t-1+1;try{Be=!0,await Xi(t),Qi(e,"none",null)}finally{Be=!1}Fi(Ae)}})("global-overview")}({log:gi,olog:mi}=ce("navtriggers")),{log:He,olog:Sa}=ce("masterkeymodule"),ya=null,ha="Auth Master UI",pa=da=ga=ma=xa=wa=ba="",fa=new Map;var da,fa,ha,ya,pa,ga,ma,He,va,wa,ba,Sa,xa,_e,Ea,Ia,Ca,ka,Aa,Ba,Ha=function(){He("initialize"),floatingSecretInput.addEventListener("change",Ta),floatingSecretInput.addEventListener("keyup",Oa),aliasInput.addEventListener("change",La),aliasInput.addEventListener("keyup",Na),aliasInput.addEventListener("keydown",Ka),acceptUseButton.addEventListener("click",Ra),masterkeydisplay.addEventListener("click",_a)},_a=function(){He("keyDisplayClicked"),content.className="set-master-key"},Ra=function(){He("acceptButtonClicked"),ua()},Oa=function(){He("floatingSecretKeyUpped"),ga===floatingSecretInput.value?floatingSecretInput.className=ma:floatingSecretInput.className="typing"},Na=function(){He("aliasKeyUpped"),pa===aliasInput.value?aliasInput.className=da:aliasInput.className="typing"},Ka=function(e){"Enter"===e.key&&Ra()},Ta=async function(){He("floatingSecretChanged"),floatingSecretInput.className="okay",ma="okay",va=await Dr(ga=floatingSecretInput.value),ba=await Qn(va),xa=await si(ha+"_"+ba),ya=new di({secretKeyHex:va,publicKeyHex:ba,context:ha}),await Wa(xa),wa=Ja(ba),Ua(),Pa(),aliasInput.focus()},La=function(){var t;He("aliasChanged"),pa=aliasInput.value,wa=pa;try{Qa(wa,ba),aliasInput.className="okay",da="okay"}catch(e){He(t=e),Pr(t.message),aliasInput.className="error",da="error"}Pa()},Ua=function(){var e;He("activateAndFillBottomGroup"),null!=(e=document.getElementsByClassName("passive")[0])&&e.classList.remove("passive"),keyIdDisplay.innerHTML="0x"+ba,storageIdDisplay.innerHTML=""+xa,wa?aliasInput.value=wa:(aliasInput.setAttribute("placeholder","Define Alias"),aliasInput.value="")},Pa=function(){He("updateMasterKeyHeadline"),masterkeyAlias.innerHTML=wa,masterkeyId.innerHTML="0x"+ba,masterkeyStorageId.innerHTML=xa},qa=function(){return null!=ya},Ma=function(e){return ya.encrypt(e)},Da=function(e){return ya.decrypt(e)},$a=function(e,t){var r,n,i,a=t+":"+(e+="/thingy-post-rpc");return null==(r=fa.get(a))&&(i=ya.key,n=ya.id,Sa(e={serverURL:e,serverId:t,secretKeyHex:i,publicKeyHex:n}),r=new Mi(e),fa.set(a,r)),r},za=function(){return xa},ja=function(){floatingSecretInput.focus()},Va=({log:Ia,olog:Ca}=ce("aliasmodule"),ka="",_e={},Ea={},function(){Ia("initialize")}),Fa=async function(){var e;Ia("saveAliases"),e=await Ma(JSON.stringify(_e)),ve.save(ka,e,!0)},Wa=async function(e){var t,r;if(Ia("loadForStorageId"),Ia(ka=e+"_aliases"),e=ve.load(ka),Ca({encrypted:e}),null==e||null==e.referencePointHex)_e={},Ea={};else{for(t in _e=JSON.parse(await Da(e)),Ca({aliasToId:_e}),_e)r=_e[t],Ea[r]=t;Ca({idsToAlias:Ea})}},Ja=function(e){return Ea[e]},Za=function(e){return _e[e]},Qa=function(e,t){var r;if(Ia("setAliasForId"),_e[e]!==t){if(null!=_e[e])throw new Error("Alias is already used!");r=Ea[t],_e[r]===t&&delete _e[r],_e[e]=t,Ea[t]=e,Fa()}};({log:Aa,olog:Ba}=ce("contentmodule"));var Ga,Xa,Ya,eo,Re,to,Oe,ro,no,io=function(){Aa("setToNoKeyState"),content.className="no-key"},ao=function(){Aa("setToGlobalOverviewState"),content.className="global-overview"},oo=function(e){Aa("setToStrategyOverviewState")},so=({log:Ya,olog:eo}=ce("uistatemodule"),Xa=Ga=null),co={"no-key":function(e){io(e)},"global-overview":function(e){ao(e)},"strategy-overview":function(e){oo(e)}},lo={none:function(e){},"delete-confirmation":function(e){}},uo=function(e,t,r){Ya("applyUIState"),so=r,null!=e&&fo(e),null!=t&&ho(t)},fo=function(e){var t;if(Ya("applyUIBaseState "+e),"function"!=typeof(t=co[e]))throw new Error(`on applyUIStateBase: base '${e}' apply function did not exist!`);Ga=e,t(so)},ho=function(e){var t;if(Ya("applyUIStateModifier "+e),t=lo[e],"function"!=typeof ho)throw new Error(`on applyUIStateModifier: modifier '${e}' apply function did not exist!`);Xa=e,t(so)},yo=function(){return Xa},po=function(){return Ga},go=function(){return so},mo=({log:Re,olog:to}=ce("appcoremodule"),Oe=null,"undefined"!=typeof navigator&&null!==navigator&&null!=navigator.serviceWorker&&(Oe=navigator.serviceWorker),document.getElementById("current-version")),vo=document.getElementById("new-version"),wo=document.getElementById("menu-version"),bo="no-key",So="none",xo=function(){Re("initialize"),"function"==typeof Eo&&(Vi=Eo),"function"==typeof Io&&(Fi=Io),window.addEventListener("popstate",Wi),null==sessionStorage.getItem("NAV_info")&&ca(ke),ke=JSON.parse(sessionStorage.getItem("NAV_info")),Be=!1,null!=mo&&(mo.textContent=hn),null!=Oe&&(Oe.register("serviceworker.js",{scope:"/"}),null!=Oe.controller&&Oe.controller.postMessage(`App is version: ${hn}!`),Oe.addEventListener("message",Ao),Oe.addEventListener("controllerchange",Bo))},Eo=function(e){if(Re("loadWithNavState"),to(e),!qa()&&0!==e.depth)return(async e=>{if(!Be){try{Be=!0,null!=e&&e?await Yi():await Xi(Ae.depth)}finally{Be=!1}Fi(Ae)}})(!0);Io(e)},Io=function(e){var t,r,n;Re("navStateUpdate"),t=e.base,n=e.modifier,r=e.context,ve.save("navState",e),Co(t,n,r)},Co=function(e,t,r){Re("setUIState"),"RootState"===e&&(e=qa()?"global-overview":"no-key",t="none"),ko(e,t,r),"delete-confirmation"===t&&Ho(r)},ko=function(e,t,r){Re("setAppState"),Re((bo=e?e:bo)+":"+(So=t?t:So)),to(r),uo(bo,So,r)},Ao=function(e){Re("  !  onServiceWorkerMessage"),"object"==typeof e.data&&null!=e.data.version&&(e=e.data.version)!==hn&&(vo.textContent=e,wo.classList.add("to-update"))},Bo=function(){Oe.controller.postMessage(`Hello I am version: ${hn}!`),Oe.controller.postMessage("tellMeVersion")},Ho=async function(e){Re("deleteConfirmationProcess");try{if(null==e.index)throw new Error("called deleteConfirmationProcess without server index to delete");await deleteConfirmation.userConfirmation(),Re("user confirmed!"),await servers.deleteServer(e.index),Re("server deleted!")}catch(e){Re(e)}finally{ua()}};({log:ro,olog:no}=ce("backendsettingsmodule"));var _o,Ro,Oo=function(){ro("initialize")};({log:_o,olog:Ro}=ce("datamanagersettingsmodule"));var No,Ko,To,Lo=function(){_o("initialize")},Uo={contentmodule:!0,rpctestclient:!0,testermodule:!0},Po=Uo;for(To in Po)Po[To]&&(at[To]=!0);({log:No,olog:Ko}=ce("functiontestermodule"));var qo,Mo,Do=function(){No("initialize"),latestOrdersButton.addEventListener("click",$o),latestTickersButton.addEventListener("click",zo),latestBalancesButton.addEventListener("click",jo)},$o=async function(e){var t;No("latestOrdersButtonClicked");try{t=await observerClient.getLatestOrders("aave-euro"),displayRegularOperationsResponseContainer.textContent=JSON.stringify(t,null,4),Ko(t),info("getLatestOrders appearently successful!")}catch(e){t="Error on trying to getLatestOrders: "+e.message,No(t),error(t)}},zo=async function(e){var t;No("latestTickersButtonClicked");try{t=await observerClient.getLatestTickers("aave-euro"),displayRegularOperationsResponseContainer.textContent=JSON.stringify(t,null,4),Ko(t),info("getLatestTickers appearently successful!")}catch(e){t="Error on trying to getLatestTickers: "+e.message,No(t),error(t)}},jo=async function(e){var t;No("latestBalancesButtonClicked");try{t=await observerClient.getLatestBalances("euro"),displayRegularOperationsResponseContainer.textContent=JSON.stringify(t,null,4),Ko(t),info("getLatestBalances appearently successful!")}catch(e){t="Error on trying to getLatestBalances: "+e.message,No(t),error(t)}},Vo=({log:qo,olog:Mo}=ce("observerclientmodule"),function(e){return qo("createClient"),Mo(e)}),Fo=Object.prototype.toString,Wo=Array.isArray||function(e){return"[object Array]"===Fo.call(e)};function Jo(e){return"function"==typeof e}function Zo(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Qo(e,t){return null!=e&&"object"==typeof e&&t in e}var Go=RegExp.prototype.test,Xo=/\S/,Yo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},es=/\s*/,ts=/\s+/,rs=/\s*=/,ns=/\s*\}/,is=/#|\^|\/|>|\{|&|=|!/;function as(e){this.string=e,this.tail=e,this.pos=0}function os(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function Ne(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}as.prototype.eos=function(){return""===this.tail},as.prototype.scan=function(e){var e=this.tail.match(e);return e&&0===e.index?(e=e[0],this.tail=this.tail.substring(e.length),this.pos+=e.length,e):""},as.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},os.prototype.push=function(e){return new os(e,this)},os.prototype.lookup=function(e){var t,r,n,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var a,o,s,c=this,l=!1;c;){if(0<e.indexOf("."))for(a=c.view,o=e.split("."),s=0;null!=a&&s<o.length;)s===o.length-1&&(l=Qo(a,o[s])||(r=a,n=o[s],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(n))),a=a[o[s++]];else a=c.view[e],l=Qo(c.view,e);if(l){t=a;break}c=c.parent}i[e]=t}return t=Jo(t)?t.call(this.view):t},Ne.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},Ne.prototype.parse=function(e,R){var t=this.templateCache,r=e+":"+(R||Ke.tags).join(":"),n=void 0!==t,i=n?t.get(r):void 0;return null==i&&(i=(e=>{if(!e)return[];var t,r,n,i,a=!1,o=[],s=[],c=[],l=!1,u=!1,d="",f=0;function h(){if(l&&!u)for(;c.length;)delete s[c.pop()];else c=[];u=l=!1}function y(e){if("string"==typeof e&&(e=e.split(ts,2)),!Wo(e)||2!==e.length)throw new Error("Invalid tags: "+e);t=new RegExp(Zo(e[0])+"\\s*"),r=new RegExp("\\s*"+Zo(e[1])),n=new RegExp("\\s*"+Zo("}"+e[1]))}y(R||Ke.tags);for(var p,g,m,v,w,b,S=new as(e);!S.eos();){if(p=S.pos,m=S.scanUntil(t))for(var x=0,E=m.length;x<E;++x)i=v=m.charAt(x),Go.call(Xo,i)?(a=u=!0,d+=" "):(c.push(s.length),d+=v),s.push(["text",v,p,p+1]),p+=1,"\n"===v&&(h(),d="",f=0,a=!1);if(!S.scan(t))break;if(l=!0,g=S.scan(is)||"name",S.scan(es),"="===g?(m=S.scanUntil(rs),S.scan(rs),S.scanUntil(r)):"{"===g?(m=S.scanUntil(n),S.scan(ns),S.scanUntil(r),g="&"):m=S.scanUntil(r),!S.scan(r))throw new Error("Unclosed tag at "+S.pos);if(w=">"==g?[g,m,p,S.pos,d,f,a]:[g,m,p,S.pos],f++,s.push(w),"#"===g||"^"===g)o.push(w);else if("/"===g){if(!(b=o.pop()))throw new Error('Unopened section "'+m+'" at '+p);if(b[1]!==m)throw new Error('Unclosed section "'+b[1]+'" at '+p)}else"name"===g||"{"===g||"&"===g?u=!0:"="===g&&y(m)}if(h(),b=o.pop())throw new Error('Unclosed section "'+b[1]+'" at '+S.pos);for(var I,C=(e=>{for(var t,r,n=[],i=0,a=e.length;i<a;++i)(t=e[i])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n})(s),k=[],A=k,B=[],H=0,_=C.length;H<_;++H)switch((I=C[H])[0]){case"#":case"^":A.push(I),B.push(I),A=I[4]=[];break;case"/":B.pop()[5]=I[2],A=0<B.length?B[B.length-1][4]:k;break;default:A.push(I)}return k})(e),n)&&t.set(r,i),i},Ne.prototype.render=function(e,t,r,n){var i=this.getConfigTags(n),i=this.parse(e,i),t=t instanceof os?t:new os(t,void 0);return this.renderTokens(i,t,r,e,n)},Ne.prototype.renderTokens=function(e,t,r,n,i){for(var a,o,s,c="",l=0,u=e.length;l<u;++l)s=void 0,"#"===(o=(a=e[l])[0])?s=this.renderSection(a,t,r,n,i):"^"===o?s=this.renderInverted(a,t,r,n,i):">"===o?s=this.renderPartial(a,t,r,i):"&"===o?s=this.unescapedValue(a,t):"name"===o?s=this.escapedValue(a,t,i):"text"===o&&(s=this.rawValue(a)),void 0!==s&&(c+=s);return c},Ne.prototype.renderSection=function(e,t,r,n,i){var a=this,o="",s=t.lookup(e[1]);if(s){if(Wo(s))for(var c=0,l=s.length;c<l;++c)o+=this.renderTokens(e[4],t.push(s[c]),r,n,i);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)o+=this.renderTokens(e[4],t.push(s),r,n,i);else if(Jo(s)){if("string"!=typeof n)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,n.slice(e[3],e[5]),function(e){return a.render(e,t,r,i)}))&&(o+=s)}else o+=this.renderTokens(e[4],t,r,n,i);return o}},Ne.prototype.renderInverted=function(e,t,r,n,i){var a=t.lookup(e[1]);if(!a||Wo(a)&&0===a.length)return this.renderTokens(e[4],t,r,n,i)},Ne.prototype.indentPartial=function(e,t,r){for(var n=t.replace(/[^ \t]/g,""),i=e.split("\n"),a=0;a<i.length;a++)i[a].length&&(0<a||!r)&&(i[a]=n+i[a]);return i.join("\n")},Ne.prototype.renderPartial=function(e,t,r,n){if(r){var i,a,o,s=this.getConfigTags(n),c=Jo(r)?r(e[1]):r[e[1]];if(null!=c)return i=e[6],a=e[4],o=c,0==e[5]&&a&&(o=this.indentPartial(c,a,i)),e=this.parse(o,s),this.renderTokens(e,t,r,o,n)}},Ne.prototype.unescapedValue=function(e,t){t=t.lookup(e[1]);if(null!=t)return t},Ne.prototype.escapedValue=function(e,t,r){r=this.getConfigEscape(r)||Ke.escape,t=t.lookup(e[1]);if(null!=t)return("number"==typeof t&&r===Ke.escape?String:r)(t)},Ne.prototype.rawValue=function(e){return e[1]},Ne.prototype.getConfigTags=function(e){return Wo(e)?e:e&&"object"==typeof e?e.tags:void 0},Ne.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!Wo(e)?e.escape:void 0};var ss,cs,Ke={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){ls.templateCache=e},get templateCache(){return ls.templateCache}},ls=new Ne;Ke.clearCache=function(){return ls.clearCache()},Ke.parse=function(e,t){return ls.parse(e,t)},Ke.render=function(e,t,r,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(Wo(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return ls.render(e,t,r,n)},Ke.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return Yo[e]})},Ke.Scanner=as,Ke.Context=os,Ke.Writer=Ne;let ie=Ke;({log:ss,olog:cs}=ce("secretmanagersettingsmodule"));var us,ds,fs,hs,ys=[],ps=0,gs=function(){var e,t,r,n,i,a,o,s,c,l,u,d,f;for(ss("initialize"),t=0,o=(u=yn).length;t<o;t++)l=u[t],ys.push(l);if(ps=pn,f=ve.load("customSecretManagerOptions"),Array.isArray(f)&&0<f.length)for(i=0,s=u.length;i<s;i++)l=u[i],ys.push(l);for("number"==typeof(f=ve.load("secretManagerChoice"))&&0<=f&&f<ys.length&&(ps=f),e={options:[]},r=a=0,c=ys.length;a<c;r=++a)d=ys[r],n=r===ps,e.options.push({index:r,url:d,isSelected:n});f=ie.render('{{#options}}\n<option value="{{index}}" {{#isSelected}}selected{{/isSelected}}>\n    {{url}}\n</option>\n{{/options}}\n',e),secretmanagerOptions.innerHTML=f,secretmanagerOptions.addEventListener("change",ms)},ms=function(){ps=parseInt(secretmanagerOptions.value),ve.save("secretManagerChoice",ps)},vs=({log:us,olog:ds}=ce("settingsmodule"),document.getElementById("settings-button")),ws=document.getElementById("settingsoff-button"),bs=null,Ss=function(){var e,t,r,n,i,a,o,s;for(us("initialize"),vs.addEventListener("click",xs),ws.addEventListener("click",Es),r=0,a=(s=document.getElementsByClassName("settings-entry")).length;r<a;r++)n=(t=s[r]).id.replace("settingsentry-","settingspage-"),n=Is(n),t.addEventListener("click",n);for(i=0,o=(e=document.getElementsByClassName("settingspage-backbutton")).length;i<o;i++)e[i].addEventListener("click",ks)},xs=function(){return vs.classList.add("on"),document.body.classList.add("settings")},Es=function(){document.body.classList.remove("settings")},Is=function(e){var t=document.getElementById(e);return function(){return Cs(t)}},Cs=function(e){(bs=e).classList.add("here")},ks=function(){null!=bs&&(bs.classList.remove("here"),bs=null)};({log:fs,olog:hs}=ce("rpcpostclient"));var As,Bs,Hs,_s,Rs=class extends le{constructor(e){super(e)}testSignatureAuth(e){return this.doRPC("testSignatureAuth",{message:e},"signature")}testMasterSignatureAuth(e){return this.doRPC("testMasterSignatureAuth",{message:e},"masterSignature")}testClientSignatureAuth(e){return this.doRPC("testClientSignatureAuth",{message:e},"clientSignature")}testNoneAuth(e){return this.doRPC("testAnonymousAuth",{message:e},"none")}testAnonymousAuth(e){return this.doRPC("testAnonymousAuth",{message:e},"anonymous")}testPublicAccessAuth(e){return this.doRPC("testPublicAccessAuth",{message:e},"publicAccess")}testTokenSimpleAuth(e){return this.doRPC("testTokenSimpleAuth",{message:e},"tokenSimple")}testTokenUniqueAuth(e){return this.doRPC("testTokenUniqueAuth",{message:e},"tokenUnique")}testAuthCodeLightAuth(e){return this.doRPC("testAuthCodeLightAuth",{message:e},"tokenUnique")}testAuthCodeSHA2Auth(e){return this.doRPC("testAuthCodeSHA2Auth",{message:e},"authCodeSHA2")}},Te=({log:As,olog:Bs}=ce("testermodule"),{}),Os="",Ns="",Ks=null,Ts=async function(){var e,t;As("initialize"),null==(t=ve.load("secretKeyHex"))&&(e=await cryptoUtl.createKeyPairHex(),ve.save("secretKeyHex",e.secretKeyHex),ve.save("publicKeyHex",e.publicKeyHex),t=e.secretKeyHex),e=ve.load("publicKeyHex"),Bs(t={serverURL:"https://localhost:6969/thingy-post-rpc",serverId:"a8d9607f6cc919af3df3850084f63c9536efea790b3f80f514717d2a3a0159e6",secretKeyHex:t,publicKeyHex:e}),Ks=new Rs(t),$s()},Ls=async function(e){var t,r,n=`NoneAuthx${e} - `+Os;try{for(t=performance.now();e--;)await Ks.testNoneAuth(Ns);r=performance.now()-t+"ms",Te[n]=r}catch(e){Te[n]=e.message}},Us=async function(e){var t,r,n=`Anonymousx${e} - `+Os;try{for(t=performance.now();e--;)await Ks.testAnonymousAuth(Ns);r=performance.now()-t+"ms",Te[n]=r}catch(e){Te[n]=e.message}},Ps=async function(e){var t,r,n=`PublicAccessx${e} - `+Os;try{for(t=performance.now();e--;)await Ks.testPublicAccessAuth(Ns);r=performance.now()-t+"ms",Te[n]=r}catch(e){Te[n]=e.message}},qs=async function(e){var t,r,n=`Signaturex${e} - `+Os;try{for(t=performance.now();e--;)await Ks.testSignatureAuth(Ns);r=performance.now()-t+"ms",Te[n]=r}catch(e){Te[n]=e.message}},Ms=async function(e){var t,r,n=`TokenSimplex${e} - `+Os;try{for(t=performance.now();e--;)await Ks.testTokenSimpleAuth(Ns);r=performance.now()-t+"ms",Te[n]=r}catch(e){Te[n]=e.message}},Ds=async function(e){var t,r,n=`AuthCodeSHA2x${e} - `+Os;try{for(t=performance.now();e--;)await Ks.testAuthCodeSHA2Auth(Ns);r=performance.now()-t+"ms",Te[n]=r}catch(e){Te[n]=e.message}},$s=async function(){As("runTests"),Os="small",Ns="test",await Ls(10),await Us(10),await Ps(10),await qs(10),await Ms(10),await Ds(10),Bs(Te)},zs=({log:Hs,olog:_s}=ce("websocketmodule"),function(){Hs("initialize")});let T={accountsettingsmodule:Ve,aliasmodule:We,appcoremodule:Qe,backendsettingsmodule:Ge,configmodule:ze,contentmodule:Je,datamanagersettingsmodule:Xe,debugmodule:Ye,functiontestermodule:et,localkeymodule:Fe,messageboxmodule:se,observerclientmodule:tt,qrdisplaymodule:$e,qrreadermodule:je,secretmanagersettingsmodule:rt,settingsmodule:nt,statemodule:ve,testermodule:it,uistatemodule:Ze,utilsmodule:De,websocketmodule:ft},ae=oe(13);oe.n(ae)().initialize(),oe.g.allModules=T,async function(){var t,r,e=(()=>{var e=[];for(r in T)null!=(t=T[r]).initialize&&e.push(t.initialize());return e})();await Promise.all(e)}()}})()</script></body></html>